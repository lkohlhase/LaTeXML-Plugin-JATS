<?xml version="1.0" encoding="UTF-8"?>
<?latexml searchpaths="/home/lnk/Desktop/LaTeXML-Plugin-JATS/development"?>
<?latexml class="article" options="a4paper,12pt"?>
<?latexml package="natbib" options="numbers"?>
<?latexml package="amsthm"?>
<?latexml package="amsmath"?>
<?latexml package="amsthm"?>
<?latexml package="amssymb"?>
<?latexml package="hyperref"?>
<?latexml package="ifthen"?>
<?latexml package="natbib"?>
<?latexml package="color"?>
<?latexml package="graphicx"?>
<?latexml package="refcount"?>
<?latexml package="graphicx,comment"?>
<?latexml package="tabu,algorithm,algpseudocode"?>
<?latexml package="setspace"?>
<?latexml package="pdfpages"?>
<!-- %**** MasterThesis.tex Line 25 **** -->
<?latexml RelaxNGSchema="LaTeXML"?>
<?latexml package="color"?>
<?latexml package="epic"?>
<document xmlns="http://dlmf.nist.gov/LaTeXML" xml:id="Document">
  <resource src="LaTeXML.css" type="text/css"/>
  <resource src="ltx-article.css" type="text/css"/>
  <abstract name="Abstract">
    <p>The final step in getting an Israeli M.D. is performing a year-long internship in one of the hospitals in Israel. Internships are decided upon by a lottery, which is known as “The Internship Lottery”. In 2014 we redesigned the lottery, replacing it with a more efficient one. The new method is based on calculating a tentative lottery, in which each student has some probability of getting to each hospital. Then a computer program “trades” between the students, where trade is performed only if it is beneficial to both sides. This trade creates surplus, which translates to more students getting one of their top choices. The average student improved his place by <Math mode="inline" xml:id="m1" tex="0.91" text="0.91" fragid="m1"><XMath><XMTok meaning="0.91" role="NUMBER">0.91</XMTok></XMath></Math> seats. The new method can improve the welfare of medical graduates, by giving them more probability to get to one of their top choices. It can be applied in internship markets in other countries as well.</p>
    <p>This thesis presents the market, the redesign process and the new mechanism which is now in use. There are two main lessons that we have learned from this market. The first is the “Do No Harm” principle, which states that (almost) all participants should prefer the new mechanism to the old one. The second is that new approaches need to be used when dealing with two-body problems in object assignment. We focus on the second lesson, and study two-body problems in the context of the assignment problem. We show that decomposing stochastic assignment matrices to deterministic allocations is NP-hard in the presence of couples, and present a polynomial time algorithm with the optimal worst case guarantee. We also study the performance of our algorithm on real-world and on simulated data.</p>
  </abstract>
  <titlepage>
    <!-- %Upper part of the page. The ’~’ is needed because ““ 
     %only works if a paragraph has started.-->
    <p align="center">
      <text font="smallcaps">BAR-ILAN UNIVERSITY</text>
    </p>
    <p align="center">[2.5cm]</p>
    <!-- %**** MasterThesis.tex Line 50 **** 
     %Title-->
    <p align="center">
      <text fontsize="207%" font="bold">Redesigning the Israeli Medical Internship Match</text>
    </p>
    <p align="center"><text fontsize="207%" font="bold">[0.5cm] </text></p>
    <p align="center">M.Sc. Thesis</p>
    <p align="center">[2.5cm]</p>
    <!-- %Author and supervisor -->
    <p align="center"/>
    <p align="center">
      <text fontsize="120%">SLAVA BRONFMAN</text>
    </p>
    <p align="center"/>
    <p align="center">[3.5cm]</p>
    <p align="center">Submitted as partial fulfillment of the requirements for the MasterÓ³ Degree in the Department of Computer Science, Bar-Ilan University.</p>
    <p align="center">[3.5cm]</p>
    <p>Ramat Gan, Israel 2015
<!-- %Bottom of the page 
     %–“large “today˝--></p>
    <!-- %**** MasterThesis.tex Line 75 **** -->
  </titlepage>
  <!-- %remove page numbering -->
  <para xml:id="p1" fragid="p1">
    <p>This work was carried out under the supervision of Dr.Avinatan Hassidim from Department of Computer Science, Bar-Ilan University.</p>
  </para>
  <pagination role="newpage"/>
  <!-- %remove page numbering -->
  <section xml:id="Sx1" fragid="Sx1">
    <title>Acknowledgment</title>
    <para xml:id="Sx1.p1" fragid="Sx1.p1">
      <p>This research project would not have been possible without the support of many people who have supported, motivated and encouraged me throughout my graduate studies.
<break/><break/>First and foremost, I would like to thank my advisor Dr. Avinatan Hassidim for giving me the opportunity to carry out this research under his professional and inspiring supervision. His academic guidance, constructive criticism, insightful advices, understanding, patience and warm personal character had a big influence on the outcome presented here and also on my own personal enlightening experience as a researcher.
<break/><break/>Deepest gratitudes are also due to Assaf Romm for all the time and efforts he spent assisting in this thesis, Assaf was abundantly helpful and offered invaluable assistance, guidance and support with the professional material.
<break/><break/>A lot of thanks to Prof.Noga Alon for the time and efforts he spent assisting in this thesis.
<break/><break/>I owe special thanks to my family and friends who provided me with encouragement all this time.</p>
    </para>
    <!-- %The work presented in this thesis has been presented in EC 2015, Portland, USA, June 15-16 2015. I would like to thank the EC 13 for choosing our paper. -->
    <pagination role="newpage"/>
    <!-- %remove page numbering -->
    <TOC name="Table of Contents" role="contents" select="ltx:part | ltx:chapter | ltx:section | ltx:subsection | ltx:subsubsection | ltx:appendix | ltx:index | ltx:bibliography">
      <toclist>
        <tocentry class="ltx_tocentry_section">
          <ref idref="S1" show="toctitle" href="#S1" title="1 Introduction">
            <text class="ltx_ref_title">Introduction</text>
          </ref>
          <toclist class="ltx_toclist_section">
            <tocentry class="ltx_tocentry_subsection">
              <ref idref="S1.SS1" show="toctitle" href="#S1.SS1" title="1.1 Background on the internship market ‣ 1 Introduction">
                <text class="ltx_ref_title">Background on the internship market</text>
              </ref>
            </tocentry>
          </toclist>
        </tocentry>
        <tocentry class="ltx_tocentry_section">
          <ref idref="S2" show="toctitle" href="#S2" title="2 The redesign process">
            <text class="ltx_ref_title">The redesign process</text>
          </ref>
        </tocentry>
        <tocentry class="ltx_tocentry_section">
          <ref idref="S3" show="toctitle" href="#S3" title="3 The new mechanism">
            <text class="ltx_ref_title">The new mechanism</text>
          </ref>
          <toclist class="ltx_toclist_section">
            <tocentry class="ltx_tocentry_subsection">
              <ref idref="S3.SS1" show="toctitle" href="#S3.SS1" title="3.1 Description of the new lottery ‣ 3 The new mechanism">
                <text class="ltx_ref_title">Description of the new lottery</text>
              </ref>
            </tocentry>
          </toclist>
        </tocentry>
        <tocentry class="ltx_tocentry_section">
          <ref idref="S4" show="toctitle" href="#S4" title="4 The new lottery results">
            <text class="ltx_ref_title">The new lottery results</text>
          </ref>
        </tocentry>
        <tocentry class="ltx_tocentry_section">
          <ref idref="S5" show="toctitle" href="#S5" title="5 Couples in the assignment problem">
            <text class="ltx_ref_title">Couples in the assignment problem</text>
          </ref>
          <toclist class="ltx_toclist_section">
            <tocentry class="ltx_tocentry_subsection">
              <ref idref="S5.SS1" show="toctitle" href="#S5.SS1" title="5.1 Our Results ‣ 5 Couples in the assignment problem">
                <text class="ltx_ref_title">Our Results</text>
              </ref>
            </tocentry>
            <tocentry class="ltx_tocentry_subsection">
              <ref idref="S5.SS2" show="toctitle" href="#S5.SS2" title="5.2 Related Work ‣ 5 Couples in the assignment problem">
                <text class="ltx_ref_title">Related Work</text>
              </ref>
            </tocentry>
            <tocentry class="ltx_tocentry_subsection">
              <ref idref="S5.SS3" show="toctitle" href="#S5.SS3" title="5.3 Model and Notation ‣ 5 Couples in the assignment problem">
                <text class="ltx_ref_title">Model and Notation</text>
              </ref>
            </tocentry>
            <tocentry class="ltx_tocentry_subsection">
              <ref idref="S5.SS4" show="toctitle" href="#S5.SS4" title="5.4 NP-hardness result ‣ 5 Couples in the assignment problem">
                <text class="ltx_ref_title">NP-hardness result</text>
              </ref>
            </tocentry>
            <tocentry class="ltx_tocentry_subsection">
              <ref idref="S5.SS5" show="toctitle" href="#S5.SS5" title="5.5 Approximation ‣ 5 Couples in the assignment problem">
                <text class="ltx_ref_title">Approximation</text>
              </ref>
              <toclist class="ltx_toclist_subsection">
                <tocentry class="ltx_tocentry_subsubsection">
                  <ref idref="S5.SS5.SSS1" show="toctitle" href="#S5.SS5.SSS1" title="5.5.1 Lower bound ‣ 5.5 Approximation ‣ 5 Couples in the assignment problem">
                    <text class="ltx_ref_title">Lower bound</text>
                  </ref>
                </tocentry>
                <tocentry class="ltx_tocentry_subsubsection">
                  <ref idref="S5.SS5.SSS2" show="toctitle" href="#S5.SS5.SSS2" title="5.5.2 Suggested algorithm for upper bound ‣ 5.5 Approximation ‣ 5 Couples in the assignment problem">
                    <text class="ltx_ref_title">Suggested algorithm for upper bound</text>
                  </ref>
                </tocentry>
              </toclist>
            </tocentry>
          </toclist>
        </tocentry>
        <tocentry class="ltx_tocentry_section">
          <ref idref="S6" show="toctitle" href="#S6" title="6 Experimental results">
            <text class="ltx_ref_title">Experimental results</text>
          </ref>
          <toclist class="ltx_toclist_section">
            <tocentry class="ltx_tocentry_subsection">
              <ref idref="S6.SS1" show="toctitle" href="#S6.SS1" title="6.1 Description of interns’ preferences ‣ 6 Experimental results">
                <text class="ltx_ref_title">Description of interns’ preferences</text>
              </ref>
            </tocentry>
            <tocentry class="ltx_tocentry_subsection">
              <ref idref="S6.SS2" show="toctitle" href="#S6.SS2" title="6.2 Simulation results for the algorithm ‣ 6 Experimental results">
                <text class="ltx_ref_title">Simulation results for the algorithm</text>
              </ref>
            </tocentry>
          </toclist>
        </tocentry>
        <tocentry class="ltx_tocentry_section">
          <ref idref="S7" show="toctitle" href="#S7" title="7 Extensions">
            <text class="ltx_ref_title">Extensions</text>
          </ref>
          <toclist class="ltx_toclist_section">
            <tocentry class="ltx_tocentry_subsection">
              <ref idref="S7.SS1" show="toctitle" href="#S7.SS1" title="7.1 Lower percentage of singles in each hospital ‣ 7 Extensions">
                <text class="ltx_ref_title">Lower percentage of singles in each hospital</text>
              </ref>
            </tocentry>
            <tocentry class="ltx_tocentry_subsection">
              <ref idref="S7.SS2" show="toctitle" href="#S7.SS2" title="7.2 Groups larger than two ‣ 7 Extensions">
                <text class="ltx_ref_title">Groups larger than two</text>
              </ref>
            </tocentry>
          </toclist>
        </tocentry>
        <tocentry class="ltx_tocentry_section">
          <ref idref="S8" show="toctitle" href="#S8" title="8 Conclusion">
            <text class="ltx_ref_title">Conclusion</text>
          </ref>
          <toclist class="ltx_toclist_section">
            <tocentry class="ltx_tocentry_subsection">
              <ref idref="S8.SS1" show="toctitle" href="#S8.SS1" title="8.1 Open questions ‣ 8 Conclusion">
                <text class="ltx_ref_title">Open questions</text>
              </ref>
            </tocentry>
          </toclist>
        </tocentry>
        <tocentry class="ltx_tocentry_appendix">
          <ref idref="A1" show="toctitle" href="#A1" title="Appendix A Linear programming technical explanation">
            <text class="ltx_ref_title"><tag close=" ">A</tag>Linear programming technical explanation</text>
          </ref>
        </tocentry>
        <tocentry class="ltx_tocentry_appendix">
          <ref idref="A2" show="toctitle" href="#A2" title="Appendix B Lower Bound for small probabilities">
            <text class="ltx_ref_title"><tag close=" ">B</tag>Lower Bound for small probabilities</text>
          </ref>
        </tocentry>
      </toclist>
    </TOC>
    <!-- %**** MasterThesis.tex Line 100 **** 
     %remove page numbering-->
    <pagination role="newpage"/>
    <!-- %remove page numbering -->
    <TOC name="List of Figures" role="figures" scope="global" select="ltx:figure">
      <toclist>
        <tocentry class="ltx_tocentry_figure">
          <ref idref="S3.F1" show="toctitle" href="#S3.F1" title="Figure 1 ‣ 3 The new mechanism">
            <text class="ltx_ref_title"><tag close=" ">1</tag>Trading probabilities example</text>
          </ref>
        </tocentry>
        <tocentry class="ltx_tocentry_figure">
          <ref idref="S4.F2" show="toctitle" href="#S4.F2" title="Figure 2 ‣ 4 The new lottery results">
            <text class="ltx_ref_title"><tag close=" ">2</tag>Comparison between the old and the…</text>
          </ref>
        </tocentry>
        <tocentry class="ltx_tocentry_figure">
          <ref idref="S4.F3" show="toctitle" href="#S4.F3" title="Figure 3 ‣ 4 The new lottery results">
            <text class="ltx_ref_title"><tag close=" ">3</tag>Hadassah hospital’s rankings</text>
          </ref>
        </tocentry>
        <tocentry class="ltx_tocentry_figure">
          <ref idref="S4.F4" show="toctitle" href="#S4.F4" title="Figure 4 ‣ 4 The new lottery results">
            <text class="ltx_ref_title"><tag close=" ">4</tag>Comparison between two rating approaches</text>
          </ref>
        </tocentry>
        <tocentry class="ltx_tocentry_figure">
          <ref idref="S6.F5" show="toctitle" href="#S6.F5" title="Figure 5 ‣ 6.1 Description of interns’ preferences ‣ 6 Experimental results">
            <text class="ltx_ref_title"><tag close=" ">5</tag>The Israeli and foreign doctors’ geographical…</text>
          </ref>
        </tocentry>
        <tocentry class="ltx_tocentry_figure">
          <ref idref="S6.F6" show="toctitle" href="#S6.F6" title="Figure 6 ‣ 6.1 Description of interns’ preferences ‣ 6 Experimental results">
            <text class="ltx_ref_title"><tag close=" ">6</tag>Distribution of top triplets choices</text>
          </ref>
        </tocentry>
        <tocentry class="ltx_tocentry_figure">
          <ref idref="S6.F7" show="toctitle" href="#S6.F7" title="Figure 7 ‣ 6.2 Simulation results for the algorithm ‣ 6 Experimental results">
            <text class="ltx_ref_title"><tag close=" ">7</tag>The distribution of the maximum value…</text>
          </ref>
        </tocentry>
        <tocentry class="ltx_tocentry_figure">
          <ref idref="S6.F8" show="toctitle" href="#S6.F8" title="Figure 8 ‣ 6.2 Simulation results for the algorithm ‣ 6 Experimental results">
            <text class="ltx_ref_title"><tag close=" ">8</tag>The distribution of the average value…</text>
          </ref>
        </tocentry>
        <tocentry class="ltx_tocentry_figure">
          <ref idref="S6.F9" show="toctitle" href="#S6.F9" title="Figure 9 ‣ 6.2 Simulation results for the algorithm ‣ 6 Experimental results">
            <text class="ltx_ref_title"><tag close=" ">9</tag>Maximum value over the <Math mode="inline" xml:id="S6.F9.m1ba" tex="L_{1}" text="L _ 1"><XMath><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">L</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp></XMath></Math> norm, for random…</text>
          </ref>
        </tocentry>
        <tocentry class="ltx_tocentry_figure">
          <ref idref="S6.F10" show="toctitle" href="#S6.F10" title="Figure 10 ‣ 6.2 Simulation results for the algorithm ‣ 6 Experimental results">
            <text class="ltx_ref_title"><tag close=" ">10</tag>Average value over the <Math mode="inline" xml:id="S6.F10.m1ba" tex="L_{1}" text="L _ 1"><XMath><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">L</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp></XMath></Math> norm, for random…</text>
          </ref>
        </tocentry>
        <tocentry class="ltx_tocentry_figure">
          <ref idref="S6.F11" show="toctitle" href="#S6.F11" title="Figure 11 ‣ 6.2 Simulation results for the algorithm ‣ 6 Experimental results">
            <text class="ltx_ref_title"><tag close=" ">11</tag>Maximum value over the <Math mode="inline" xml:id="S6.F11.m1ba" tex="L_{1}" text="L _ 1"><XMath><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">L</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp></XMath></Math> norm, for capacity-driven…</text>
          </ref>
        </tocentry>
        <tocentry class="ltx_tocentry_figure">
          <ref idref="S6.F12" show="toctitle" href="#S6.F12" title="Figure 12 ‣ 6.2 Simulation results for the algorithm ‣ 6 Experimental results">
            <text class="ltx_ref_title"><tag close=" ">12</tag>Average value over the <Math mode="inline" xml:id="S6.F12.m1ba" tex="L_{1}" text="L _ 1"><XMath><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">L</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp></XMath></Math> norm, for capacity-driven…</text>
          </ref>
        </tocentry>
      </toclist>
    </TOC>
    <pagination role="newpage"/>
    <!-- %remove page numbering -->
    <TOC name="List of Tables" role="tables" scope="global" select="ltx:table">
      <toclist>
        <tocentry class="ltx_tocentry_table">
          <ref idref="S3.T1" show="toctitle" href="#S3.T1" title="Table 1 ‣ 3 The new mechanism">
            <text class="ltx_ref_title"><tag close=" ">1</tag>Example of students’ preferences</text>
          </ref>
        </tocentry>
        <tocentry class="ltx_tocentry_table">
          <ref idref="S5.T2" show="toctitle" href="#S5.T2" title="Table 2 ‣ 5.5.1 Lower bound ‣ 5.5 Approximation ‣ 5 Couples in the assignment problem">
            <text class="ltx_ref_title"><tag close=" ">2</tag>Target matrix for proof of Theorem…</text>
          </ref>
        </tocentry>
        <tocentry class="ltx_tocentry_table">
          <ref idref="A2.T3" show="toctitle" href="#A2.T3" title="Table 3 ‣ Appendix B Lower Bound for small probabilities">
            <text class="ltx_ref_title"><tag close=" ">3</tag>Target matrix for small probabilities example…</text>
          </ref>
        </tocentry>
      </toclist>
    </TOC>
    <pagination role="newpage"/>
    <!-- %Re-start the page numbering -->
    <pagination role="newpage"/>
    <!-- %Re-start the page numbering -->
  </section>
  <section refnum="1" xml:id="S1" labels="LABEL:sec:introduction" fragid="S1">
    <title><tag close=" ">1</tag>Introduction</title>
    <para xml:id="S1.p1" fragid="S1.p1">
      <p>Prior to receiving their medical degrees Israeli medical graduates (and foreign trained doctors) must participate in a year-long internship program (not to be confused with the residency period following their graduation). The internship is carried out in one of 23 possible hospitals in the country, which are allocated interns relative to the size of their patient population (with an advantage to peripheral hospitals), with the smallest allocation being of 4 interns. The internship is perceived as a tax that must be paid: there is (almost) no correlation between the hospital in which internship was performed to the hospital in which residency is performed, interns work nights and weekend to receive below minimum wage, and are not getting any tuition during the internship.<note mark="1" role="footnote">One justification for this tax is that medical studies are highly subsidized by the government, with a tuition cost of around <Math mode="inline" xml:id="S1.p1.m1" tex="2500\$" text="2500 * currency-dollar" fragid="S1.p1.m1"><XMath><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok meaning="2500" role="NUMBER">2500</XMTok><XMTok meaning="currency-dollar" role="OPERATOR">$</XMTok></XMApp></XMath></Math> per year. In return, the government uses the interns as cheap labor in hospitals (all hospitals are operated by the government).</note>
<!-- %**** MasterThesis.tex Line 125 **** --></p>
    </para>
    <para xml:id="S1.p2" fragid="S1.p2">
      <p>By and large, interns are not assigned to hospitals on the basis of merit, since the government wants to spread the more talented interns everywhere.<note mark="2" role="footnote">There is an exception to this rule - five interns with a PhD get to choose where they want to be assigned.</note> Since merit is not a criterion, it makes sense to use some form of lottery to assign the interns. For many years, the lottery which was chosen was <text font="italic">Random Serial Dictatorship</text> (henceforth RSD).<note mark="3" role="footnote">Often referred to also as “Random Priority”. See, for example, <cite class="ltx_citemacro_cite">[<ref class="ltx_missing_citation" idref="as2003" title="as2003">as2003</ref>]</cite>.</note>, with some house rules.</p>
    </para>
    <para xml:id="S1.p3" fragid="S1.p3">
      <p>In this thesis, we describe the market and the different populations of students, discuss the old lottery, present our new design for the lottery, which was used first in 2014 (and is also in use this year) and present the results of the implementation. We focus this work on the lessons we learned, and on techniques that can be used in designing future markets. More specifically, this thesis deals with</p>
      <enumerate xml:id="I1" fragid="I1">
        <item frefnum="1." refnum="1" xml:id="I1.i1" fragid="I1.i1">
          <tag>1.</tag>
          <para xml:id="I1.i1.p1" fragid="I1.i1.p1">
            <p>the “Do No Harm” principle, and the constraint that under some metric no student will be worse off in the new match,</p>
          </para>
        </item>
        <item frefnum="2." refnum="2" xml:id="I1.i2" fragid="I1.i2">
          <tag>2.</tag>
          <para xml:id="I1.i2.p1" fragid="I1.i2.p1">
            <p>the trade-off between efficiency and truthfulness, and</p>
          </para>
        </item>
        <item frefnum="3." refnum="3" xml:id="I1.i3" fragid="I1.i3">
          <tag>3.</tag>
          <para xml:id="I1.i3.p1" fragid="I1.i3.p1">
            <p>two-body problems in the context of the assignment problem.</p>
          </para>
        </item>
      </enumerate>
      <p>In addition, we describe the market, the participants, and share the available data.</p>
    </para>
    <subsection refnum="1.1" xml:id="S1.SS1" fragid="S1.SS1">
      <title><tag close=" ">1.1</tag>Background on the internship market</title>
      <para xml:id="S1.SS1.p1" fragid="S1.SS1.p1">
        <p>Each year, two different cohorts of students enter independent lotteries which determine where each student performs her internship. The number of interns allocated to each hospital is determined independently for each cohort.</p>
      </para>
      <para xml:id="S1.SS1.p2" fragid="S1.SS1.p2">
        <p>The first cohort is composed of students who are in their final year of their medical school in Israel. This cohort is the more interesting and diverse one, and contains four populations:</p>
        <enumerate xml:id="I2" fragid="I2">
          <item frefnum="1." refnum="1" xml:id="I2.i1" fragid="I2.i1">
            <tag>1.</tag>
            <para xml:id="I2.i1.p1" fragid="I2.i1.p1">
              <p>a handful of students (usually with a PhD) who get to choose their internship. From a market design perspective, they can be treated as reducing the capacity.</p>
            </para>
          </item>
          <item frefnum="2." refnum="2" xml:id="I2.i2" fragid="I2.i2">
            <tag>2.</tag>
            <para xml:id="I2.i2.p1" fragid="I2.i2.p1">
              <p>Couples who wish to be in the same hospital. Unlike the (American) National Residency Matching Program (NRMP), there is no notion of preferences over pairs of hospitals. This makes sense: in the NRMP one spouse may want to be a radiologist, and the other may want to be a psychiatrist (so they need to rank pairs of programs), whereas in the current match everyone wants to (well, doesn’t want to, but has to) be an intern. Around <Math mode="inline" xml:id="I2.i2.p1.m1" tex="10\%" text="10percent" fragid="I2.i2.p1.m1"><XMath><XMApp><XMTok meaning="percent" role="POSTFIX">%</XMTok><XMTok meaning="10" role="NUMBER">10</XMTok></XMApp></XMath></Math> of the interns are involved in a couple, and most couples are not married, but are just friends who want to share an apartment if they are stuck in some village where they do not know anybody. Unlike the NRMP, couples are <text font="italic">guaranteed</text> to be interns in the same place.</p>
            </para>
          </item>
          <item frefnum="3." refnum="3" xml:id="I2.i3" fragid="I2.i3">
            <tag>3.</tag>
            <para xml:id="I2.i3.p1" fragid="I2.i3.p1">
              <p>Students who have kids. This population is characterized by not wanting to transfer the family. Hence, they are usually willing to take any hospital which is a driving distance from home, and are less sensitive to hospital’s quality.</p>
            </para>
          </item>
          <item frefnum="4." refnum="4" xml:id="I2.i4" fragid="I2.i4">
            <tag>4.</tag>
            <para xml:id="I2.i4.p1" fragid="I2.i4.p1">
              <p>The rest of the students.</p>
            </para>
          </item>
        </enumerate>
      </para>
      <para xml:id="S1.SS1.p3" fragid="S1.SS1.p3">
        <p>In the last decade, the lottery that was used was Random Serial Dictatorship, with a few small modifications:</p>
        <enumerate xml:id="I3" fragid="I3">
          <!-- %**** MasterThesis.tex Line 150 **** -->
          <item frefnum="1." refnum="1" xml:id="I3.i1" fragid="I3.i1">
            <tag>1.</tag>
            <para xml:id="I3.i1.p1" fragid="I3.i1.p1">
              <p>The five students who get to pick, choose where they want to go.</p>
            </para>
          </item>
          <item frefnum="2." refnum="2" xml:id="I3.i2" fragid="I3.i2">
            <tag>2.</tag>
            <para xml:id="I3.i2.p1" fragid="I3.i2.p1">
              <p>A couple is considered as one student for the matter of choosing the permutation. Alternatively, each couple gets two consecutive spots. If the couple’s top choice among hospitals which have vacancies is <Math mode="inline" xml:id="I3.i2.p1.m1" tex="A" text="A" fragid="I3.i2.p1.m1"><XMath><XMTok role="UNKNOWN" font="italic">A</XMTok></XMath></Math>, but <Math mode="inline" xml:id="I3.i2.p1.m2" tex="A" text="A" fragid="I3.i2.p1.m2"><XMath><XMTok role="UNKNOWN" font="italic">A</XMTok></XMath></Math> has just one free spot, they are not allowed to go there and will keep going down their preferences.<note mark="4" role="footnote">It is not clear what happens if all hospitals have just one vacancy when a couple is chosen. Maybe it just did not happen in recent years. The medical students believed that couples will always stay together, and this was one of their requirements.</note></p>
            </para>
          </item>
          <item frefnum="3." refnum="3" xml:id="I3.i3" fragid="I3.i3">
            <tag>3.</tag>
            <para xml:id="I3.i3.p1" fragid="I3.i3.p1">
              <p>Every year there is a vote about what to do with students with kids (sometimes an advantage is given only to students with two or more kids). The options are to treat them as regular students, to let them take part in the lottery but promise them a seat in their district (the country is divided into five districts for that matter), or to promise them a seat in their district, without participation in the lottery (so they lose the chance to get good hospitals). When the last option is being used, most parents do not declare themselves parents, as they claim that this is not really a benefit.</p>
            </para>
          </item>
        </enumerate>
      </para>
      <para xml:id="S1.SS1.p4" fragid="S1.SS1.p4">
        <p>The second cohort consists of graduates of foreign schools, who want to become Israeli doctors. This only applies to students who studied in certain countries and have no experience, and most of this cohort is composed of Israelis who were not accepted to medicine in Israel, and studied in Jordan or in Europe with the intention of going back to Israel after graduation.</p>
      </para>
      <para xml:id="S1.SS1.p5" fragid="S1.SS1.p5">
        <p>For the foreign cohort, the internship lottery is run by the Ministry of Health (MoH). There are no votes or appeals, and rules are simpler. For the Israeli cohort, the MoH just decides on the capacities, and delegates the rest of the lottery process to a committee of students, elected by the student body. It is common that the committee puts important decisions (such as the parental benefits) to vote by the entire student body.</p>
      </para>
    </subsection>
  </section>
  <section refnum="2" xml:id="S2" fragid="S2">
    <title><tag close=" ">2</tag>The redesign process</title>
    <para xml:id="S2.p1" fragid="S2.p1">
      <p>We were first approached in 2010 by several medical students who asked for help in redesigning their market. They had two things which worried them:</p>
      <enumerate xml:id="I4" fragid="I4">
        <item frefnum="1." refnum="1" xml:id="I4.i1" fragid="I4.i1">
          <tag>1.</tag>
          <para xml:id="I4.i1.p1" fragid="I4.i1.p1">
            <p>giving fair benefits to parents. They felt that parents should be treated differently, but it should not be at the expense of other students, and were not sure how to do this, and</p>
          </para>
        </item>
        <item frefnum="2." refnum="2" xml:id="I4.i2" fragid="I4.i2">
          <tag>2.</tag>
          <para xml:id="I4.i2.p1" fragid="I4.i2.p1">
            <p>they wanted to improve the efficiency of the system.</p>
          </para>
        </item>
      </enumerate>
      <p>We took part in the internship committee of 2011, to understand their demands better. They added a couple of technical requirements:</p>
      <enumerate xml:id="I5" fragid="I5">
        <item frefnum="1." refnum="1" xml:id="I5.i1" fragid="I5.i1">
          <tag>1.</tag>
          <para xml:id="I5.i1.p1" fragid="I5.i1.p1">
            <p><text font="italic">Do No Harm</text>: The redesign process should not hurt any population of students. Everyone should be (weakly) better off in the new design (at least in expectation).</p>
          </para>
        </item>
        <item frefnum="2." refnum="2" xml:id="I5.i2" fragid="I5.i2">
          <tag>2.</tag>
          <para xml:id="I5.i2.p1" fragid="I5.i2.p1">
            <p>In particular, students should have the option of matching together, just like they did up until then. A couple should get a guarantee that they will be matched together.</p>
          </para>
        </item>
      </enumerate>
    </para>
    <para xml:id="S2.p2" fragid="S2.p2">
      <p>The 2011 class was also generous enough to share their data with us. Our initial idea was to use some form of Probabilistic Serial <cite class="ltx_citemacro_cite">[<ref class="ltx_missing_citation" idref="bm2001" title="bm2001">bm2001</ref>]</cite>. However, the results were very similar to RSD, and we wanted to improve efficiency. Hence, we decided to use a <text font="italic">rank efficient</text> mechanism, which essentially amounts to maximizing some linear function on the number of students who get their <Math mode="inline" xml:id="S2.p2.m1" tex="i" text="i" fragid="S2.p2.m1"><XMath><XMTok role="UNKNOWN" font="italic">i</XMTok></XMath></Math>’th rank, for every <Math mode="inline" xml:id="S2.p2.m2" tex="i" text="i" fragid="S2.p2.m2"><XMath><XMTok role="UNKNOWN" font="italic">i</XMTok></XMath></Math> (more on that in <ref class="ltx_refmacro_autoref" labelref="LABEL:sec:TheNewMechanism" show="type refnum" href="#S3" title="3 The new mechanism"> <text class="ltx_ref_tag">3</text></ref>).</p>
    </para>
    <para xml:id="S2.p3" fragid="S2.p3">
      <p>To cope with the DNH principle, we ran surveys, in which we gave students two possible vectors of probabilities (for being assigned to each hospital), and asked them which is better. We took the data, and tried to find a simple utility model for it. The model we ended up using is that there are <Math mode="inline" xml:id="S2.p3.m1" tex="m" text="m" fragid="S2.p3.m1"><XMath><XMTok role="UNKNOWN" font="italic">m</XMTok></XMath></Math> hospitals, and you have probability <Math mode="inline" xml:id="S2.p3.m2" tex="p" text="p" fragid="S2.p3.m2"><XMath><XMTok role="UNKNOWN" font="italic">p</XMTok></XMath></Math> to get to rank <Math mode="inline" xml:id="S2.p3.m3" tex="i" text="i" fragid="S2.p3.m3"><XMath><XMTok role="UNKNOWN" font="italic">i</XMTok></XMath></Math>, this gives you <Math mode="inline" xml:id="S2.p3.m4" tex="p(m-i+1)^{2}" text="p * ((m - i) + 1) ^ 2" fragid="S2.p3.m4"><XMath><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok role="UNKNOWN" font="italic">p</XMTok><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post2"/><XMDual><XMRef idref="S2.p3.m4.1"/><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMApp xml:id="S2.p3.m4.1" fragid="S2.p3.m4.1"><XMTok meaning="plus" role="ADDOP">+</XMTok><XMApp><XMTok meaning="minus" role="ADDOP">-</XMTok><XMTok role="UNKNOWN" font="italic">m</XMTok><XMTok role="UNKNOWN" font="italic">i</XMTok></XMApp><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMDual><XMTok meaning="2" role="NUMBER">2</XMTok></XMApp></XMApp></XMath></Math> points of happiness, and a profile with more happiness points is better. While one could find a better fit to the model using more parameters, we were happy that there are no constants that we need to compute. We also defined a different happiness function for parents, but it was not used (see below).</p>
    </para>
    <!-- %**** MasterThesis.tex Line 175 **** -->
    <para xml:id="S2.p4" fragid="S2.p4">
      <p>Given that we have a definition of happiness, we first compute for every intern what would be her expected happiness under RSD. Then we choose allocation probabilities to maximize total happiness, conditioned on capacities and on the DNH principle – that every agent is happier under the current algorithm. Given the probability matrix, we decompose it to a convex sum of assignment matrices (more on that in <ref class="ltx_refmacro_autoref" labelref="LABEL:two:body" show="type refnum" href="#S5" title="5 Couples in the assignment problem"> <text class="ltx_ref_tag">5</text></ref>), and choose a matrix at random (according to the weights).</p>
    </para>
    <paragraph xml:id="S2.SS1.SSS0.Px1" fragid="S2.SS1.SSS0.Px1">
      <title>Switching to the new mechanism</title>
      <para xml:id="S2.SS1.SSS0.Px1.p1" fragid="S2.SS1.SSS0.Px1.p1">
        <p>We proposed the new mechanism to the class of 2012, but were rejected. They did not want to have anything to do with computers, and were afraid of bugs and backdoors.</p>
      </para>
      <para xml:id="S2.SS1.SSS0.Px1.p2" fragid="S2.SS1.SSS0.Px1.p2">
        <p>For the 2013 class we approached the MoH. We understood that the MoH is less conservative than the student body, as it has more to gain from new ideas: if the student body is given a new idea who would make it better off for with probability <Math mode="inline" xml:id="S2.SS1.SSS0.Px1.p2.m1" tex="0.4" text="0.4" fragid="S2.SS1.SSS0.Px1.p2.m1"><XMath><XMTok meaning="0.4" role="NUMBER">0.4</XMTok></XMath></Math> and worse off with probability <Math mode="inline" xml:id="S2.SS1.SSS0.Px1.p2.m2" tex="0.6" text="0.6" fragid="S2.SS1.SSS0.Px1.p2.m2"><XMath><XMTok meaning="0.6" role="NUMBER">0.6</XMTok></XMath></Math>, then they should reject it. However, under these terms it is in the MoH’s best interest to try the new idea. If the new idea is a failure than one class pays the price, but if it is a success then future generations will use it as well. In the MoH we found moral support, more data, but no willingness to try the new system. Their main argument was that they do not want to interfere in something which is traditionally run by the students, and are not willing to use the foreign trained students as guinea pigs.</p>
      </para>
      <para xml:id="S2.SS1.SSS0.Px1.p3" fragid="S2.SS1.SSS0.Px1.p3">
        <p>For the 2014 class we went back to the student internship committee. At this stage we had a large quantity of historical data to present about both algorithms, and also had a new idea: we will not run the lottery with a computer, but rather hand them the decomposition of the matrix into a weighted list of assignments, and let them choose the assignment. This way they can compute their own marginal distributions, and verify that there is no backdoor.<note mark="5" role="footnote">To be more exact, they can compute their marginal distributions to see that they are better off, and the distributions of the members of the committee to see that no one is cheating.</note> This persuaded the committee to put this for a vote (along with the parental benefits for that year), with the condition that the new algorithm will be used only if it wins an absolute majority. 80% of the medical graduates who participated in the poll (55% of the students) voted in favor of the new approach. Following the successful vote, we indeed implemented the algorithm and it was used to assign interns on 2014. In addition, it was used for the foreign cohort that year. A subsequent vote of the following cohort of interns, that took place on January 2015, certified the continued use of our algorithm for 2015, and the foreign trained interns will keep using it until further notice. In order to increase transparency we explained the student body the rules of the new match <cite class="ltx_citemacro_cite">[<ref class="ltx_missing_citation" idref="bharshm2015" title="bharshm2015">bharshm2015</ref>]</cite>.</p>
      </para>
      <para xml:id="S2.SS1.SSS0.Px1.p4" fragid="S2.SS1.SSS0.Px1.p4">
        <p>We have ran a survey in the class of 2014, presenting students with their marginal distribution under RSD and under the new algorithm, and received supportive feedback. However, we were asked by the student committee to distribute the survey only to committee members, as we ran it after the lottery was over and they wanted to let the dead rest. This turned out to be very unfortunate, as the class of 2015 was mad at us for not handing each student in 2014 his or her marginal distribution. We have agreement from this year’s committee to perform the survey with the entire body of students.</p>
      </para>
      <para xml:id="S2.SS1.SSS0.Px1.p5" fragid="S2.SS1.SSS0.Px1.p5">
        <p>In the years 2014 and 2015, the students voted against giving any parental benefits. We think that the main source for this vote is not our algorithm, but a new school of medicine which accepts students who already earned an undergraduate degree (usually in Biology) and want to undergo retraining and perform a career change. The graduates of this school constitute the majority of parents in the market, and therefore it became an issue of “helping students in the other school” which attracts less sympathy than “helping the parents in my class”.</p>
      </para>
    </paragraph>
    <paragraph xml:id="S2.SS1.SSS0.Px2" fragid="S2.SS1.SSS0.Px2">
      <title>Truthfulness and efficiency</title>
      <para xml:id="S2.SS1.SSS0.Px2.p1" fragid="S2.SS1.SSS0.Px2.p1">
        <p>Our main concern with the new mechanism is that we sacrifice truthfulness (at least to some degree) to achieve efficiency. This is probably a necessity: <cite class="ltx_citemacro_cite">[<ref class="ltx_missing_citation" idref="liu2013ordinal" title="liu2013ordinal">liu2013ordinal</ref>]</cite> showed that in large random market all asymptotically efficient, symmetric, and asymptotically strategy-proof mechanisms are equivalent to Random Serial Dictatorship. While in theory it could be that our market is not large enough, or that there is something special in the valuation profiles we face, it is unlikely that this is the case. Hence, any improvement in the welfare will lead to a non-truthful mechanism, such that some agents will be able to deviate and make a non-negligible gain.</p>
      </para>
      <para xml:id="S2.SS1.SSS0.Px2.p2" fragid="S2.SS1.SSS0.Px2.p2">
        <p>When choosing between truthfulness and efficiency, we need to remember that truthfulness is a means, while efficiency is an end. We see two main arguments for truthful mechanisms:</p>
        <itemize xml:id="I6" fragid="I6">
          <item xml:id="I6.i1" fragid="I6.i1">
            <tag>•</tag>
            <para xml:id="I6.i1.p1" fragid="I6.i1.p1">
              <p>Truthful mechanisms reduce cognitive burden for the participants.</p>
            </para>
          </item>
          <item xml:id="I6.i2" fragid="I6.i2">
            <tag>•</tag>
            <para xml:id="I6.i2.p1" fragid="I6.i2.p1">
              <p>When bidding is truthful, the designer can evaluate the welfare. When bidding is not truthful, such evaluation is not possible.</p>
            </para>
          </item>
        </itemize>
        <p>We think that for this market, one can mitigate the disadvantages of a non-truthful algorithm, and the gain in welfare is big enough to warrant some degree of untruthfulness. Specifically, we believe that bidding today is truthful (as much as anything can be truthful in ranking 25 priorities), and that if in the future a large body of students would bid untruthfully, then discussions in forums and on Facebook revolving around strategic bidding would emerge. We know that in the past, it was a common (and illegal) practice to sell and buy internship positions after the lottery.<note mark="6" role="footnote">In theory, there should be no trade following a lottery if monetary transfers are not allowed. In practice, internship begins at least ten months (and sometime eighteen months) after the lottery is conducted, so it makes sense that someone who would want a desired hospital in city A would want to move to city B for some personal reason. Moreover, as mentioned, illegal monetary transfers were conducted. The students would approach the MoH, asking to trade places, hiding any financial agreement, and would be granted the permission to trade. The market price of a good internship used to be 2500$.</note> Negotiating these deals was done through social media, and it was not too difficult for us to find it. Discussing bidding strategies should happen through the same channels, and be less hidden (since there is nothing wrong about it).</p>
      </para>
      <!-- %Every year roughly 500 medical students in Israel must participate in a year-long internship prior to receiving their medical degree (not to be confused with the residency period following their graduation). The internship is carried in one of about 25 possible hospitals in the country, who are allocated interns relative to the size of their patient population. Because the Ministry of Health (MoH) does not want interns to be allocated to hospitals based on merit (causing all the less qualified interns to be assigned peripheral hospitals), past assignments have been conducted using random serial dictatorship. 
     %**** MasterThesis.tex Line 200 ****
     %Around 2013 a team of market designers (composed of the authors of this paper, as well as those of “cite–bharshm2015˝) approached the MoH and suggested moving to a new algorithm (described in full in “cite–bharshm2015˝). The MoH, which has an interest in exploration for the sake of future generations, has quickly agreed to try the new algorithm for a year. However, since in the last decade the actual allocation process has been delegated to the student body, we had to seek their approval as well. The students internship committee, which is in charge of the matching process, had two major conditions for the adoption of the new algorithm. The first condition was that a poll would be conducted and that more than 50“% of the students (not the voters!) would vote for the change. The first condition was shortly met when 80“% of the medical graduates who participated in the poll (55“% of the students) voted in favor of the new approach. Following the successful vote, we indeed implemented the algorithm and it was used to assign interns on 2014. A subsequent vote of the following cohort of interns, that took place on January 2015, certified the continued use of our algorithm for 2015.-->
    </paragraph>
  </section>
  <section refnum="3" xml:id="S3" labels="LABEL:sec:TheNewMechanism" fragid="S3">
    <title><tag close=" ">3</tag>The new mechanism</title>
    <para xml:id="S3.p1" fragid="S3.p1">
      <p>We know that after the assignment is done, there is no room for trade. Still, we want to let the students trade to achieve a better allocation. Therefore, instead of trading seats in hospitals, we trade probability shares. Indeed, a student <Math mode="inline" xml:id="S3.p1.m1" tex="i" text="i" fragid="S3.p1.m1"><XMath><XMTok role="UNKNOWN" font="italic">i</XMTok></XMath></Math> attending the lottery should not care too much about the internal mechanics <Math mode="inline" xml:id="S3.p1.m2" tex="-" text="-" fragid="S3.p1.m2"><XMath><XMTok meaning="minus" role="ADDOP">-</XMTok></XMath></Math> all he should care about is <Math mode="inline" xml:id="S3.p1.m3" tex="p_{i,1},\ldots p_{i,23}" text="list@(p _ (list@(i, 1)), ldots * p _ (list@(i, 23)))" fragid="S3.p1.m3"><XMath><XMDual><XMApp><XMTok meaning="list"/><XMRef idref="S3.p1.m3.5"/><XMRef idref="S3.p1.m3.6"/></XMApp><XMWrap><XMApp xml:id="S3.p1.m3.5" fragid="S3.p1.m3.5"><XMTok role="SUBSCRIPTOP" scriptpos="post2"/><XMTok role="UNKNOWN" font="italic">p</XMTok><XMDual><XMApp><XMTok meaning="list"/><XMRef idref="S3.p1.m3.1"/><XMRef idref="S3.p1.m3.2"/></XMApp><XMWrap><XMTok role="UNKNOWN" xml:id="S3.p1.m3.1" font="italic" fragid="S3.p1.m3.1">i</XMTok><XMTok role="PUNCT">,</XMTok><XMTok meaning="1" role="NUMBER" xml:id="S3.p1.m3.2" fragid="S3.p1.m3.2">1</XMTok></XMWrap></XMDual></XMApp><XMTok role="PUNCT">,</XMTok><XMApp xml:id="S3.p1.m3.6" fragid="S3.p1.m3.6"><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok name="ldots" role="ID">…</XMTok><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post2"/><XMTok role="UNKNOWN" font="italic">p</XMTok><XMDual><XMApp><XMTok meaning="list"/><XMRef idref="S3.p1.m3.3"/><XMRef idref="S3.p1.m3.4"/></XMApp><XMWrap><XMTok role="UNKNOWN" xml:id="S3.p1.m3.3" font="italic" fragid="S3.p1.m3.3">i</XMTok><XMTok role="PUNCT">,</XMTok><XMTok meaning="23" role="NUMBER" xml:id="S3.p1.m3.4" fragid="S3.p1.m3.4">23</XMTok></XMWrap></XMDual></XMApp></XMApp></XMWrap></XMDual></XMath></Math> where <Math mode="inline" xml:id="S3.p1.m4" tex="p_{i,k}" text="p _ (list@(i, k))" fragid="S3.p1.m4"><XMath><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post2"/><XMTok role="UNKNOWN" font="italic">p</XMTok><XMDual><XMApp><XMTok meaning="list"/><XMRef idref="S3.p1.m4.1"/><XMRef idref="S3.p1.m4.2"/></XMApp><XMWrap><XMTok role="UNKNOWN" xml:id="S3.p1.m4.1" font="italic" fragid="S3.p1.m4.1">i</XMTok><XMTok role="PUNCT">,</XMTok><XMTok role="UNKNOWN" xml:id="S3.p1.m4.2" font="italic" fragid="S3.p1.m4.2">k</XMTok></XMWrap></XMDual></XMApp></XMath></Math> is the probability student <Math mode="inline" xml:id="S3.p1.m5" tex="i" text="i" fragid="S3.p1.m5"><XMath><XMTok role="UNKNOWN" font="italic">i</XMTok></XMath></Math> gets his <Math mode="inline" xml:id="S3.p1.m6" tex="k" text="k" fragid="S3.p1.m6"><XMath><XMTok role="UNKNOWN" font="italic">k</XMTok></XMath></Math>’th choice.</p>
    </para>
    <para xml:id="S3.p2" fragid="S3.p2">
      <p>Looking at the probability vector each student gets, RSD turns out to be far from optimal. Consider for example the following fictitious lottery, which involves four students and four hospitals, each with capacity 1 [Table <ref labelref="LABEL:tab:example" href="#S3.T1" title="Table 1 ‣ 3 The new mechanism"><text class="ltx_ref_tag">1</text></ref>].</p>
    </para>
    <table frefnum="Table 1" placement="htbp" refnum="1" xml:id="S3.T1" labels="LABEL:tab:example" fragid="S3.T1">
      <toccaption class="ltx_centering"><tag close=" ">1</tag>Example of students’ preferences</toccaption>
      <caption class="ltx_centering"><tag close=": ">Table 1</tag>The four students’ prioritized preferences over hospitals. All students ranked hospitals A and B as their first or their second choice respectively. Alice and Diane each ranked hospital C as their third choice and then hospital D, while Bob and Charlie each ranked hospital D as their third choice and C as their fourth.</caption>
      <tabular vattach="middle" class="ltx_centering">
        <tbody>
          <tr>
            <td align="center" border="l r t">
              <text font="bold">Alice</text>
            </td>
            <td align="center" border="r t">
              <text font="bold">Diane</text>
            </td>
            <td align="center" border="r t">
              <text font="bold">Bob</text>
            </td>
            <td align="center" border="r t">
              <text font="bold">Charlie</text>
            </td>
          </tr>
          <tr>
            <td align="center" border="l r t">A</td>
            <td align="center" border="r t">A</td>
            <td align="center" border="r t">A</td>
            <td align="center" border="r t">A</td>
          </tr>
          <tr>
            <td align="center" border="l r t">B</td>
            <td align="center" border="r t">B</td>
            <td align="center" border="r t">B</td>
            <td align="center" border="r t">B</td>
          </tr>
          <tr>
            <td align="center" border="l r t">C</td>
            <td align="center" border="r t">C</td>
            <td align="center" border="r t">D</td>
            <td align="center" border="r t">D</td>
          </tr>
          <tr>
            <td align="center" border="b l r t">D</td>
            <td align="center" border="b r t">D</td>
            <td align="center" border="b r t">C</td>
            <td align="center" border="b r t">C</td>
          </tr>
        </tbody>
      </tabular>
    </table>
    <para xml:id="S3.p3" class="ltx_noindent" fragid="S3.p3">
      <p>We analyze the probability that Alice gets each hospital in this example:</p>
      <itemize xml:id="I7" fragid="I7">
        <item xml:id="I7.i1" fragid="I7.i1">
          <tag>•</tag>
          <para xml:id="I7.i1.p1" fragid="I7.i1.p1">
            <p>With probability <Math mode="inline" xml:id="I7.i1.p1.m1" tex="\frac{1}{4}" text="1 / 4" fragid="I7.i1.p1.m1"><XMath><XMApp><XMTok mathstyle="text" meaning="divide" role="MULOP"/><XMTok meaning="1" role="NUMBER">1</XMTok><XMTok meaning="4" role="NUMBER">4</XMTok></XMApp></XMath></Math> she is the first to choose. In this case she chooses <Math mode="inline" xml:id="I7.i1.p1.m2" tex="A" text="A" fragid="I7.i1.p1.m2"><XMath><XMTok role="UNKNOWN" font="italic">A</XMTok></XMath></Math>, and therefore <Math mode="inline" xml:id="I7.i1.p1.m3" tex="\Pr(A)=\frac{1}{4}" text="Pr@(A) = 1 / 4" fragid="I7.i1.p1.m3"><XMath><XMApp><XMTok meaning="equals" role="RELOP">=</XMTok><XMDual><XMApp><XMRef idref="I7.i1.p1.m3.1"/><XMRef idref="I7.i1.p1.m3.2"/></XMApp><XMApp><XMTok role="OPFUNCTION" scriptpos="post" xml:id="I7.i1.p1.m3.1" fragid="I7.i1.p1.m3.1">Pr</XMTok><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMTok role="UNKNOWN" xml:id="I7.i1.p1.m3.2" font="italic" fragid="I7.i1.p1.m3.2">A</XMTok><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMApp></XMDual><XMApp><XMTok mathstyle="text" meaning="divide" role="MULOP"/><XMTok meaning="1" role="NUMBER">1</XMTok><XMTok meaning="4" role="NUMBER">4</XMTok></XMApp></XMApp></XMath></Math>.
<!-- %**** MasterThesis.tex Line 225 **** --></p>
          </para>
        </item>
        <item xml:id="I7.i2" fragid="I7.i2">
          <tag>•</tag>
          <para xml:id="I7.i2.p1" fragid="I7.i2.p1">
            <p>With probability <Math mode="inline" xml:id="I7.i2.p1.m1" tex="\frac{1}{4}" text="1 / 4" fragid="I7.i2.p1.m1"><XMath><XMApp><XMTok mathstyle="text" meaning="divide" role="MULOP"/><XMTok meaning="1" role="NUMBER">1</XMTok><XMTok meaning="4" role="NUMBER">4</XMTok></XMApp></XMath></Math> she is the second to choose. In this case <Math mode="inline" xml:id="I7.i2.p1.m2" tex="A" text="A" fragid="I7.i2.p1.m2"><XMath><XMTok role="UNKNOWN" font="italic">A</XMTok></XMath></Math> is already taken, and therefore she chooses <Math mode="inline" xml:id="I7.i2.p1.m3" tex="B" text="B" fragid="I7.i2.p1.m3"><XMath><XMTok role="UNKNOWN" font="italic">B</XMTok></XMath></Math>. Therefore <Math mode="inline" xml:id="I7.i2.p1.m4" tex="\Pr(B)=\frac{1}{4}" text="Pr@(B) = 1 / 4" fragid="I7.i2.p1.m4"><XMath><XMApp><XMTok meaning="equals" role="RELOP">=</XMTok><XMDual><XMApp><XMRef idref="I7.i2.p1.m4.1"/><XMRef idref="I7.i2.p1.m4.2"/></XMApp><XMApp><XMTok role="OPFUNCTION" scriptpos="post" xml:id="I7.i2.p1.m4.1" fragid="I7.i2.p1.m4.1">Pr</XMTok><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMTok role="UNKNOWN" xml:id="I7.i2.p1.m4.2" font="italic" fragid="I7.i2.p1.m4.2">B</XMTok><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMApp></XMDual><XMApp><XMTok mathstyle="text" meaning="divide" role="MULOP"/><XMTok meaning="1" role="NUMBER">1</XMTok><XMTok meaning="4" role="NUMBER">4</XMTok></XMApp></XMApp></XMath></Math>.</p>
          </para>
        </item>
        <item xml:id="I7.i3" fragid="I7.i3">
          <tag>•</tag>
          <para xml:id="I7.i3.p1" fragid="I7.i3.p1">
            <p>With probability <Math mode="inline" xml:id="I7.i3.p1.m1" tex="\frac{1}{4}" text="1 / 4" fragid="I7.i3.p1.m1"><XMath><XMApp><XMTok mathstyle="text" meaning="divide" role="MULOP"/><XMTok meaning="1" role="NUMBER">1</XMTok><XMTok meaning="4" role="NUMBER">4</XMTok></XMApp></XMath></Math> she is the third. In this case, <Math mode="inline" xml:id="I7.i3.p1.m2" tex="A" text="A" fragid="I7.i3.p1.m2"><XMath><XMTok role="UNKNOWN" font="italic">A</XMTok></XMath></Math> and <Math mode="inline" xml:id="I7.i3.p1.m3" tex="B" text="B" fragid="I7.i3.p1.m3"><XMath><XMTok role="UNKNOWN" font="italic">B</XMTok></XMath></Math> are already taken, and Alice chooses <Math mode="inline" xml:id="I7.i3.p1.m4" tex="C" text="C" fragid="I7.i3.p1.m4"><XMath><XMTok role="UNKNOWN" font="italic">C</XMTok></XMath></Math>. But this is not the only way Alice can get <Math mode="inline" xml:id="I7.i3.p1.m5" tex="C" text="C" fragid="I7.i3.p1.m5"><XMath><XMTok role="UNKNOWN" font="italic">C</XMTok></XMath></Math>. If Alice is the last to choose, then it is possible that <Math mode="inline" xml:id="I7.i3.p1.m6" tex="C" text="C" fragid="I7.i3.p1.m6"><XMath><XMTok role="UNKNOWN" font="italic">C</XMTok></XMath></Math> is still open, and she can take it. Indeed, if Diane goes first and takes <Math mode="inline" xml:id="I7.i3.p1.m7" tex="A" text="A" fragid="I7.i3.p1.m7"><XMath><XMTok role="UNKNOWN" font="italic">A</XMTok></XMath></Math>, Bob goes second and takes <Math mode="inline" xml:id="I7.i3.p1.m8" tex="B" text="B" fragid="I7.i3.p1.m8"><XMath><XMTok role="UNKNOWN" font="italic">B</XMTok></XMath></Math>, Charlie is third and takes <Math mode="inline" xml:id="I7.i3.p1.m9" tex="D" text="D" fragid="I7.i3.p1.m9"><XMath><XMTok role="UNKNOWN" font="italic">D</XMTok></XMath></Math>, then Alice can get <Math mode="inline" xml:id="I7.i3.p1.m10" tex="C" text="C" fragid="I7.i3.p1.m10"><XMath><XMTok role="UNKNOWN" font="italic">C</XMTok></XMath></Math> although she is the last to choose. Looking at this more closely, one can see that if Alice is fourth and Diane is not the third, Alice would also get <Math mode="inline" xml:id="I7.i3.p1.m11" tex="C" text="C" fragid="I7.i3.p1.m11"><XMath><XMTok role="UNKNOWN" font="italic">C</XMTok></XMath></Math>. This means that the total probability that Alice gets <Math mode="inline" xml:id="I7.i3.p1.m12" tex="C" text="C" fragid="I7.i3.p1.m12"><XMath><XMTok role="UNKNOWN" font="italic">C</XMTok></XMath></Math> is <Math mode="inline" xml:id="I7.i3.p1.m13" tex="\Pr(C)=\frac{5}{12}" text="Pr@(C) = 5 / 12" fragid="I7.i3.p1.m13"><XMath><XMApp><XMTok meaning="equals" role="RELOP">=</XMTok><XMDual><XMApp><XMRef idref="I7.i3.p1.m13.1"/><XMRef idref="I7.i3.p1.m13.2"/></XMApp><XMApp><XMTok role="OPFUNCTION" scriptpos="post" xml:id="I7.i3.p1.m13.1" fragid="I7.i3.p1.m13.1">Pr</XMTok><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMTok role="UNKNOWN" xml:id="I7.i3.p1.m13.2" font="italic" fragid="I7.i3.p1.m13.2">C</XMTok><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMApp></XMDual><XMApp><XMTok mathstyle="text" meaning="divide" role="MULOP"/><XMTok meaning="5" role="NUMBER">5</XMTok><XMTok meaning="12" role="NUMBER">12</XMTok></XMApp></XMApp></XMath></Math>.</p>
          </para>
        </item>
        <item xml:id="I7.i4" fragid="I7.i4">
          <tag>•</tag>
          <para xml:id="I7.i4.p1" fragid="I7.i4.p1">
            <p>With probability <Math mode="inline" xml:id="I7.i4.p1.m1" tex="\frac{1}{12}" text="1 / 12" fragid="I7.i4.p1.m1"><XMath><XMApp><XMTok mathstyle="text" meaning="divide" role="MULOP"/><XMTok meaning="1" role="NUMBER">1</XMTok><XMTok meaning="12" role="NUMBER">12</XMTok></XMApp></XMath></Math>, Alice is fourth, and Diane was third. This is the only case in which Alice gets <Math mode="inline" xml:id="I7.i4.p1.m2" tex="D" text="D" fragid="I7.i4.p1.m2"><XMath><XMTok role="UNKNOWN" font="italic">D</XMTok></XMath></Math>, and therefore <Math mode="inline" xml:id="I7.i4.p1.m3" tex="\Pr(D)=\frac{1}{12}" text="Pr@(D) = 1 / 12" fragid="I7.i4.p1.m3"><XMath><XMApp><XMTok meaning="equals" role="RELOP">=</XMTok><XMDual><XMApp><XMRef idref="I7.i4.p1.m3.1"/><XMRef idref="I7.i4.p1.m3.2"/></XMApp><XMApp><XMTok role="OPFUNCTION" scriptpos="post" xml:id="I7.i4.p1.m3.1" fragid="I7.i4.p1.m3.1">Pr</XMTok><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMTok role="UNKNOWN" xml:id="I7.i4.p1.m3.2" font="italic" fragid="I7.i4.p1.m3.2">D</XMTok><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMApp></XMDual><XMApp><XMTok mathstyle="text" meaning="divide" role="MULOP"/><XMTok meaning="1" role="NUMBER">1</XMTok><XMTok meaning="12" role="NUMBER">12</XMTok></XMApp></XMApp></XMath></Math>.</p>
          </para>
        </item>
      </itemize>
      <p>One can verify that the sum of probabilities is 1, and Alice is always assigned to a hospital.</p>
    </para>
    <para xml:id="S3.p4" fragid="S3.p4">
      <p>A similar argument shows that Bob has probability of <Math mode="inline" xml:id="S3.p4.m1" tex="\frac{1}{4}" text="1 / 4" fragid="S3.p4.m1"><XMath><XMApp><XMTok mathstyle="text" meaning="divide" role="MULOP"/><XMTok meaning="1" role="NUMBER">1</XMTok><XMTok meaning="4" role="NUMBER">4</XMTok></XMApp></XMath></Math> to get <Math mode="inline" xml:id="S3.p4.m2" tex="A" text="A" fragid="S3.p4.m2"><XMath><XMTok role="UNKNOWN" font="italic">A</XMTok></XMath></Math>, probability of <Math mode="inline" xml:id="S3.p4.m3" tex="\frac{1}{4}" text="1 / 4" fragid="S3.p4.m3"><XMath><XMApp><XMTok mathstyle="text" meaning="divide" role="MULOP"/><XMTok meaning="1" role="NUMBER">1</XMTok><XMTok meaning="4" role="NUMBER">4</XMTok></XMApp></XMath></Math> to get <Math mode="inline" xml:id="S3.p4.m4" tex="B" text="B" fragid="S3.p4.m4"><XMath><XMTok role="UNKNOWN" font="italic">B</XMTok></XMath></Math>, probability of <Math mode="inline" xml:id="S3.p4.m5" tex="\frac{5}{12}" text="5 / 12" fragid="S3.p4.m5"><XMath><XMApp><XMTok mathstyle="text" meaning="divide" role="MULOP"/><XMTok meaning="5" role="NUMBER">5</XMTok><XMTok meaning="12" role="NUMBER">12</XMTok></XMApp></XMath></Math> to get <Math mode="inline" xml:id="S3.p4.m6" tex="D" text="D" fragid="S3.p4.m6"><XMath><XMTok role="UNKNOWN" font="italic">D</XMTok></XMath></Math> and probability of <Math mode="inline" xml:id="S3.p4.m7" tex="\frac{1}{12}" text="1 / 12" fragid="S3.p4.m7"><XMath><XMApp><XMTok mathstyle="text" meaning="divide" role="MULOP"/><XMTok meaning="1" role="NUMBER">1</XMTok><XMTok meaning="12" role="NUMBER">12</XMTok></XMApp></XMath></Math> to get <Math mode="inline" xml:id="S3.p4.m8" tex="C" text="C" fragid="S3.p4.m8"><XMath><XMTok role="UNKNOWN" font="italic">C</XMTok></XMath></Math>.</p>
    </para>
    <para xml:id="S3.p5" fragid="S3.p5">
      <p>Note that in this simple example, Alice and Bob could trade probabilities, and this would benefit both of them. Imagine that Bob could somehow give Alice his probability of being assigned to <Math mode="inline" xml:id="S3.p5.m1" tex="C" text="C" fragid="S3.p5.m1"><XMath><XMTok role="UNKNOWN" font="italic">C</XMTok></XMath></Math>, and in return she would give him her probability of being assigned to <Math mode="inline" xml:id="S3.p5.m2" tex="D" text="D" fragid="S3.p5.m2"><XMath><XMTok role="UNKNOWN" font="italic">D</XMTok></XMath></Math>. This would result in a state in which Alice has probability of <Math mode="inline" xml:id="S3.p5.m3" tex="\frac{1}{4}" text="1 / 4" fragid="S3.p5.m3"><XMath><XMApp><XMTok mathstyle="text" meaning="divide" role="MULOP"/><XMTok meaning="1" role="NUMBER">1</XMTok><XMTok meaning="4" role="NUMBER">4</XMTok></XMApp></XMath></Math> for <Math mode="inline" xml:id="S3.p5.m4" tex="A" text="A" fragid="S3.p5.m4"><XMath><XMTok role="UNKNOWN" font="italic">A</XMTok></XMath></Math>, <Math mode="inline" xml:id="S3.p5.m5" tex="\frac{1}{4}" text="1 / 4" fragid="S3.p5.m5"><XMath><XMApp><XMTok mathstyle="text" meaning="divide" role="MULOP"/><XMTok meaning="1" role="NUMBER">1</XMTok><XMTok meaning="4" role="NUMBER">4</XMTok></XMApp></XMath></Math> for <Math mode="inline" xml:id="S3.p5.m6" tex="B" text="B" fragid="S3.p5.m6"><XMath><XMTok role="UNKNOWN" font="italic">B</XMTok></XMath></Math> and <Math mode="inline" xml:id="S3.p5.m7" tex="\frac{1}{2}" text="1 / 2" fragid="S3.p5.m7"><XMath><XMApp><XMTok mathstyle="text" meaning="divide" role="MULOP"/><XMTok meaning="1" role="NUMBER">1</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok></XMApp></XMath></Math> for <Math mode="inline" xml:id="S3.p5.m8" tex="C" text="C" fragid="S3.p5.m8"><XMath><XMTok role="UNKNOWN" font="italic">C</XMTok></XMath></Math>. Bob would have probability of <Math mode="inline" xml:id="S3.p5.m9" tex="\frac{1}{4}" text="1 / 4" fragid="S3.p5.m9"><XMath><XMApp><XMTok mathstyle="text" meaning="divide" role="MULOP"/><XMTok meaning="1" role="NUMBER">1</XMTok><XMTok meaning="4" role="NUMBER">4</XMTok></XMApp></XMath></Math> for <Math mode="inline" xml:id="S3.p5.m10" tex="A" text="A" fragid="S3.p5.m10"><XMath><XMTok role="UNKNOWN" font="italic">A</XMTok></XMath></Math>, <Math mode="inline" xml:id="S3.p5.m11" tex="\frac{1}{4}" text="1 / 4" fragid="S3.p5.m11"><XMath><XMApp><XMTok mathstyle="text" meaning="divide" role="MULOP"/><XMTok meaning="1" role="NUMBER">1</XMTok><XMTok meaning="4" role="NUMBER">4</XMTok></XMApp></XMath></Math> for <Math mode="inline" xml:id="S3.p5.m12" tex="B" text="B" fragid="S3.p5.m12"><XMath><XMTok role="UNKNOWN" font="italic">B</XMTok></XMath></Math> and <Math mode="inline" xml:id="S3.p5.m13" tex="\frac{1}{2}" text="1 / 2" fragid="S3.p5.m13"><XMath><XMApp><XMTok mathstyle="text" meaning="divide" role="MULOP"/><XMTok meaning="1" role="NUMBER">1</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok></XMApp></XMath></Math> for <Math mode="inline" xml:id="S3.p5.m14" tex="D" text="D" fragid="S3.p5.m14"><XMath><XMTok role="UNKNOWN" font="italic">D</XMTok></XMath></Math>, which is an improvement for both of them, compared to the RSD probability shares. Charlie and Diane could trade probabilities among themselves in a similar manner.</p>
    </para>
    <para xml:id="S3.p6" fragid="S3.p6">
      <p>While this already improves the current state of affairs, we can do even better. Suppose that Alice and Bob agree on their first and tenth choices, but Bob’s second choice is some hospital <Math mode="inline" xml:id="S3.p6.m1" tex="H" text="H" fragid="S3.p6.m1"><XMath><XMTok role="UNKNOWN" font="italic">H</XMTok></XMath></Math>, which is also Alice’s ninth choice. Also, suppose that Alice has some positive probability <Math mode="inline" xml:id="S3.p6.m2" tex="p" text="p" fragid="S3.p6.m2"><XMath><XMTok role="UNKNOWN" font="italic">p</XMTok></XMath></Math> of being assigned to <Math mode="inline" xml:id="S3.p6.m3" tex="H" text="H" fragid="S3.p6.m3"><XMath><XMTok role="UNKNOWN" font="italic">H</XMTok></XMath></Math>. In this case both students would possibly be happier if Alice “gives” Bob her probability <Math mode="inline" xml:id="S3.p6.m4" tex="p" text="p" fragid="S3.p6.m4"><XMath><XMTok role="UNKNOWN" font="italic">p</XMTok></XMath></Math> of getting to <Math mode="inline" xml:id="S3.p6.m5" tex="H" text="H" fragid="S3.p6.m5"><XMath><XMTok role="UNKNOWN" font="italic">H</XMTok></XMath></Math>, and Bob would “give” her <Math mode="inline" xml:id="S3.p6.m6" tex="\frac{p}{2}" text="p / 2" fragid="S3.p6.m6"><XMath><XMApp><XMTok mathstyle="text" meaning="divide" role="MULOP"/><XMTok role="UNKNOWN" font="italic">p</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok></XMApp></XMath></Math> probability of getting to his first place, and <Math mode="inline" xml:id="S3.p6.m7" tex="\frac{p}{2}" text="p / 2" fragid="S3.p6.m7"><XMath><XMApp><XMTok mathstyle="text" meaning="divide" role="MULOP"/><XMTok role="UNKNOWN" font="italic">p</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok></XMApp></XMath></Math> probability of getting to his tenth place (see Figure <ref labelref="LABEL:fig:AliceAndBob" href="#S3.F1" title="Figure 1 ‣ 3 The new mechanism"><text class="ltx_ref_tag">1</text></ref>). In this case:</p>
    </para>
    <para xml:id="S3.p7" fragid="S3.p7">
      <enumerate xml:id="I8" fragid="I8">
        <item frefnum="1." refnum="1" xml:id="I8.i1" fragid="I8.i1">
          <tag>1.</tag>
          <para xml:id="I8.i1.p1" fragid="I8.i1.p1">
            <p>Assuming there is no huge gap between the ninth place and the tenth place, Alice should be happy. She “lost” probability <Math mode="inline" xml:id="I8.i1.p1.m1" tex="p" text="p" fragid="I8.i1.p1.m1"><XMath><XMTok role="UNKNOWN" font="italic">p</XMTok></XMath></Math> of getting to her ninth place, and received probability of <Math mode="inline" xml:id="I8.i1.p1.m2" tex="\frac{p}{2}" text="p / 2" fragid="I8.i1.p1.m2"><XMath><XMApp><XMTok mathstyle="text" meaning="divide" role="MULOP"/><XMTok role="UNKNOWN" font="italic">p</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok></XMApp></XMath></Math> to get to her tenth place (similar), and probability of <Math mode="inline" xml:id="I8.i1.p1.m3" tex="\frac{p}{2}" text="p / 2" fragid="I8.i1.p1.m3"><XMath><XMApp><XMTok mathstyle="text" meaning="divide" role="MULOP"/><XMTok role="UNKNOWN" font="italic">p</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok></XMApp></XMath></Math> to get to her first place.</p>
          </para>
        </item>
        <item frefnum="2." refnum="2" xml:id="I8.i2" fragid="I8.i2">
          <tag>2.</tag>
          <para xml:id="I8.i2.p1" fragid="I8.i2.p1">
            <p>Assuming there is no huge gap between the first and second place, Bob should be happy. He lost <Math mode="inline" xml:id="I8.i2.p1.m1" tex="\frac{p}{2}" text="p / 2" fragid="I8.i2.p1.m1"><XMath><XMApp><XMTok mathstyle="text" meaning="divide" role="MULOP"/><XMTok role="UNKNOWN" font="italic">p</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok></XMApp></XMath></Math> probability from his first place and <Math mode="inline" xml:id="I8.i2.p1.m2" tex="\frac{p}{2}" text="p / 2" fragid="I8.i2.p1.m2"><XMath><XMApp><XMTok mathstyle="text" meaning="divide" role="MULOP"/><XMTok role="UNKNOWN" font="italic">p</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok></XMApp></XMath></Math> probability from his tenth place, to get <Math mode="inline" xml:id="I8.i2.p1.m3" tex="p" text="p" fragid="I8.i2.p1.m3"><XMath><XMTok role="UNKNOWN" font="italic">p</XMTok></XMath></Math> probability for his second place.</p>
          </para>
        </item>
      </enumerate>
    </para>
    <figure frefnum="Figure 1" refnum="1" xml:id="S3.F1" labels="LABEL:fig:AliceAndBob" fragid="S3.F1">
      <toccaption class="ltx_centering"><tag close=" ">1</tag>Trading probabilities example</toccaption>
      <caption class="ltx_centering"><tag close=": ">Figure 1</tag>Alice gives Bob her probability of being assigned to <Math mode="inline" xml:id="S3.F1.m1" tex="H" text="H" fragid="S3.F1.m1"><XMath><XMTok role="UNKNOWN" font="italic">H</XMTok></XMath></Math>, and in return she gets half of this probability to her first choice and half of it to her last choice from Bob.</caption>
      <graphics candidates="AliceAndBobGraphs.eps" graphic="AliceAndBobGraphs.eps" options="scale=0.7" xml:id="S3.F1.g1" class="ltx_centering" fragid="S3.F1.g1" imagesrc="x106.png" imagewidth="257" imageheight="149"/>
    </figure>
    <para xml:id="S3.p8" fragid="S3.p8">
      <p>While clearly this trade is beneficial, it raises a couple of subtle points, which are related:
<!-- %**** MasterThesis.tex Line 250 **** --></p>
    </para>
    <para xml:id="S3.p9" fragid="S3.p9">
      <enumerate xml:id="I9" fragid="I9">
        <item frefnum="1." refnum="1" xml:id="I9.i1" fragid="I9.i1">
          <tag>1.</tag>
          <para xml:id="I9.i1.p1" fragid="I9.i1.p1">
            <p>Why should Bob give <Math mode="inline" xml:id="I9.i1.p1.m1" tex="\frac{p}{2}" text="p / 2" fragid="I9.i1.p1.m1"><XMath><XMApp><XMTok mathstyle="text" meaning="divide" role="MULOP"/><XMTok role="UNKNOWN" font="italic">p</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok></XMApp></XMath></Math> of his tenth place and <Math mode="inline" xml:id="I9.i1.p1.m2" tex="\frac{p}{2}" text="p / 2" fragid="I9.i1.p1.m2"><XMath><XMApp><XMTok mathstyle="text" meaning="divide" role="MULOP"/><XMTok role="UNKNOWN" font="italic">p</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok></XMApp></XMath></Math> of his first place? Why not <Math mode="inline" xml:id="I9.i1.p1.m3" tex="\frac{2p}{3}" text="(2 * p) / 3" fragid="I9.i1.p1.m3"><XMath><XMApp><XMTok mathstyle="text" meaning="divide" role="MULOP"/><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok><XMTok role="UNKNOWN" font="italic">p</XMTok></XMApp><XMTok meaning="3" role="NUMBER">3</XMTok></XMApp></XMath></Math> of his tenth place, and <Math mode="inline" xml:id="I9.i1.p1.m4" tex="\frac{p}{3}" text="p / 3" fragid="I9.i1.p1.m4"><XMath><XMApp><XMTok mathstyle="text" meaning="divide" role="MULOP"/><XMTok role="UNKNOWN" font="italic">p</XMTok><XMTok meaning="3" role="NUMBER">3</XMTok></XMApp></XMath></Math> of his first place, or vice verse, or some different numbers?</p>
          </para>
        </item>
        <item frefnum="2." refnum="2" xml:id="I9.i2" fragid="I9.i2">
          <tag>2.</tag>
          <para xml:id="I9.i2.p1" fragid="I9.i2.p1">
            <p>The difference between first and second place is usually larger than that between ninth and tenth place.</p>
          </para>
        </item>
      </enumerate>
    </para>
    <para xml:id="S3.p10" fragid="S3.p10">
      <p>As explained below, the students were asked to fill surveys, to assert the difference between the first and the second place, the second and the third place and so on. Based on the surveys results’, more weight was given to the difference between first and second place than to the difference between the ninth and the tenth.</p>
    </para>
    <para xml:id="S3.p11" fragid="S3.p11">
      <p>One question which was not addressed in these simple examples is how to decide which students should trade with whom, and what trades to perform. Of course, the students do not actually trade with each other, but rather a computer program “virtually” trades on their behalf. We also use more complex trades, which may involve three or more students at once, if they benefit all the participants.</p>
    </para>
    <para xml:id="S3.p12" fragid="S3.p12">
      <p>Another question is how do we perform the lottery at the end of the process? With RSD, we could just choose an ordering over the students. But in the first example, what lottery gives Alice probability of <Math mode="inline" xml:id="S3.p12.m1" tex="\frac{1}{2}" text="1 / 2" fragid="S3.p12.m1"><XMath><XMApp><XMTok mathstyle="text" meaning="divide" role="MULOP"/><XMTok meaning="1" role="NUMBER">1</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok></XMApp></XMath></Math> to get to <Math mode="inline" xml:id="S3.p12.m2" tex="C" text="C" fragid="S3.p12.m2"><XMath><XMTok role="UNKNOWN" font="italic">C</XMTok></XMath></Math> and Bob probability <Math mode="inline" xml:id="S3.p12.m3" tex="\frac{1}{4}" text="1 / 4" fragid="S3.p12.m3"><XMath><XMApp><XMTok mathstyle="text" meaning="divide" role="MULOP"/><XMTok meaning="1" role="NUMBER">1</XMTok><XMTok meaning="4" role="NUMBER">4</XMTok></XMApp></XMath></Math> to get to <Math mode="inline" xml:id="S3.p12.m4" tex="D" text="D" fragid="S3.p12.m4"><XMath><XMTok role="UNKNOWN" font="italic">D</XMTok></XMath></Math>? Note that if each student would just select a random hospital according to the probabilities, it is possible that two students would be assigned to the same hospital, so this is not a valid solution.</p>
    </para>
    <para xml:id="S3.p13" fragid="S3.p13">
      <p>In the rest of the section, we formally explain our method, and solve the two questions presented above.</p>
    </para>
    <subsection refnum="3.1" xml:id="S3.SS1" fragid="S3.SS1">
      <title><tag close=" ">3.1</tag>Description of the new lottery</title>
      <para xml:id="S3.SS1.p1" fragid="S3.SS1.p1">
        <p>Our method works as follows. First, approximate the probability of each student to be assigned to each hospital using RSD. We do this by running a large number of trials, <Math mode="inline" xml:id="S3.SS1.p1.m1" tex="N" text="N" fragid="S3.SS1.p1.m1"><XMath><XMTok role="UNKNOWN" font="italic">N</XMTok></XMath></Math>, and by the law of large numbers the average of all those RSD lotteries will be sufficiently close to the true value. The probability is calculated as</p>
      </para>
      <para xml:id="S3.SS1.p2" fragid="S3.SS1.p2">
        <equation frefnum="(1)" refnum="1" xml:id="S3.E1" labels="LABEL:eq:prob" fragid="S3.E1">
          <Math mode="display" xml:id="S3.E1.m1" tex="p_{i,k}=\frac{n_{i,k}}{N}," text="p _ (list@(i, k)) = n _ (list@(i, k)) / N" fragid="S3.E1.m1">
            <XMath>
              <XMApp punctuation=",">
                <XMTok meaning="equals" role="RELOP">=</XMTok>
                <XMApp>
                  <XMTok role="SUBSCRIPTOP" scriptpos="post2"/>
                  <XMTok role="UNKNOWN" font="italic">p</XMTok>
                  <XMDual>
                    <XMApp>
                      <XMTok meaning="list"/>
                      <XMRef idref="S3.E1.m1.1"/>
                      <XMRef idref="S3.E1.m1.2"/>
                    </XMApp>
                    <XMWrap>
                      <XMTok role="UNKNOWN" xml:id="S3.E1.m1.1" font="italic" fragid="S3.E1.m1.1">i</XMTok>
                      <XMTok role="PUNCT">,</XMTok>
                      <XMTok role="UNKNOWN" xml:id="S3.E1.m1.2" font="italic" fragid="S3.E1.m1.2">k</XMTok>
                    </XMWrap>
                  </XMDual>
                </XMApp>
                <XMApp>
                  <XMTok mathstyle="display" meaning="divide" role="MULOP"/>
                  <XMApp>
                    <XMTok role="SUBSCRIPTOP" scriptpos="post3"/>
                    <XMTok role="UNKNOWN" font="italic">n</XMTok>
                    <XMDual>
                      <XMApp>
                        <XMTok meaning="list"/>
                        <XMRef idref="S3.E1.m1.3"/>
                        <XMRef idref="S3.E1.m1.4"/>
                      </XMApp>
                      <XMWrap>
                        <XMTok role="UNKNOWN" xml:id="S3.E1.m1.3" font="italic" fragid="S3.E1.m1.3">i</XMTok>
                        <XMTok role="PUNCT">,</XMTok>
                        <XMTok role="UNKNOWN" xml:id="S3.E1.m1.4" font="italic" fragid="S3.E1.m1.4">k</XMTok>
                      </XMWrap>
                    </XMDual>
                  </XMApp>
                  <XMTok role="UNKNOWN" font="italic">N</XMTok>
                </XMApp>
              </XMApp>
            </XMath>
          </Math>
        </equation>
        <p>where <Math mode="inline" xml:id="S3.SS1.p2.m1" tex="n_{i,k}" text="n _ (list@(i, k))" fragid="S3.SS1.p2.m1"><XMath><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post2"/><XMTok role="UNKNOWN" font="italic">n</XMTok><XMDual><XMApp><XMTok meaning="list"/><XMRef idref="S3.SS1.p2.m1.1"/><XMRef idref="S3.SS1.p2.m1.2"/></XMApp><XMWrap><XMTok role="UNKNOWN" xml:id="S3.SS1.p2.m1.1" font="italic" fragid="S3.SS1.p2.m1.1">i</XMTok><XMTok role="PUNCT">,</XMTok><XMTok role="UNKNOWN" xml:id="S3.SS1.p2.m1.2" font="italic" fragid="S3.SS1.p2.m1.2">k</XMTok></XMWrap></XMDual></XMApp></XMath></Math> is the number of RSD lotteries in which Student <Math mode="inline" xml:id="S3.SS1.p2.m2" tex="i" text="i" fragid="S3.SS1.p2.m2"><XMath><XMTok role="UNKNOWN" font="italic">i</XMTok></XMath></Math> was assigned to the hospital he ranked as his <Math mode="inline" xml:id="S3.SS1.p2.m3" tex="k" text="k" fragid="S3.SS1.p2.m3"><XMath><XMTok role="UNKNOWN" font="italic">k</XMTok></XMath></Math>-th choice.</p>
      </para>
      <para xml:id="S3.SS1.p3" fragid="S3.SS1.p3">
        <p>Once we have the approximated probabilities we continue with the second stage of the algorithm which is trading the probabilities among the students. We do this using <text font="italic">Linear Programming</text>, which is a mathematical optimization method for maximizing a target function subject to several constraints <cite class="ltx_citemacro_cite">[<ref class="ltx_missing_citation" idref="Kantorovich" title="Kantorovich">Kantorovich</ref>]</cite>.<note mark="7" role="footnote">Similar approaches to object assignment have been already suggested. See, for example, <cite class="ltx_citemacro_cite">[<ref class="ltx_missing_citation" idref="featherstone2014" title="featherstone2014">featherstone2014</ref>]</cite> and <cite class="ltx_citemacro_cite">[<ref class="ltx_missing_citation" idref="hz1979" title="hz1979">hz1979</ref>]</cite>.</note> In our interns assignment problem there are two constraints:</p>
      </para>
      <!-- %**** MasterThesis.tex Line 275 **** -->
      <para xml:id="S3.SS1.p4" fragid="S3.SS1.p4">
        <enumerate xml:id="I10" fragid="I10">
          <item frefnum="1." refnum="1" xml:id="I10.i1" fragid="I10.i1">
            <tag>1.</tag>
            <para xml:id="I10.i1.p1" fragid="I10.i1.p1">
              <p>Each hospital has an upper limit for the number of interns that can be assigned to it. This <text font="italic">capacity constraint</text> is determined by the Ministry of Health.</p>
            </para>
          </item>
          <item frefnum="2." refnum="2" xml:id="I10.i2" fragid="I10.i2">
            <tag>2.</tag>
            <para xml:id="I10.i2.p1" fragid="I10.i2.p1">
              <p>No student is worse off compared to what he would have got under RSD. This <text font="italic">individual rationality constraint</text> is enforced by defining the <text font="italic">happiness</text> of each student from his vector of probabilities, and then requiring that for every student individually the happiness can not decrease by the trading stage (intuitively if this would decrease his happiness the student would not trade)</p>
            </para>
          </item>
        </enumerate>
      </para>
      <para xml:id="S3.SS1.p5" fragid="S3.SS1.p5">
        <p>As for the target function, we want to maximize the total satisfaction of the students after trading. The full description of the constraints and the target function appears in Appendix <ref labelref="LABEL:app:A" href="#A1" title="Appendix A Linear programming technical explanation"><text class="ltx_ref_tag">A</text></ref>.</p>
      </para>
      <para xml:id="S3.SS1.p6" fragid="S3.SS1.p6">
        <p>After the optimal probabilities have been acquired, we only need to randomize an allocation according to these probabilities. This, however, is not an easy process, as we want the lottery over valid allocations to respect all the interns’ probability allocations simultaneously. Fortunately, the Birkhoff-von Neumann theorem provides a solution to this problem <cite class="ltx_citemacro_cite">[<ref class="ltx_missing_citation" idref="birkhoff1946" title="birkhoff1946">birkhoff1946</ref>, <ref class="ltx_missing_citation" idref="vonneumann1953" title="vonneumann1953">vonneumann1953</ref>]</cite> . In order to apply the theorem for the allocation problem, we represent the probabilities data we have until this stage with a matrix of size <Math mode="inline" xml:id="S3.SS1.p6.m1" tex="n\times m" text="n * m" fragid="S3.SS1.p6.m1"><XMath><XMApp><XMTok meaning="times" role="MULOP">×</XMTok><XMTok role="UNKNOWN" font="italic">n</XMTok><XMTok role="UNKNOWN" font="italic">m</XMTok></XMApp></XMath></Math>, where the rows are the interns, the columns are the hospitals, and cell <Math mode="inline" xml:id="S3.SS1.p6.m2" tex="(i,j)" text="open-interval@(i, j)" fragid="S3.SS1.p6.m2"><XMath><XMDual><XMApp><XMTok meaning="open-interval"/><XMRef idref="S3.SS1.p6.m2.1"/><XMRef idref="S3.SS1.p6.m2.2"/></XMApp><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMTok role="UNKNOWN" xml:id="S3.SS1.p6.m2.1" font="italic" fragid="S3.SS1.p6.m2.1">i</XMTok><XMTok role="PUNCT">,</XMTok><XMTok role="UNKNOWN" xml:id="S3.SS1.p6.m2.2" font="italic" fragid="S3.SS1.p6.m2.2">j</XMTok><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMDual></XMath></Math> represents Student <Math mode="inline" xml:id="S3.SS1.p6.m3" tex="i" text="i" fragid="S3.SS1.p6.m3"><XMath><XMTok role="UNKNOWN" font="italic">i</XMTok></XMath></Math>’s probability to be assigned to Hospital <Math mode="inline" xml:id="S3.SS1.p6.m4" tex="j" text="j" fragid="S3.SS1.p6.m4"><XMath><XMTok role="UNKNOWN" font="italic">j</XMTok></XMath></Math>. The theorem ensures that any random assignment of the objects in the rows of the matrix to the objects in the columns can be implemented. Furthermore, Birkhoff’s proof provides a constructive algorithm for the implementation <cite class="ltx_citemacro_cite">[<ref class="ltx_missing_citation" idref="pml1986" title="pml1986">pml1986</ref>]</cite>. Using an extension of this theorem we can create a lottery which respects the improved probabilities gained by trading <cite class="ltx_citemacro_cite">[<ref class="ltx_missing_citation" idref="bckm2013" title="bckm2013">bckm2013</ref>]</cite>.</p>
      </para>
    </subsection>
  </section>
  <section refnum="4" xml:id="S4" fragid="S4">
    <title><tag close=" ">4</tag>The new lottery results</title>
    <para xml:id="S4.p1" fragid="S4.p1">
      <p>Figure <ref labelref="LABEL:fig:cumulativePlace" href="#S4.F2" title="Figure 2 ‣ 4 The new lottery results"><text class="ltx_ref_tag">2</text></ref> depicts the number of students who were assigned to one of their top <Math mode="inline" xml:id="S4.p1.m1" tex="k" text="k" fragid="S4.p1.m1"><XMath><XMTok role="UNKNOWN" font="italic">k</XMTok></XMath></Math> choices as a function of <Math mode="inline" xml:id="S4.p1.m2" tex="k" text="k" fragid="S4.p1.m2"><XMath><XMTok role="UNKNOWN" font="italic">k</XMTok></XMath></Math>. The gap between the two curves shown in the figure (the area under the dashed curve) represents the improvement of the new method compared to RSD. While RSD would assign 203 interns to their first choice hospital, 50 to the second and 59 to the third, the new method assigns 216 interns to their first choice, 84 to their second choice and 70 to the third choice.</p>
    </para>
    <figure frefnum="Figure 2" refnum="2" xml:id="S4.F2" labels="LABEL:fig:cumulativePlace" fragid="S4.F2">
      <toccaption class="ltx_centering"><tag close=" ">2</tag>Comparison between the old and the new methods</toccaption>
      <caption class="ltx_centering"><tag close=": ">Figure 2</tag>The number of interns as a function of being assigned one of their top choices. The solid line shows the results of RSD, and the dashed line shows the result of the new method.</caption>
      <graphics candidates="cumulativePlaceZeroYAxisBlackAndWhite.eps" graphic="cumulativePlaceZeroYAxisBlackAndWhite.eps" options="scale=0.42" xml:id="S4.F2.g1" class="ltx_centering" fragid="S4.F2.g1" imagesrc="x107.png" imagewidth="503" imageheight="145"/>
    </figure>
    <para xml:id="S4.p2" fragid="S4.p2">
      <p>Furthermore, using our data we would like to rate hospitals, according to how high the interns ranked them. Such a rating can be useful, since it gives the hospitals a better picture of their status, and raises a red flag if a specific hospital should improve the way it treats its interns or signals quality to the Ministry of Health. Before we aggregate the data to create such a rating, it is useful to look at the ranking distribution of a specific hospital, and see if it makes sense.</p>
    </para>
    <para xml:id="S4.p3" fragid="S4.p3">
      <p>For example, Hadassah Medical Center’s ranking distribution is depicted in Figure <ref labelref="LABEL:fig:HhadassahRanks" href="#S4.F3" title="Figure 3 ‣ 4 The new lottery results"><text class="ltx_ref_tag">3</text></ref>. About <Math mode="inline" xml:id="S4.p3.m1" tex="10\%" text="10percent" fragid="S4.p3.m1"><XMath><XMApp><XMTok meaning="percent" role="POSTFIX">%</XMTok><XMTok meaning="10" role="NUMBER">10</XMTok></XMApp></XMath></Math> of the interns ranked Hadassah as one of their top three choices, which possibly indicates that they are residents of Jerusalem and that location is important to them. The rest of the students ranked Hadassah around the middle of their rank order list, suggesting that interns consider Hadassah to be a good hospital, and that the demand for being an intern there is quite high.</p>
    </para>
    <figure frefnum="Figure 3" refnum="3" xml:id="S4.F3" labels="LABEL:fig:HhadassahRanks" fragid="S4.F3">
      <!-- %**** MasterThesis.tex Line 300 **** -->
      <toccaption class="ltx_centering"><tag close=" ">3</tag>Hadassah hospital’s rankings</toccaption>
      <caption class="ltx_centering"><tag close=": ">Figure 3</tag>The number of interns who ranked <text font="italic">Hadassah</text> hospital in each place.</caption>
      <graphics candidates="HhadasahRanks.eps" graphic="HhadasahRanks.eps" options="scale=0.45" xml:id="S4.F3.g1" class="ltx_centering" fragid="S4.F3.g1" imagesrc="x108.png" imagewidth="340" imageheight="169"/>
    </figure>
    <para xml:id="S4.p4" fragid="S4.p4">
      <p>We now aggregate the rankings of all students, to create a rating across hospitals. We compare two methods of rating the hospitals. The first method is to use the same weights that we used when defining students’ happiness, as described in Eq. <ref labelref="LABEL:eq:happinessBefore" href="#A1.E3" title="(3) ‣ Appendix A Linear programming technical explanation"><text class="ltx_ref_tag">3</text></ref>.<note mark="8" role="footnote">The rating we get using this method is very similar to the rating one gets using the more familiar Borda Count method.</note> The second method is the traditional rating of hospitals in this lottery, which is based on the number of interns who ranked a specific hospital as their first choice. Figure <ref labelref="LABEL:fig:Ranks" href="#S4.F4" title="Figure 4 ‣ 4 The new lottery results"><text class="ltx_ref_tag">4</text></ref> demonstrates that our new rating approach provides very different results from the traditional rating approach, and it is perhaps more advisable to use it as it takes into account the entire rank order lists of all students.</p>
    </para>
    <figure frefnum="Figure 4" refnum="4" xml:id="S4.F4" labels="LABEL:fig:Ranks" fragid="S4.F4">
      <toccaption class="ltx_centering"><tag close=" ">4</tag>Comparison between two rating approaches</toccaption>
      <caption class="ltx_centering"><tag close=": ">Figure 4</tag>A comparison between two rating approaches. <text font="bold">[A]</text> The number of interns who
ranked the given hospital as their first choice. <text font="bold">[B]</text> The calculated value of the given
hospital according to the survey-based weights.</caption>
      <graphics candidates="figure4.eps" graphic="figure4.eps" options="scale=0.45" xml:id="S4.F4.g1" class="ltx_centering" fragid="S4.F4.g1" imagesrc="x109.png" imagewidth="540" imageheight="267"/>
    </figure>
    <para xml:id="S4.p5" fragid="S4.p5">
      <p>Comparing the two ratings, one can see several differences:</p>
      <enumerate xml:id="I11" fragid="I11">
        <item frefnum="1." refnum="1" xml:id="I11.i1" fragid="I11.i1">
          <tag>1.</tag>
          <para xml:id="I11.i1.p1" fragid="I11.i1.p1">
            <p>In the traditional approach, Rabin-Hasharon comes out last, although Rabin-Beilinson came in second. The reason that this happens, is that every student rates Rabin-Belinson above Rabin-Hasharon, so Rabin Hasharon is never first.
However, the difference is very small - they are both campuses of the Rabin Hospital, and are 10 minutes apart.<note mark="9" role="footnote">Previously they appeared together in the internship forms under ”Rabin” and a second lottery was performed between the students to see which student goes to which campus</note> In the new rating, Belinson comes in first (but almost at a tie with Ichilov), and Hasharon comes sixth.</p>
          </para>
        </item>
        <item frefnum="2." refnum="2" xml:id="I11.i2" fragid="I11.i2">
          <tag>2.</tag>
          <para xml:id="I11.i2.p1" fragid="I11.i2.p1">
            <p>The last hospitals in the traditional rating have very low scores, and a single student who changes his vote can change the rating. The new rating is much more robust.</p>
          </para>
        </item>
        <item frefnum="3." refnum="3" xml:id="I11.i3" fragid="I11.i3">
          <tag>3.</tag>
          <para xml:id="I11.i3.p1" fragid="I11.i3.p1">
            <p>The decay in the score makes more sense in the second rating. It is never too sharp, and there is no huge difference between the first two places.</p>
          </para>
        </item>
      </enumerate>
    </para>
    <!-- %**** MasterThesis.tex Line 325 **** -->
    <para xml:id="S4.p6" fragid="S4.p6">
      <p>We take the new rating as further evidence that the values at which the algorithm trades probabilities make sense.</p>
    </para>
  </section>
  <section refnum="5" xml:id="S5" labels="LABEL:two:body" fragid="S5">
    <title><tag close=" ">5</tag>Couples in the assignment problem</title>
    <para xml:id="S5.p1" fragid="S5.p1">
      <p>This section will deal with the students internship committee’s second condition, and how we were able to comply with it. In the past, any two students were allowed to declare that they are a “couple” and be matched together (that is, to the same hospital) by receiving only one joint turn in the Random Serial Dictatorship. The committee required us to give couples the same option under the new algorithm. Similar to several other algorithms for assignment of indivisible objects (e.g., <cite class="ltx_citemacro_cite">[<ref class="ltx_missing_citation" idref="hz1979" title="hz1979">hz1979</ref>, <ref class="ltx_missing_citation" idref="bm2001" title="bm2001">bm2001</ref>]</cite>), our algorithm “trades” probabilities among participants (based on their preferences), and reaches a stochastic matrix that has to be decomposed into a convex combination of valid assignments. The last step uses the famous Birkhoff-von Neumann decomposition process <cite class="ltx_citemacro_cite">[<ref class="ltx_missing_citation" idref="birkhoff1946" title="birkhoff1946">birkhoff1946</ref>, <ref class="ltx_missing_citation" idref="vonneumann1953" title="vonneumann1953">vonneumann1953</ref>]</cite>. The fact that couples cannot be split imposes (hard) complementarity constraints, which invalidates some of the assignments, and consequently the decomposition process may become harder or even impossible. On the bright side, only stochastic matrices in which both members of the couple get exactly the same probability for each hospital are candidates for decomposition. Is this little advantage enough to make the problem solvable? And if not, what could be done?</p>
    </para>
    <para xml:id="S5.p2" fragid="S5.p2">
      <p>In this work we first show that not only is the problem often not solvable when there are couples, but also that it is NP-hard to determine whether a given stochastic matrix with couples can be decomposed (Theorem <ref labelref="LABEL:th:np_hard" href="#Thmtheorem1" title="Theorem 1. ‣ 5.4 NP-hardness result ‣ 5 Couples in the assignment problem"><text class="ltx_ref_tag">1</text></ref>). This result extends trivially to environments with more general complementarities between groups of participants.</p>
    </para>
    <para xml:id="S5.p3" fragid="S5.p3">
      <p>Our second main contribution is in bypassing this impossibility result by providing a polynomial time approximation algorithm that outputs a convex combination of valid assignments that is similar to the target stochastic matrix. We show that the approximation is tight and behaves like <Math mode="inline" xml:id="S5.p3.m1" tex="2/\underline{q}" text="2 / underline@(q)" fragid="S5.p3.m1"><XMath><XMApp><XMTok mathstyle="inline" meaning="divide" role="MULOP">/</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok><XMApp><XMTok name="underline" role="UNDERACCENT">¯</XMTok><XMTok role="UNKNOWN" font="italic">q</XMTok></XMApp></XMApp></XMath></Math>, where <Math mode="inline" xml:id="S5.p3.m2" tex="\underline{q}" text="underline@(q)" fragid="S5.p3.m2"><XMath><XMApp><XMTok name="underline" role="UNDERACCENT">¯</XMTok><XMTok role="UNKNOWN" font="italic">q</XMTok></XMApp></XMath></Math> is the capacity of the smallest hospital participating in the match. In the last section of the thesis we consider several extensions of the algorithm that can be useful for other applications. We also use anonymized preferences data provided by the MoH to subsample and test our algorithm performance. We find that our algorithm often performs significantly better on actual data (compared to the theoretical bounds we establish).</p>
    </para>
    <subsection refnum="5.1" xml:id="S5.SS1" labels="LABEL:subsec:our_results" fragid="S5.SS1">
      <title><tag close=" ">5.1</tag>Our Results</title>
      <para xml:id="S5.SS1.p1" fragid="S5.SS1.p1">
        <enumerate xml:id="I12" fragid="I12">
          <item frefnum="1." refnum="1" xml:id="I12.i1" fragid="I12.i1">
            <tag>1.</tag>
            <para xml:id="I12.i1.p1" fragid="I12.i1.p1">
              <p>It is NP-hard to determine whether a stochastic matrix with couples can be decomposed into a convex combination of deterministic assignments with couples.</p>
            </para>
          </item>
          <item frefnum="2." refnum="2" xml:id="I12.i2" fragid="I12.i2">
            <tag>2.</tag>
            <para xml:id="I12.i2.p1" fragid="I12.i2.p1">
              <p>It is possible to approximate such a decomposition in polynomial time. The approximation is tight and its quality is reciprocal to the smallest hospital’ capacity.</p>
            </para>
          </item>
          <item frefnum="3." refnum="3" xml:id="I12.i3" fragid="I12.i3">
            <tag>3.</tag>
            <para xml:id="I12.i3.p1" fragid="I12.i3.p1">
              <p>Subsampling real preferences data from the Israeli Medical Internship Match for which the approximation was developed shows excellent performance of the approximation algorithm.</p>
            </para>
          </item>
        </enumerate>
      </para>
    </subsection>
    <subsection refnum="5.2" xml:id="S5.SS2" labels="LABEL:subsec:related_work" fragid="S5.SS2">
      <title><tag close=" ">5.2</tag>Related Work</title>
      <para xml:id="S5.SS2.p1" fragid="S5.SS2.p1">
        <p>In the past two decades, mechanism design has been applied in ubiquitous contexts and markets. The first and foremost is auctions <cite class="ltx_citemacro_cite">[<ref class="ltx_missing_citation" idref="ashlagi2009ascending" title="ashlagi2009ascending">ashlagi2009ascending</ref>, <ref class="ltx_missing_citation" idref="ashlagi2010position" title="ashlagi2010position">ashlagi2010position</ref>, <ref class="ltx_missing_citation" idref="aumann2014auctioning" title="aumann2014auctioning">aumann2014auctioning</ref>, <ref class="ltx_missing_citation" idref="chen2010robust" title="chen2010robust">chen2010robust</ref>, <ref class="ltx_missing_citation" idref="hassidim2011non" title="hassidim2011non">hassidim2011non</ref>, <ref class="ltx_missing_citation" idref="DBLP:conf/wine/HassidimKMN12" title="DBLP:conf/wine/HassidimKMN12">DBLP:conf/wine/HassidimKMN12</ref>]</cite>, but other examples include division of goods in a fair way
(e.g. cake cutting
<cite class="ltx_citemacro_cite">[<ref class="ltx_missing_citation" idref="aumann2013computing" title="aumann2013computing">aumann2013computing</ref>, <ref class="ltx_missing_citation" idref="segal2015waste" title="segal2015waste">segal2015waste</ref>, <ref class="ltx_missing_citation" idref="segal2015envy" title="segal2015envy">segal2015envy</ref>, <ref class="ltx_missing_citation" idref="segal2014fair" title="segal2014fair">segal2014fair</ref>]</cite>
studying the effect and utilization of networks
<cite class="ltx_citemacro_cite">[<ref class="ltx_missing_citation" idref="danna2012upward" title="danna2012upward">danna2012upward</ref>, <ref class="ltx_missing_citation" idref="hassidim2013network" title="hassidim2013network">hassidim2013network</ref>, <ref class="ltx_missing_citation" idref="sina2015adapting" title="sina2015adapting">sina2015adapting</ref>]</cite>, matching markets
<!-- %**** MasterThesis.tex Line 350 **** --><cite class="ltx_citemacro_cite">[<ref class="ltx_missing_citation" idref="DBLP:journals/ior/AshlagiBH14" title="DBLP:journals/ior/AshlagiBH14">DBLP:journals/ior/AshlagiBH14</ref>, <ref class="ltx_missing_citation" idref="hajaj2015strategy" title="hajaj2015strategy">hajaj2015strategy</ref>]</cite>, and other topics in social choice
<cite class="ltx_citemacro_cite">[<ref class="ltx_missing_citation" idref="ashlagi2010monotonicity" title="ashlagi2010monotonicity">ashlagi2010monotonicity</ref>, <ref class="ltx_missing_citation" idref="ajtai2009sorting" title="ajtai2009sorting">ajtai2009sorting</ref>, <ref class="ltx_missing_citation" idref="azaria2013movie" title="azaria2013movie">azaria2013movie</ref>, <ref class="ltx_missing_citation" idref="lutomirskibreaking" title="lutomirskibreaking">lutomirskibreaking</ref>, <ref class="ltx_missing_citation" idref="sofer2012negotiation" title="sofer2012negotiation">sofer2012negotiation</ref>, <ref class="ltx_missing_citation" idref="hassidim2014local" title="hassidim2014local">hassidim2014local</ref>, <ref class="ltx_missing_citation" idref="hassidim2014approximate" title="hassidim2014approximate">hassidim2014approximate</ref>, <ref class="ltx_missing_citation" idref="cook2013grow" title="cook2013grow">cook2013grow</ref>, <ref class="ltx_missing_citation" idref="farhi2012quantum" title="farhi2012quantum">farhi2012quantum</ref>]</cite>.</p>
      </para>
      <para xml:id="S5.SS2.p2" fragid="S5.SS2.p2">
        <p>The assignment problem with couples is a specific case of multi-unit allocation of indivisible objects without transfers (for example, course allocation), and we indeed intend for our treatment to convey a message regarding the more general case. <cite class="ltx_citemacro_cite">[<ref class="ltx_missing_citation" idref="budish2011" title="budish2011">budish2011</ref>]</cite> provides a deterministic algorithm to find an <text font="italic">ex-post</text> efficient allocation that represent an approximately competitive equilibrium from approximately equal incomes. <cite class="ltx_citemacro_cite">[<ref class="ltx_missing_citation" idref="bckm2013" title="bckm2013">bckm2013</ref>]</cite> suggest a decomposition in the spirit of Birkhoff and von-Neumann, but complementarities are not allowed. A contemporary working paper by <cite class="ltx_citemacro_cite">[<ref class="ltx_missing_citation" idref="npv2014" title="npv2014">npv2014</ref>]</cite> is the closest to ours, and it solves the problem of allocating bundles of indivisible objects by assuming (like we do) that bundles are limited in size, and that the capacity constraints are “soft”. While we insist on capacities being met, allowing deviations as those of Nguyen et al. and then correcting them in a smart way will give a result similar to our approximation result (Theorem <ref labelref="LABEL:th:approximationAlgorithm" href="#Thmtheorem3" title="Theorem 3. ‣ 5.5.2 Suggested algorithm for upper bound ‣ 5.5 Approximation ‣ 5 Couples in the assignment problem"><text class="ltx_ref_tag">3</text></ref>, see also Section <ref labelref="LABEL:sec:extensions" href="#S7" title="7 Extensions"><text class="ltx_ref_tag">7</text></ref>). <cite class="ltx_citemacro_cite">[<ref class="ltx_missing_citation" idref="an2014" title="an2014">an2014</ref>]</cite> suggest a different kind of approximation, by ignoring the couples constraint with a small probability.</p>
      </para>
      <para xml:id="S5.SS2.p3" fragid="S5.SS2.p3">
        <p>The motivation for decomposing stochastic assignment matrices comes from mechanisms that efficiently allocate probabilities in the interim stage. Notable contributions for the case of single-item assignments are <cite class="ltx_citemacro_cite">[<ref class="ltx_missing_citation" idref="hz1979" title="hz1979">hz1979</ref>]</cite> who proposes a competitive equilibrium from equal incomes approach, <cite class="ltx_citemacro_cite">[<ref class="ltx_missing_citation" idref="bm2001" title="bm2001">bm2001</ref>]</cite> who suggest the Probabilistic Serial mechanism which is ordinally efficient (i.e., interim efficient given ordinal preferences and not cardinal preferences), and <cite class="ltx_citemacro_cite">[<ref class="ltx_missing_citation" idref="featherstone2014" title="featherstone2014">featherstone2014</ref>]</cite> who studies rank-efficient mechanisms (similar in spirit to the one implemented by us for the Israeli Medical Internship Match). We note that several authors have dealt with the case of object assignment when objects are the endowment of some agents, in which case the top-trading cycles (or a variation thereof) is often the mechanism of choice (see, e.g., <cite class="ltx_citemacro_cite">[<ref class="ltx_missing_citation" idref="ss1974" title="ss1974">ss1974</ref>, <ref class="ltx_missing_citation" idref="as2003" title="as2003">as2003</ref>]</cite>).</p>
      </para>
      <para xml:id="S5.SS2.p4" fragid="S5.SS2.p4">
        <p>Finally the effect of couples in matching problems has also been studied in the context of two-sided matching. See, for example, the works by <cite class="ltx_citemacro_cite">[<ref class="ltx_missing_citation" idref="kpr2013" title="kpr2013">kpr2013</ref>]</cite> and <cite class="ltx_citemacro_cite">[<ref class="ltx_missing_citation" idref="abh2014" title="abh2014">abh2014</ref>]</cite>. A treatment more related to our current approach is provided by <cite class="ltx_citemacro_cite">[<ref class="ltx_missing_citation" idref="nv2014" title="nv2014">nv2014</ref>]</cite>.</p>
      </para>
    </subsection>
    <subsection refnum="5.3" xml:id="S5.SS3" labels="LABEL:sec:model" fragid="S5.SS3">
      <title><tag close=" ">5.3</tag>Model and Notation</title>
      <para xml:id="S5.SS3.p1" fragid="S5.SS3.p1">
        <p>An assignment problem with couples is a tuple <Math mode="inline" xml:id="S5.SS3.p1.m1" tex="\left(S,C,H,M\right)" text="vector@(S, C, H, M)" fragid="S5.SS3.p1.m1"><XMath><XMDual><XMApp><XMTok meaning="vector"/><XMRef idref="S5.SS3.p1.m1.1"/><XMRef idref="S5.SS3.p1.m1.2"/><XMRef idref="S5.SS3.p1.m1.3"/><XMRef idref="S5.SS3.p1.m1.4"/></XMApp><XMWrap><XMTok role="OPEN">(</XMTok><XMTok role="UNKNOWN" xml:id="S5.SS3.p1.m1.1" font="italic" fragid="S5.SS3.p1.m1.1">S</XMTok><XMTok role="PUNCT">,</XMTok><XMTok role="UNKNOWN" xml:id="S5.SS3.p1.m1.2" font="italic" fragid="S5.SS3.p1.m1.2">C</XMTok><XMTok role="PUNCT">,</XMTok><XMTok role="UNKNOWN" xml:id="S5.SS3.p1.m1.3" font="italic" fragid="S5.SS3.p1.m1.3">H</XMTok><XMTok role="PUNCT">,</XMTok><XMTok role="UNKNOWN" xml:id="S5.SS3.p1.m1.4" font="italic" fragid="S5.SS3.p1.m1.4">M</XMTok><XMTok role="CLOSE">)</XMTok></XMWrap></XMDual></XMath></Math>. <Math mode="inline" xml:id="S5.SS3.p1.m2" tex="S" text="S" fragid="S5.SS3.p1.m2"><XMath><XMTok role="UNKNOWN" font="italic">S</XMTok></XMath></Math> is a finite set of single interns, <Math mode="inline" xml:id="S5.SS3.p1.m3" tex="C" text="C" fragid="S5.SS3.p1.m3"><XMath><XMTok role="UNKNOWN" font="italic">C</XMTok></XMath></Math> a finite set of couples of interns, with each <Math mode="inline" xml:id="S5.SS3.p1.m4" tex="c\in C" text="c element-of C" fragid="S5.SS3.p1.m4"><XMath><XMApp><XMTok meaning="element-of" name="in" role="RELOP">∈</XMTok><XMTok role="UNKNOWN" font="italic">c</XMTok><XMTok role="UNKNOWN" font="italic">C</XMTok></XMApp></XMath></Math> being a set of two interns <Math mode="inline" xml:id="S5.SS3.p1.m5" tex="c=\{c_{1},c_{2}\}" text="c = set@(c _ 1, c _ 2)" fragid="S5.SS3.p1.m5"><XMath><XMApp><XMTok meaning="equals" role="RELOP">=</XMTok><XMTok role="UNKNOWN" font="italic">c</XMTok><XMDual><XMApp><XMTok meaning="set"/><XMRef idref="S5.SS3.p1.m5.1"/><XMRef idref="S5.SS3.p1.m5.2"/></XMApp><XMWrap><XMTok role="OPEN" stretchy="false">{</XMTok><XMApp xml:id="S5.SS3.p1.m5.1" fragid="S5.SS3.p1.m5.1"><XMTok role="SUBSCRIPTOP" scriptpos="post2"/><XMTok role="UNKNOWN" font="italic">c</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp><XMTok role="PUNCT">,</XMTok><XMApp xml:id="S5.SS3.p1.m5.2" fragid="S5.SS3.p1.m5.2"><XMTok role="SUBSCRIPTOP" scriptpos="post2"/><XMTok role="UNKNOWN" font="italic">c</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok></XMApp><XMTok role="CLOSE" stretchy="false">}</XMTok></XMWrap></XMDual></XMApp></XMath></Math>. We denote by <Math mode="inline" xml:id="S5.SS3.p1.m6" tex="I=S\cup\left(\bigcup_{c\in C}c\right)" text="I = S union (union _ (c element-of C))@(c)" fragid="S5.SS3.p1.m6"><XMath><XMApp><XMTok meaning="equals" role="RELOP">=</XMTok><XMTok role="UNKNOWN" font="italic">I</XMTok><XMApp><XMTok meaning="union" name="cup" role="ADDOP">∪</XMTok><XMTok role="UNKNOWN" font="italic">S</XMTok><XMDual><XMRef idref="S5.SS3.p1.m6.1"/><XMWrap><XMTok role="OPEN">(</XMTok><XMApp xml:id="S5.SS3.p1.m6.1" fragid="S5.SS3.p1.m6.1"><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post3"/><XMTok mathstyle="text" meaning="union" name="bigcup" role="SUMOP" scriptpos="post" fontsize="160%">⋃</XMTok><XMApp><XMTok meaning="element-of" name="in" role="RELOP">∈</XMTok><XMTok role="UNKNOWN" font="italic">c</XMTok><XMTok role="UNKNOWN" font="italic">C</XMTok></XMApp></XMApp><XMTok role="UNKNOWN" font="italic">c</XMTok></XMApp><XMTok role="CLOSE">)</XMTok></XMWrap></XMDual></XMApp></XMApp></XMath></Math> the set of all interns. <Math mode="inline" xml:id="S5.SS3.p1.m7" tex="H" text="H" fragid="S5.SS3.p1.m7"><XMath><XMTok role="UNKNOWN" font="italic">H</XMTok></XMath></Math> is a finite set of hospitals. <Math mode="inline" xml:id="S5.SS3.p1.m8" tex="M\in[0,1]^{I\times H}" text="M element-of (closed-interval@(0, 1)) ^ (I * H)" fragid="S5.SS3.p1.m8"><XMath><XMApp><XMTok meaning="element-of" name="in" role="RELOP">∈</XMTok><XMTok role="UNKNOWN" font="italic">M</XMTok><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post2"/><XMDual><XMApp><XMTok meaning="closed-interval"/><XMRef idref="S5.SS3.p1.m8.1"/><XMRef idref="S5.SS3.p1.m8.2"/></XMApp><XMWrap><XMTok role="OPEN" stretchy="false">[</XMTok><XMTok meaning="0" role="NUMBER" xml:id="S5.SS3.p1.m8.1" fragid="S5.SS3.p1.m8.1">0</XMTok><XMTok role="PUNCT">,</XMTok><XMTok meaning="1" role="NUMBER" xml:id="S5.SS3.p1.m8.2" fragid="S5.SS3.p1.m8.2">1</XMTok><XMTok role="CLOSE" stretchy="false">]</XMTok></XMWrap></XMDual><XMApp><XMTok meaning="times" role="MULOP">×</XMTok><XMTok role="UNKNOWN" font="italic">I</XMTok><XMTok role="UNKNOWN" font="italic">H</XMTok></XMApp></XMApp></XMApp></XMath></Math> is <text font="italic">the target matrix</text> and it satisfies</p>
        <enumerate xml:id="I13" fragid="I13">
          <item frefnum="1." refnum="1" xml:id="I13.i1" fragid="I13.i1">
            <tag>1.</tag>
            <para xml:id="I13.i1.p1" fragid="I13.i1.p1">
              <p><Math mode="inline" xml:id="I13.i1.p1.m1" tex="\forall i\in I:\sum_{h\in H}M_{i,h}=1" text="for-all@(i) element-of I colon (sum _ (h element-of H))@(M _ (list@(i, h))) = 1" fragid="I13.i1.p1.m1"><XMath><XMApp><XMTok name="colon" role="METARELOP">:</XMTok><XMApp><XMTok meaning="element-of" name="in" role="RELOP">∈</XMTok><XMApp><XMTok meaning="for-all" name="forall" role="BIGOP">∀</XMTok><XMTok role="UNKNOWN" font="italic">i</XMTok></XMApp><XMTok role="UNKNOWN" font="italic">I</XMTok></XMApp><XMApp><XMTok meaning="equals" role="RELOP">=</XMTok><XMApp><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post3"/><XMTok mathstyle="text" meaning="sum" role="SUMOP" scriptpos="post">∑</XMTok><XMApp><XMTok meaning="element-of" name="in" role="RELOP">∈</XMTok><XMTok role="UNKNOWN" font="italic">h</XMTok><XMTok role="UNKNOWN" font="italic">H</XMTok></XMApp></XMApp><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post3"/><XMTok role="UNKNOWN" font="italic">M</XMTok><XMDual><XMApp><XMTok meaning="list"/><XMRef idref="I13.i1.p1.m1.1"/><XMRef idref="I13.i1.p1.m1.2"/></XMApp><XMWrap><XMTok role="UNKNOWN" xml:id="I13.i1.p1.m1.1" font="italic" fragid="I13.i1.p1.m1.1">i</XMTok><XMTok role="PUNCT">,</XMTok><XMTok role="UNKNOWN" xml:id="I13.i1.p1.m1.2" font="italic" fragid="I13.i1.p1.m1.2">h</XMTok></XMWrap></XMDual></XMApp></XMApp><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp></XMApp></XMath></Math>, and</p>
            </para>
          </item>
          <item frefnum="2." refnum="2" xml:id="I13.i2" fragid="I13.i2">
            <tag>2.</tag>
            <para xml:id="I13.i2.p1" fragid="I13.i2.p1">
              <p><Math mode="inline" xml:id="I13.i2.p1.m1" tex="\forall(c_{1},c_{2})\in C,h\in H:M_{c_{1},h}=M_{c_{2},h}" text="formulae@(for-all@(open-interval@(c _ 1, c _ 2)) element-of C, h element-of H) colon M _ (list@(c _ 1, h)) = M _ (list@(c _ 2, h))" fragid="I13.i2.p1.m1"><XMath><XMApp><XMTok name="colon" role="METARELOP">:</XMTok><XMDual><XMApp><XMTok meaning="formulae"/><XMRef idref="I13.i2.p1.m1.5"/><XMRef idref="I13.i2.p1.m1.6"/></XMApp><XMWrap><XMApp xml:id="I13.i2.p1.m1.5" fragid="I13.i2.p1.m1.5"><XMTok meaning="element-of" name="in" role="RELOP">∈</XMTok><XMApp><XMTok meaning="for-all" name="forall" role="BIGOP">∀</XMTok><XMDual><XMApp><XMTok meaning="open-interval"/><XMRef idref="I13.i2.p1.m1.5.1"/><XMRef idref="I13.i2.p1.m1.5.2"/></XMApp><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMApp xml:id="I13.i2.p1.m1.5.1" fragid="I13.i2.p1.m1.5.1"><XMTok role="SUBSCRIPTOP" scriptpos="post3"/><XMTok role="UNKNOWN" font="italic">c</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp><XMTok role="PUNCT">,</XMTok><XMApp xml:id="I13.i2.p1.m1.5.2" fragid="I13.i2.p1.m1.5.2"><XMTok role="SUBSCRIPTOP" scriptpos="post3"/><XMTok role="UNKNOWN" font="italic">c</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok></XMApp><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMDual></XMApp><XMTok role="UNKNOWN" font="italic">C</XMTok></XMApp><XMTok role="PUNCT">,</XMTok><XMApp xml:id="I13.i2.p1.m1.6" fragid="I13.i2.p1.m1.6"><XMTok meaning="element-of" name="in" role="RELOP">∈</XMTok><XMTok role="UNKNOWN" font="italic">h</XMTok><XMTok role="UNKNOWN" font="italic">H</XMTok></XMApp></XMWrap></XMDual><XMApp><XMTok meaning="equals" role="RELOP">=</XMTok><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post3"/><XMTok role="UNKNOWN" font="italic">M</XMTok><XMDual><XMApp><XMTok meaning="list"/><XMRef idref="I13.i2.p1.m1.2"/><XMRef idref="I13.i2.p1.m1.1"/></XMApp><XMWrap><XMApp xml:id="I13.i2.p1.m1.2" fragid="I13.i2.p1.m1.2"><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">c</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp><XMTok role="PUNCT">,</XMTok><XMTok role="UNKNOWN" xml:id="I13.i2.p1.m1.1" font="italic" fragid="I13.i2.p1.m1.1">h</XMTok></XMWrap></XMDual></XMApp><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post3"/><XMTok role="UNKNOWN" font="italic">M</XMTok><XMDual><XMApp><XMTok meaning="list"/><XMRef idref="I13.i2.p1.m1.4"/><XMRef idref="I13.i2.p1.m1.3"/></XMApp><XMWrap><XMApp xml:id="I13.i2.p1.m1.4" fragid="I13.i2.p1.m1.4"><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">c</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok></XMApp><XMTok role="PUNCT">,</XMTok><XMTok role="UNKNOWN" xml:id="I13.i2.p1.m1.3" font="italic" fragid="I13.i2.p1.m1.3">h</XMTok></XMWrap></XMDual></XMApp></XMApp></XMApp></XMath></Math>.</p>
            </para>
          </item>
        </enumerate>
        <p>We let <Math mode="inline" xml:id="S5.SS3.p1.m9" tex="q_{h}=\sum_{i\in I}M_{i,h}" text="q _ h = (sum _ (i element-of I))@(M _ (list@(i, h)))" fragid="S5.SS3.p1.m9"><XMath><XMApp><XMTok meaning="equals" role="RELOP">=</XMTok><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post2"/><XMTok role="UNKNOWN" font="italic">q</XMTok><XMTok role="UNKNOWN" font="italic">h</XMTok></XMApp><XMApp><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post2"/><XMTok mathstyle="text" meaning="sum" role="SUMOP" scriptpos="post">∑</XMTok><XMApp><XMTok meaning="element-of" name="in" role="RELOP">∈</XMTok><XMTok role="UNKNOWN" font="italic">i</XMTok><XMTok role="UNKNOWN" font="italic">I</XMTok></XMApp></XMApp><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post2"/><XMTok role="UNKNOWN" font="italic">M</XMTok><XMDual><XMApp><XMTok meaning="list"/><XMRef idref="S5.SS3.p1.m9.1"/><XMRef idref="S5.SS3.p1.m9.2"/></XMApp><XMWrap><XMTok role="UNKNOWN" xml:id="S5.SS3.p1.m9.1" font="italic" fragid="S5.SS3.p1.m9.1">i</XMTok><XMTok role="PUNCT">,</XMTok><XMTok role="UNKNOWN" xml:id="S5.SS3.p1.m9.2" font="italic" fragid="S5.SS3.p1.m9.2">h</XMTok></XMWrap></XMDual></XMApp></XMApp></XMApp></XMath></Math> be the capacity of hospital <Math mode="inline" xml:id="S5.SS3.p1.m10" tex="h" text="h" fragid="S5.SS3.p1.m10"><XMath><XMTok role="UNKNOWN" font="italic">h</XMTok></XMath></Math>, and <Math mode="inline" xml:id="S5.SS3.p1.m11" tex="\underline{q}=\min_{h}q_{h}" text="underline@(q) = (minimum _ h)@(q _ h)" fragid="S5.SS3.p1.m11"><XMath><XMApp><XMTok meaning="equals" role="RELOP">=</XMTok><XMApp><XMTok name="underline" role="UNDERACCENT">¯</XMTok><XMTok role="UNKNOWN" font="italic">q</XMTok></XMApp><XMApp><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post2"/><XMTok meaning="minimum" role="OPFUNCTION" scriptpos="post">min</XMTok><XMTok role="UNKNOWN" font="italic">h</XMTok></XMApp><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post2"/><XMTok role="UNKNOWN" font="italic">q</XMTok><XMTok role="UNKNOWN" font="italic">h</XMTok></XMApp></XMApp></XMApp></XMath></Math> be the capacity of the smallest hospital. Let <Math mode="inline" xml:id="S5.SS3.p1.m12" tex="\mathcal{P}" text="P" fragid="S5.SS3.p1.m12"><XMath><XMTok role="UNKNOWN" font="caligraphic">P</XMTok></XMath></Math> be the domain of all assignment problems with couples. We specify two special sub-domains of <Math mode="inline" xml:id="S5.SS3.p1.m13" tex="\mathcal{P}" text="P" fragid="S5.SS3.p1.m13"><XMath><XMTok role="UNKNOWN" font="caligraphic">P</XMTok></XMath></Math>: <Math mode="inline" xml:id="S5.SS3.p1.m14" tex="\mathcal{P}^{C=\emptyset}" text="P ^ (C = empty-set)" fragid="S5.SS3.p1.m14"><XMath><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post2"/><XMTok role="UNKNOWN" font="caligraphic">P</XMTok><XMApp><XMTok meaning="equals" role="RELOP">=</XMTok><XMTok role="UNKNOWN" font="italic">C</XMTok><XMTok meaning="empty-set" name="emptyset" role="ID">∅</XMTok></XMApp></XMApp></XMath></Math> is the set of problems without couples (i.e., <Math mode="inline" xml:id="S5.SS3.p1.m15" tex="C=\emptyset" text="C = empty-set" fragid="S5.SS3.p1.m15"><XMath><XMApp><XMTok meaning="equals" role="RELOP">=</XMTok><XMTok role="UNKNOWN" font="italic">C</XMTok><XMTok meaning="empty-set" name="emptyset" role="ID">∅</XMTok></XMApp></XMath></Math>), and <Math mode="inline" xml:id="S5.SS3.p1.m16" tex="\mathcal{P}^{S\geq C}" text="P ^ (S &gt;= C)" fragid="S5.SS3.p1.m16"><XMath><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post2"/><XMTok role="UNKNOWN" font="caligraphic">P</XMTok><XMApp><XMTok meaning="greater-than-or-equals" name="geq" role="RELOP">≥</XMTok><XMTok role="UNKNOWN" font="italic">S</XMTok><XMTok role="UNKNOWN" font="italic">C</XMTok></XMApp></XMApp></XMath></Math> is the set of problems in which singles receive more weight than couples in <text font="italic">every</text> hospital (i.e., <Math mode="inline" xml:id="S5.SS3.p1.m17" tex="\forall h\in H:\sum_{s\in S}M_{s,h}\geq 2\sum_{c\in C}M_{c_{1},h}" text="for-all@(h) element-of H colon (sum _ (s element-of S))@(M _ (list@(s, h))) &gt;= 2 * (sum _ (c element-of C))@(M _ (list@(c _ 1, h)))" fragid="S5.SS3.p1.m17"><XMath><XMApp><XMTok name="colon" role="METARELOP">:</XMTok><XMApp><XMTok meaning="element-of" name="in" role="RELOP">∈</XMTok><XMApp><XMTok meaning="for-all" name="forall" role="BIGOP">∀</XMTok><XMTok role="UNKNOWN" font="italic">h</XMTok></XMApp><XMTok role="UNKNOWN" font="italic">H</XMTok></XMApp><XMApp><XMTok meaning="greater-than-or-equals" name="geq" role="RELOP">≥</XMTok><XMApp><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post2"/><XMTok mathstyle="text" meaning="sum" role="SUMOP" scriptpos="post">∑</XMTok><XMApp><XMTok meaning="element-of" name="in" role="RELOP">∈</XMTok><XMTok role="UNKNOWN" font="italic">s</XMTok><XMTok role="UNKNOWN" font="italic">S</XMTok></XMApp></XMApp><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post2"/><XMTok role="UNKNOWN" font="italic">M</XMTok><XMDual><XMApp><XMTok meaning="list"/><XMRef idref="S5.SS3.p1.m17.1"/><XMRef idref="S5.SS3.p1.m17.2"/></XMApp><XMWrap><XMTok role="UNKNOWN" xml:id="S5.SS3.p1.m17.1" font="italic" fragid="S5.SS3.p1.m17.1">s</XMTok><XMTok role="PUNCT">,</XMTok><XMTok role="UNKNOWN" xml:id="S5.SS3.p1.m17.2" font="italic" fragid="S5.SS3.p1.m17.2">h</XMTok></XMWrap></XMDual></XMApp></XMApp><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok><XMApp><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post2"/><XMTok mathstyle="text" meaning="sum" role="SUMOP" scriptpos="post">∑</XMTok><XMApp><XMTok meaning="element-of" name="in" role="RELOP">∈</XMTok><XMTok role="UNKNOWN" font="italic">c</XMTok><XMTok role="UNKNOWN" font="italic">C</XMTok></XMApp></XMApp><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post2"/><XMTok role="UNKNOWN" font="italic">M</XMTok><XMDual><XMApp><XMTok meaning="list"/><XMRef idref="S5.SS3.p1.m17.4"/><XMRef idref="S5.SS3.p1.m17.3"/></XMApp><XMWrap><XMApp xml:id="S5.SS3.p1.m17.4" fragid="S5.SS3.p1.m17.4"><XMTok role="SUBSCRIPTOP" scriptpos="post3"/><XMTok role="UNKNOWN" font="italic">c</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp><XMTok role="PUNCT">,</XMTok><XMTok role="UNKNOWN" xml:id="S5.SS3.p1.m17.3" font="italic" fragid="S5.SS3.p1.m17.3">h</XMTok></XMWrap></XMDual></XMApp></XMApp></XMApp></XMApp></XMApp></XMath></Math>).</p>
      </para>
      <para xml:id="S5.SS3.p2" fragid="S5.SS3.p2">
        <p>A matrix <Math mode="inline" xml:id="S5.SS3.p2.m1" tex="M^{\prime}\in[0,1]^{I\times H}" text="M ^ prime element-of (closed-interval@(0, 1)) ^ (I * H)" fragid="S5.SS3.p2.m1"><XMath><XMApp><XMTok meaning="element-of" name="in" role="RELOP">∈</XMTok><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post2"/><XMTok role="UNKNOWN" font="italic">M</XMTok><XMTok name="prime" role="SUPOP">′</XMTok></XMApp><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post2"/><XMDual><XMApp><XMTok meaning="closed-interval"/><XMRef idref="S5.SS3.p2.m1.1"/><XMRef idref="S5.SS3.p2.m1.2"/></XMApp><XMWrap><XMTok role="OPEN" stretchy="false">[</XMTok><XMTok meaning="0" role="NUMBER" xml:id="S5.SS3.p2.m1.1" fragid="S5.SS3.p2.m1.1">0</XMTok><XMTok role="PUNCT">,</XMTok><XMTok meaning="1" role="NUMBER" xml:id="S5.SS3.p2.m1.2" fragid="S5.SS3.p2.m1.2">1</XMTok><XMTok role="CLOSE" stretchy="false">]</XMTok></XMWrap></XMDual><XMApp><XMTok meaning="times" role="MULOP">×</XMTok><XMTok role="UNKNOWN" font="italic">I</XMTok><XMTok role="UNKNOWN" font="italic">H</XMTok></XMApp></XMApp></XMApp></XMath></Math> that satisfies conditions (1) and (2), and <Math mode="inline" xml:id="S5.SS3.p2.m2" tex="\forall h\in H:\sum_{i\in I}M^{\prime}_{i,h}=q_{h}" text="for-all@(h) element-of H colon (sum _ (i element-of I))@((M ^ prime) _ (list@(i, h))) = q _ h" fragid="S5.SS3.p2.m2"><XMath><XMApp><XMTok name="colon" role="METARELOP">:</XMTok><XMApp><XMTok meaning="element-of" name="in" role="RELOP">∈</XMTok><XMApp><XMTok meaning="for-all" name="forall" role="BIGOP">∀</XMTok><XMTok role="UNKNOWN" font="italic">h</XMTok></XMApp><XMTok role="UNKNOWN" font="italic">H</XMTok></XMApp><XMApp><XMTok meaning="equals" role="RELOP">=</XMTok><XMApp><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post2"/><XMTok mathstyle="text" meaning="sum" role="SUMOP" scriptpos="post">∑</XMTok><XMApp><XMTok meaning="element-of" name="in" role="RELOP">∈</XMTok><XMTok role="UNKNOWN" font="italic">i</XMTok><XMTok role="UNKNOWN" font="italic">I</XMTok></XMApp></XMApp><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post2"/><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post2"/><XMTok role="UNKNOWN" font="italic">M</XMTok><XMTok name="prime" role="SUPOP">′</XMTok></XMApp><XMDual><XMApp><XMTok meaning="list"/><XMRef idref="S5.SS3.p2.m2.1"/><XMRef idref="S5.SS3.p2.m2.2"/></XMApp><XMWrap><XMTok role="UNKNOWN" xml:id="S5.SS3.p2.m2.1" font="italic" fragid="S5.SS3.p2.m2.1">i</XMTok><XMTok role="PUNCT">,</XMTok><XMTok role="UNKNOWN" xml:id="S5.SS3.p2.m2.2" font="italic" fragid="S5.SS3.p2.m2.2">h</XMTok></XMWrap></XMDual></XMApp></XMApp><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post2"/><XMTok role="UNKNOWN" font="italic">q</XMTok><XMTok role="UNKNOWN" font="italic">h</XMTok></XMApp></XMApp></XMApp></XMath></Math> is called <text font="italic">a stochastic assignment matrix (with respect to <Math mode="inline" xml:id="S5.SS3.p2.m3" tex="P" text="P" fragid="S5.SS3.p2.m3"><XMath><XMTok role="UNKNOWN">P</XMTok></XMath></Math>)</text>. If all the elements of a stochastic assignment matrix (with respect to <Math mode="inline" xml:id="S5.SS3.p2.m4" tex="P" text="P" fragid="S5.SS3.p2.m4"><XMath><XMTok role="UNKNOWN" font="italic">P</XMTok></XMath></Math>) are in <Math mode="inline" xml:id="S5.SS3.p2.m5" tex="\{0,1\}" text="set@(0, 1)" fragid="S5.SS3.p2.m5"><XMath><XMDual><XMApp><XMTok meaning="set"/><XMRef idref="S5.SS3.p2.m5.1"/><XMRef idref="S5.SS3.p2.m5.2"/></XMApp><XMWrap><XMTok role="OPEN" stretchy="false">{</XMTok><XMTok meaning="0" role="NUMBER" xml:id="S5.SS3.p2.m5.1" fragid="S5.SS3.p2.m5.1">0</XMTok><XMTok role="PUNCT">,</XMTok><XMTok meaning="1" role="NUMBER" xml:id="S5.SS3.p2.m5.2" fragid="S5.SS3.p2.m5.2">1</XMTok><XMTok role="CLOSE" stretchy="false">}</XMTok></XMWrap></XMDual></XMath></Math>, then the matrix is called <text font="italic">a deterministic assignment matrix (with respect to <Math mode="inline" xml:id="S5.SS3.p2.m6" tex="P" text="P" fragid="S5.SS3.p2.m6"><XMath><XMTok role="UNKNOWN">P</XMTok></XMath></Math>)</text>. A stochastic assignment matrix <Math mode="inline" xml:id="S5.SS3.p2.m7" tex="M^{\prime}" text="M ^ prime" fragid="S5.SS3.p2.m7"><XMath><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post2"/><XMTok role="UNKNOWN" font="italic">M</XMTok><XMTok name="prime" role="SUPOP">′</XMTok></XMApp></XMath></Math> is <text font="italic">decomposable</text> if it can be represented as a convex combination of deterministic assignment matrices, i.e., <Math mode="inline" xml:id="S5.SS3.p2.m8" tex="\left\{\left(\lambda^{k},M^{k}\right)\right\}_{k=1}^{K}" text="((set@(open-interval@(lambda ^ k, M ^ k))) _ (k = 1)) ^ K" fragid="S5.SS3.p2.m8"><XMath><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post2"/><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post2"/><XMDual><XMApp><XMTok meaning="set"/><XMRef idref="S5.SS3.p2.m8.1"/></XMApp><XMWrap><XMTok role="OPEN">{</XMTok><XMDual xml:id="S5.SS3.p2.m8.1" fragid="S5.SS3.p2.m8.1"><XMApp><XMTok meaning="open-interval"/><XMRef idref="S5.SS3.p2.m8.1.1"/><XMRef idref="S5.SS3.p2.m8.1.2"/></XMApp><XMWrap><XMTok role="OPEN">(</XMTok><XMApp xml:id="S5.SS3.p2.m8.1.1" fragid="S5.SS3.p2.m8.1.1"><XMTok role="SUPERSCRIPTOP" scriptpos="post4"/><XMTok name="lambda" role="UNKNOWN" font="italic">λ</XMTok><XMTok role="UNKNOWN" font="italic">k</XMTok></XMApp><XMTok role="PUNCT">,</XMTok><XMApp xml:id="S5.SS3.p2.m8.1.2" fragid="S5.SS3.p2.m8.1.2"><XMTok role="SUPERSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">M</XMTok><XMTok role="UNKNOWN" font="italic">k</XMTok></XMApp><XMTok role="CLOSE">)</XMTok></XMWrap></XMDual><XMTok role="CLOSE">}</XMTok></XMWrap></XMDual><XMApp><XMTok meaning="equals" role="RELOP">=</XMTok><XMTok role="UNKNOWN" font="italic">k</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp></XMApp><XMTok role="UNKNOWN" font="italic">K</XMTok></XMApp></XMath></Math> such that for each <Math mode="inline" xml:id="S5.SS3.p2.m9" tex="k" text="k" fragid="S5.SS3.p2.m9"><XMath><XMTok role="UNKNOWN" font="italic">k</XMTok></XMath></Math>, <Math mode="inline" xml:id="S5.SS3.p2.m10" tex="\lambda^{k}\in(0,1)" text="lambda ^ k element-of open-interval@(0, 1)" fragid="S5.SS3.p2.m10"><XMath><XMApp><XMTok meaning="element-of" name="in" role="RELOP">∈</XMTok><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post2"/><XMTok name="lambda" role="UNKNOWN" font="italic">λ</XMTok><XMTok role="UNKNOWN" font="italic">k</XMTok></XMApp><XMDual><XMApp><XMTok meaning="open-interval"/><XMRef idref="S5.SS3.p2.m10.1"/><XMRef idref="S5.SS3.p2.m10.2"/></XMApp><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMTok meaning="0" role="NUMBER" xml:id="S5.SS3.p2.m10.1" fragid="S5.SS3.p2.m10.1">0</XMTok><XMTok role="PUNCT">,</XMTok><XMTok meaning="1" role="NUMBER" xml:id="S5.SS3.p2.m10.2" fragid="S5.SS3.p2.m10.2">1</XMTok><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMDual></XMApp></XMath></Math> and <Math mode="inline" xml:id="S5.SS3.p2.m11" tex="M^{k}" text="M ^ k" fragid="S5.SS3.p2.m11"><XMath><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post2"/><XMTok role="UNKNOWN" font="italic">M</XMTok><XMTok role="UNKNOWN" font="italic">k</XMTok></XMApp></XMath></Math> is a deterministic assignment matrix, <Math mode="inline" xml:id="S5.SS3.p2.m12" tex="\sum_{k=1}^{K}\lambda^{k}=1" text="((sum _ (k = 1)) ^ K)@(lambda ^ k) = 1" fragid="S5.SS3.p2.m12"><XMath><XMApp><XMTok meaning="equals" role="RELOP">=</XMTok><XMApp><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post2"/><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post2"/><XMTok mathstyle="text" meaning="sum" role="SUMOP" scriptpos="post">∑</XMTok><XMApp><XMTok meaning="equals" role="RELOP">=</XMTok><XMTok role="UNKNOWN" font="italic">k</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp></XMApp><XMTok role="UNKNOWN" font="italic">K</XMTok></XMApp><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post2"/><XMTok name="lambda" role="UNKNOWN" font="italic">λ</XMTok><XMTok role="UNKNOWN" font="italic">k</XMTok></XMApp></XMApp><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp></XMath></Math>, and <Math mode="inline" xml:id="S5.SS3.p2.m13" tex="M^{\prime}=\sum_{k=1}^{K}\lambda^{k}M^{k}" text="M ^ prime = ((sum _ (k = 1)) ^ K)@(lambda ^ k * M ^ k)" fragid="S5.SS3.p2.m13"><XMath><XMApp><XMTok meaning="equals" role="RELOP">=</XMTok><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post2"/><XMTok role="UNKNOWN" font="italic">M</XMTok><XMTok name="prime" role="SUPOP">′</XMTok></XMApp><XMApp><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post2"/><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post2"/><XMTok mathstyle="text" meaning="sum" role="SUMOP" scriptpos="post">∑</XMTok><XMApp><XMTok meaning="equals" role="RELOP">=</XMTok><XMTok role="UNKNOWN" font="italic">k</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp></XMApp><XMTok role="UNKNOWN" font="italic">K</XMTok></XMApp><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post2"/><XMTok name="lambda" role="UNKNOWN" font="italic">λ</XMTok><XMTok role="UNKNOWN" font="italic">k</XMTok></XMApp><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post2"/><XMTok role="UNKNOWN" font="italic">M</XMTok><XMTok role="UNKNOWN" font="italic">k</XMTok></XMApp></XMApp></XMApp></XMApp></XMath></Math>. A straightforward extension of the Birkhoff-von Neumann theorem shows that on the sub-domain <Math mode="inline" xml:id="S5.SS3.p2.m14" tex="\mathcal{P}^{C=\emptyset}" text="P ^ (C = empty-set)" fragid="S5.SS3.p2.m14"><XMath><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post2"/><XMTok role="UNKNOWN" font="caligraphic">P</XMTok><XMApp><XMTok meaning="equals" role="RELOP">=</XMTok><XMTok role="UNKNOWN" font="italic">C</XMTok><XMTok meaning="empty-set" name="emptyset" role="ID">∅</XMTok></XMApp></XMApp></XMath></Math> all target matrices are decomposable. In Section <ref labelref="LABEL:sec:np_hard" href="#S5.SS4" title="5.4 NP-hardness result ‣ 5 Couples in the assignment problem"><text class="ltx_ref_tag">5.4</text></ref> we show that on the general domain, <Math mode="inline" xml:id="S5.SS3.p2.m15" tex="\mathcal{P}" text="P" fragid="S5.SS3.p2.m15"><XMath><XMTok role="UNKNOWN" font="caligraphic">P</XMTok></XMath></Math>, it is NP-hard to verify whether a target matrix is decomposable.</p>
      </para>
      <para xml:id="S5.SS3.p3" fragid="S5.SS3.p3">
        <p>We say that a convex combination of deterministic assignment matrices <Math mode="inline" xml:id="S5.SS3.p3.m1" tex="\left\{\left(\lambda^{k},M^{k}\right)\right\}_{k=1}^{K}" text="((set@(open-interval@(lambda ^ k, M ^ k))) _ (k = 1)) ^ K" fragid="S5.SS3.p3.m1"><XMath><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post2"/><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post2"/><XMDual><XMApp><XMTok meaning="set"/><XMRef idref="S5.SS3.p3.m1.1"/></XMApp><XMWrap><XMTok role="OPEN">{</XMTok><XMDual xml:id="S5.SS3.p3.m1.1" fragid="S5.SS3.p3.m1.1"><XMApp><XMTok meaning="open-interval"/><XMRef idref="S5.SS3.p3.m1.1.1"/><XMRef idref="S5.SS3.p3.m1.1.2"/></XMApp><XMWrap><XMTok role="OPEN">(</XMTok><XMApp xml:id="S5.SS3.p3.m1.1.1" fragid="S5.SS3.p3.m1.1.1"><XMTok role="SUPERSCRIPTOP" scriptpos="post4"/><XMTok name="lambda" role="UNKNOWN" font="italic">λ</XMTok><XMTok role="UNKNOWN" font="italic">k</XMTok></XMApp><XMTok role="PUNCT">,</XMTok><XMApp xml:id="S5.SS3.p3.m1.1.2" fragid="S5.SS3.p3.m1.1.2"><XMTok role="SUPERSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">M</XMTok><XMTok role="UNKNOWN" font="italic">k</XMTok></XMApp><XMTok role="CLOSE">)</XMTok></XMWrap></XMDual><XMTok role="CLOSE">}</XMTok></XMWrap></XMDual><XMApp><XMTok meaning="equals" role="RELOP">=</XMTok><XMTok role="UNKNOWN" font="italic">k</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp></XMApp><XMTok role="UNKNOWN" font="italic">K</XMTok></XMApp></XMath></Math> <Math mode="inline" xml:id="S5.SS3.p3.m2" tex="\epsilon" text="epsilon" fragid="S5.SS3.p3.m2"><XMath><XMTok name="epsilon" role="UNKNOWN" font="italic">ϵ</XMTok></XMath></Math><text font="italic">-approximates</text> a target matrix <Math mode="inline" xml:id="S5.SS3.p3.m3" tex="M" text="M" fragid="S5.SS3.p3.m3"><XMath><XMTok role="UNKNOWN" font="italic">M</XMTok></XMath></Math> if</p>
        <equationgroup class="ltx_eqn_align" xml:id="A2.EGx1" fragid="A2.EGx1">
          <equation xml:id="S5.Ex1" fragid="S5.Ex1">
            <MathFork>
              <Math xml:id="S5.Ex1.m2" tex="\displaystyle\left|\left||M-\sum_{k=1}^{K}\lambda^{k}M^{k}|\cdot\vec{\mathbf{1%&#10;}}_{[I]}\right|\right|_{\infty}&lt;\epsilon," text="(norm@(absolute-value@(M - ((sum _ (k = 1)) ^ K)@(lambda ^ k * M ^ k)) cdot (vec@(1)) _ (delimited-[]@(I)))) _ infinity less epsilon" fragid="S5.Ex1.m2">
                <XMath>
                  <XMApp punctuation=",">
                    <XMTok meaning="less-than" role="RELOP">&lt;</XMTok>
                    <XMApp>
                      <XMTok role="SUBSCRIPTOP" scriptpos="post7"/>
                      <XMDual>
                        <XMApp>
                          <XMTok meaning="norm"/>
                          <XMRef idref="S5.Ex1.m2.2"/>
                        </XMApp>
                        <XMWrap>
                          <XMTok role="OPEN">||</XMTok>
                          <XMApp xml:id="S5.Ex1.m2.2" fragid="S5.Ex1.m2.2">
                            <XMTok name="cdot" role="MULOP">⋅</XMTok>
                            <XMDual>
                              <XMApp>
                                <XMTok meaning="absolute-value"/>
                                <XMRef idref="S5.Ex1.m2.2.1"/>
                              </XMApp>
                              <XMWrap>
                                <XMTok role="VERTBAR" stretchy="false">|</XMTok>
                                <XMApp xml:id="S5.Ex1.m2.2.1" fragid="S5.Ex1.m2.2.1">
                                  <XMTok meaning="minus" role="ADDOP">-</XMTok>
                                  <XMTok role="UNKNOWN" font="italic">M</XMTok>
                                  <XMApp>
                                    <XMApp scriptpos="mid">
                                      <XMTok role="SUPERSCRIPTOP" scriptpos="mid9"/>
                                      <XMApp scriptpos="mid">
                                        <XMTok role="SUBSCRIPTOP" scriptpos="mid9"/>
                                        <XMTok mathstyle="display" meaning="sum" role="SUMOP" scriptpos="mid">∑</XMTok>
                                        <XMApp>
                                          <XMTok meaning="equals" role="RELOP">=</XMTok>
                                          <XMTok role="UNKNOWN" font="italic">k</XMTok>
                                          <XMTok meaning="1" role="NUMBER">1</XMTok>
                                        </XMApp>
                                      </XMApp>
                                      <XMTok role="UNKNOWN" font="italic">K</XMTok>
                                    </XMApp>
                                    <XMApp>
                                      <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                      <XMApp>
                                        <XMTok role="SUPERSCRIPTOP" scriptpos="post9"/>
                                        <XMTok name="lambda" role="UNKNOWN" font="italic">λ</XMTok>
                                        <XMTok role="UNKNOWN" font="italic">k</XMTok>
                                      </XMApp>
                                      <XMApp>
                                        <XMTok role="SUPERSCRIPTOP" scriptpos="post9"/>
                                        <XMTok role="UNKNOWN" font="italic">M</XMTok>
                                        <XMTok role="UNKNOWN" font="italic">k</XMTok>
                                      </XMApp>
                                    </XMApp>
                                  </XMApp>
                                </XMApp>
                                <XMTok role="VERTBAR" stretchy="false">|</XMTok>
                              </XMWrap>
                            </XMDual>
                            <XMApp>
                              <XMTok role="SUBSCRIPTOP" scriptpos="post9"/>
                              <XMApp>
                                <XMTok name="vec" role="OVERACCENT" stretchy="false">→</XMTok>
                                <XMTok meaning="1" role="NUMBER" font="bold">1</XMTok>
                              </XMApp>
                              <XMDual>
                                <XMApp>
                                  <XMTok meaning="delimited-[]"/>
                                  <XMRef idref="S5.Ex1.m2.1"/>
                                </XMApp>
                                <XMWrap>
                                  <XMTok role="OPEN" stretchy="false">[</XMTok>
                                  <XMTok role="UNKNOWN" xml:id="S5.Ex1.m2.1" font="italic" fragid="S5.Ex1.m2.1">I</XMTok>
                                  <XMTok role="CLOSE" stretchy="false">]</XMTok>
                                </XMWrap>
                              </XMDual>
                            </XMApp>
                          </XMApp>
                          <XMTok role="CLOSE">||</XMTok>
                        </XMWrap>
                      </XMDual>
                      <XMTok meaning="infinity" name="infty" role="ID">∞</XMTok>
                    </XMApp>
                    <XMTok name="epsilon" role="UNKNOWN" font="italic">ϵ</XMTok>
                  </XMApp>
                </XMath>
              </Math>
              <MathBranch>
                <td align="right">
                  <Math mode="inline" tex="\displaystyle\left|\left||M-\sum_{k=1}^{K}\lambda^{k}M^{k}|\cdot\vec{\mathbf{1%&#10;}}_{[I]}\right|\right|_{\infty}&lt;\epsilon," xml:id="S5.Ex1.m1" text="(norm@(absolute-value@(M - ((sum _ (k = 1)) ^ K)@(lambda ^ k * M ^ k)) cdot (vec@(1)) _ (delimited-[]@(I)))) _ infinity less epsilon" fragid="S5.Ex1.m1">
                    <XMath>
                      <XMApp punctuation=",">
                        <XMTok meaning="less-than" role="RELOP">&lt;</XMTok>
                        <XMApp>
                          <XMTok role="SUBSCRIPTOP" scriptpos="post7"/>
                          <XMDual>
                            <XMApp>
                              <XMTok meaning="norm"/>
                              <XMRef idref="S5.Ex1.m1.2"/>
                            </XMApp>
                            <XMWrap>
                              <XMTok role="OPEN">||</XMTok>
                              <XMApp xml:id="S5.Ex1.m1.2" fragid="S5.Ex1.m1.2">
                                <XMTok name="cdot" role="MULOP">⋅</XMTok>
                                <XMDual>
                                  <XMApp>
                                    <XMTok meaning="absolute-value"/>
                                    <XMRef idref="S5.Ex1.m1.2.1"/>
                                  </XMApp>
                                  <XMWrap>
                                    <XMTok role="VERTBAR" stretchy="false">|</XMTok>
                                    <XMApp xml:id="S5.Ex1.m1.2.1" fragid="S5.Ex1.m1.2.1">
                                      <XMTok meaning="minus" role="ADDOP">-</XMTok>
                                      <XMTok role="UNKNOWN" font="italic">M</XMTok>
                                      <XMApp>
                                        <XMApp scriptpos="mid">
                                          <XMTok role="SUPERSCRIPTOP" scriptpos="mid9"/>
                                          <XMApp scriptpos="mid">
                                            <XMTok role="SUBSCRIPTOP" scriptpos="mid9"/>
                                            <XMTok mathstyle="display" meaning="sum" role="SUMOP" scriptpos="mid">∑</XMTok>
                                            <XMApp>
                                              <XMTok meaning="equals" role="RELOP">=</XMTok>
                                              <XMTok role="UNKNOWN" font="italic">k</XMTok>
                                              <XMTok meaning="1" role="NUMBER">1</XMTok>
                                            </XMApp>
                                          </XMApp>
                                          <XMTok role="UNKNOWN" font="italic">K</XMTok>
                                        </XMApp>
                                        <XMApp>
                                          <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                          <XMApp>
                                            <XMTok role="SUPERSCRIPTOP" scriptpos="post9"/>
                                            <XMTok name="lambda" role="UNKNOWN" font="italic">λ</XMTok>
                                            <XMTok role="UNKNOWN" font="italic">k</XMTok>
                                          </XMApp>
                                          <XMApp>
                                            <XMTok role="SUPERSCRIPTOP" scriptpos="post9"/>
                                            <XMTok role="UNKNOWN" font="italic">M</XMTok>
                                            <XMTok role="UNKNOWN" font="italic">k</XMTok>
                                          </XMApp>
                                        </XMApp>
                                      </XMApp>
                                    </XMApp>
                                    <XMTok role="VERTBAR" stretchy="false">|</XMTok>
                                  </XMWrap>
                                </XMDual>
                                <XMApp>
                                  <XMTok role="SUBSCRIPTOP" scriptpos="post9"/>
                                  <XMApp>
                                    <XMTok name="vec" role="OVERACCENT" stretchy="false">→</XMTok>
                                    <XMTok meaning="1" role="NUMBER" font="bold">1</XMTok>
                                  </XMApp>
                                  <XMDual>
                                    <XMApp>
                                      <XMTok meaning="delimited-[]"/>
                                      <XMRef idref="S5.Ex1.m1.1"/>
                                    </XMApp>
                                    <XMWrap>
                                      <XMTok role="OPEN" stretchy="false">[</XMTok>
                                      <XMTok role="UNKNOWN" xml:id="S5.Ex1.m1.1" font="italic" fragid="S5.Ex1.m1.1">I</XMTok>
                                      <XMTok role="CLOSE" stretchy="false">]</XMTok>
                                    </XMWrap>
                                  </XMDual>
                                </XMApp>
                              </XMApp>
                              <XMTok role="CLOSE">||</XMTok>
                            </XMWrap>
                          </XMDual>
                          <XMTok meaning="infinity" name="infty" role="ID">∞</XMTok>
                        </XMApp>
                        <XMTok name="epsilon" role="UNKNOWN" font="italic">ϵ</XMTok>
                      </XMApp>
                    </XMath>
                  </Math>
                </td>
              </MathBranch>
            </MathFork>
          </equation>
        </equationgroup>
        <p>where <Math mode="inline" xml:id="S5.SS3.p3.m4" tex="\vec{\mathbf{1}}_{[I]}" text="(vec@(1)) _ (delimited-[]@(I))" fragid="S5.SS3.p3.m4"><XMath><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post2"/><XMApp><XMTok name="vec" role="OVERACCENT" stretchy="false">→</XMTok><XMTok meaning="1" role="NUMBER" font="bold">1</XMTok></XMApp><XMDual><XMApp><XMTok meaning="delimited-[]"/><XMRef idref="S5.SS3.p3.m4.1"/></XMApp><XMWrap><XMTok role="OPEN" stretchy="false">[</XMTok><XMTok role="UNKNOWN" xml:id="S5.SS3.p3.m4.1" font="italic" fragid="S5.SS3.p3.m4.1">I</XMTok><XMTok role="CLOSE" stretchy="false">]</XMTok></XMWrap></XMDual></XMApp></XMath></Math> is a vector of ones of size <Math mode="inline" xml:id="S5.SS3.p3.m5" tex="I" text="I" fragid="S5.SS3.p3.m5"><XMath><XMTok role="UNKNOWN" font="italic">I</XMTok></XMath></Math>, so we approximate the maximum value over the <Math mode="inline" xml:id="S5.SS3.p3.m6" tex="L_{1}" text="L _ 1" fragid="S5.SS3.p3.m6"><XMath><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post2"/><XMTok role="UNKNOWN" font="italic">L</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp></XMath></Math> norm of each row.</p>
      </para>
      <para xml:id="S5.SS3.p4" fragid="S5.SS3.p4">
        <p>A decomposition algorithm <Math mode="inline" xml:id="S5.SS3.p4.m1" tex="\mathcal{A}" text="A" fragid="S5.SS3.p4.m1"><XMath><XMTok role="UNKNOWN" font="caligraphic">A</XMTok></XMath></Math> takes a problem <Math mode="inline" xml:id="S5.SS3.p4.m2" tex="P\in\mathcal{P}" text="P element-of P" fragid="S5.SS3.p4.m2"><XMath><XMApp><XMTok meaning="element-of" name="in" role="RELOP">∈</XMTok><XMTok role="UNKNOWN" font="italic">P</XMTok><XMTok role="UNKNOWN" font="caligraphic">P</XMTok></XMApp></XMath></Math> and outputs a convex combination of deterministic assignment matrices (with respect to <Math mode="inline" xml:id="S5.SS3.p4.m3" tex="P" text="P" fragid="S5.SS3.p4.m3"><XMath><XMTok role="UNKNOWN" font="italic">P</XMTok></XMath></Math>). We say that <Math mode="inline" xml:id="S5.SS3.p4.m4" tex="\mathcal{A}" text="A" fragid="S5.SS3.p4.m4"><XMath><XMTok role="UNKNOWN" font="caligraphic">A</XMTok></XMath></Math> provides an <Math mode="inline" xml:id="S5.SS3.p4.m5" tex="f" text="f" fragid="S5.SS3.p4.m5"><XMath><XMTok role="UNKNOWN" font="italic">f</XMTok></XMath></Math><text font="italic">-approximation on domain <Math mode="inline" xml:id="S5.SS3.p4.m6" tex="\mathcal{P}^{\prime}" text="P ^ prime" fragid="S5.SS3.p4.m6"><XMath><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post3"/><XMTok role="UNKNOWN" font="caligraphic upright">P</XMTok><XMTok name="prime" role="SUPOP" font="upright">′</XMTok></XMApp></XMath></Math></text> if for every <Math mode="inline" xml:id="S5.SS3.p4.m7" tex="P\in\mathcal{P}^{\prime}" text="P element-of P ^ prime" fragid="S5.SS3.p4.m7"><XMath><XMApp><XMTok meaning="element-of" name="in" role="RELOP">∈</XMTok><XMTok role="UNKNOWN" font="italic">P</XMTok><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post2"/><XMTok role="UNKNOWN" font="caligraphic">P</XMTok><XMTok name="prime" role="SUPOP">′</XMTok></XMApp></XMApp></XMath></Math>, <Math mode="inline" xml:id="S5.SS3.p4.m8" tex="\mathcal{A}(P)" text="A * P" fragid="S5.SS3.p4.m8"><XMath><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok role="UNKNOWN" font="caligraphic">A</XMTok><XMDual><XMRef idref="S5.SS3.p4.m8.1"/><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMTok role="UNKNOWN" xml:id="S5.SS3.p4.m8.1" font="italic" fragid="S5.SS3.p4.m8.1">P</XMTok><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMDual></XMApp></XMath></Math> <Math mode="inline" xml:id="S5.SS3.p4.m9" tex="f(P)" text="f * P" fragid="S5.SS3.p4.m9"><XMath><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok role="UNKNOWN" font="italic">f</XMTok><XMDual><XMRef idref="S5.SS3.p4.m9.1"/><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMTok role="UNKNOWN" xml:id="S5.SS3.p4.m9.1" font="italic" fragid="S5.SS3.p4.m9.1">P</XMTok><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMDual></XMApp></XMath></Math>-approximates <Math mode="inline" xml:id="S5.SS3.p4.m10" tex="M" text="M" fragid="S5.SS3.p4.m10"><XMath><XMTok role="UNKNOWN" font="italic">M</XMTok></XMath></Math>. Our aim in Section <ref labelref="LABEL:sec:approximation" href="#S5.SS5" title="5.5 Approximation ‣ 5 Couples in the assignment problem"><text class="ltx_ref_tag">5.5</text></ref> is to provide a lower bound for the optimal approximation on <Math mode="inline" xml:id="S5.SS3.p4.m11" tex="\mathcal{P}" text="P" fragid="S5.SS3.p4.m11"><XMath><XMTok role="UNKNOWN" font="caligraphic">P</XMTok></XMath></Math>, and an upper bound for the optimal approximation on <Math mode="inline" xml:id="S5.SS3.p4.m12" tex="\mathcal{P}^{S\geq C}" text="P ^ (S &gt;= C)" fragid="S5.SS3.p4.m12"><XMath><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post2"/><XMTok role="UNKNOWN" font="caligraphic">P</XMTok><XMApp><XMTok meaning="greater-than-or-equals" name="geq" role="RELOP">≥</XMTok><XMTok role="UNKNOWN" font="italic">S</XMTok><XMTok role="UNKNOWN" font="italic">C</XMTok></XMApp></XMApp></XMath></Math>.</p>
      </para>
    </subsection>
    <subsection refnum="5.4" xml:id="S5.SS4" labels="LABEL:sec:np_hard" fragid="S5.SS4">
      <title><tag close=" ">5.4</tag>NP-hardness result</title>
      <theorem class="ltx_theorem_theorem" frefnum="Theorem 1" refnum="1" xml:id="Thmtheorem1" labels="LABEL:th:np_hard" fragid="Thmtheorem1">
        <title class="ltx_runin" font="bold"><tag>Theorem 1</tag>.</title>
        <para xml:id="Thmtheorem1.p1" fragid="Thmtheorem1.p1">
          <p>
            <text font="italic">On the domain <Math mode="inline" xml:id="Thmtheorem1.p1.m1" tex="\mathcal{P}" text="P" fragid="Thmtheorem1.p1.m1"><XMath><XMTok role="UNKNOWN" font="caligraphic upright">P</XMTok></XMath></Math>, determining whether the target matrix is decomposable is in NPC.</text>
          </p>
        </para>
      </theorem>
      <proof>
        <title class="ltx_runin" font="italic">Proof.</title>
        <para xml:id="S5.SS4.p1" fragid="S5.SS4.p1">
          <p>We will reduce 3-edge coloring of cubic graphs to the interns-hospitals
assignment problem, (<cite class="ltx_citemacro_cite">[<ref class="ltx_missing_citation" idref="holyer1981" title="holyer1981">holyer1981</ref>]</cite>, proved that 3-edge coloring of
cubic graphs is in NPC).</p>
        </para>
        <para xml:id="S5.SS4.p2" fragid="S5.SS4.p2">
          <p>Let <Math mode="inline" xml:id="S5.SS4.p2.m1" tex="G=(V,E)" text="G = open-interval@(V, E)" fragid="S5.SS4.p2.m1"><XMath><XMApp><XMTok meaning="equals" role="RELOP">=</XMTok><XMTok role="UNKNOWN" font="italic">G</XMTok><XMDual><XMApp><XMTok meaning="open-interval"/><XMRef idref="S5.SS4.p2.m1.1"/><XMRef idref="S5.SS4.p2.m1.2"/></XMApp><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMTok role="UNKNOWN" xml:id="S5.SS4.p2.m1.1" font="italic" fragid="S5.SS4.p2.m1.1">V</XMTok><XMTok role="PUNCT">,</XMTok><XMTok role="UNKNOWN" xml:id="S5.SS4.p2.m1.2" font="italic" fragid="S5.SS4.p2.m1.2">E</XMTok><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMDual></XMApp></XMath></Math> be a cubic graph with <Math mode="inline" xml:id="S5.SS4.p2.m2" tex="\left|V\right|=n" text="absolute-value@(V) = n" fragid="S5.SS4.p2.m2"><XMath><XMApp><XMTok meaning="equals" role="RELOP">=</XMTok><XMDual><XMApp><XMTok meaning="absolute-value"/><XMRef idref="S5.SS4.p2.m2.1"/></XMApp><XMWrap><XMTok role="VERTBAR">|</XMTok><XMTok role="UNKNOWN" xml:id="S5.SS4.p2.m2.1" font="italic" fragid="S5.SS4.p2.m2.1">V</XMTok><XMTok role="VERTBAR">|</XMTok></XMWrap></XMDual><XMTok role="UNKNOWN" font="italic">n</XMTok></XMApp></XMath></Math> vertices and <Math mode="inline" xml:id="S5.SS4.p2.m3" tex="m=3n/2" text="m = (3 * n) / 2" fragid="S5.SS4.p2.m3"><XMath><XMApp><XMTok meaning="equals" role="RELOP">=</XMTok><XMTok role="UNKNOWN" font="italic">m</XMTok><XMApp><XMTok mathstyle="inline" meaning="divide" role="MULOP">/</XMTok><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok meaning="3" role="NUMBER">3</XMTok><XMTok role="UNKNOWN" font="italic">n</XMTok></XMApp><XMTok meaning="2" role="NUMBER">2</XMTok></XMApp></XMApp></XMath></Math> edges.
For each edge <Math mode="inline" xml:id="S5.SS4.p2.m4" tex="e" text="e" fragid="S5.SS4.p2.m4"><XMath><XMTok role="UNKNOWN" font="italic">e</XMTok></XMath></Math> let us have <Math mode="inline" xml:id="S5.SS4.p2.m5" tex="3" text="3" fragid="S5.SS4.p2.m5"><XMath><XMTok meaning="3" role="NUMBER">3</XMTok></XMath></Math> hospitals <Math mode="inline" xml:id="S5.SS4.p2.m6" tex="A(e),B(e),C(e)," text="list@(A * e, B * e, C * e)" fragid="S5.SS4.p2.m6"><XMath><XMDual punctuation=","><XMApp><XMTok meaning="list"/><XMRef idref="S5.SS4.p2.m6.4"/><XMRef idref="S5.SS4.p2.m6.5"/><XMRef idref="S5.SS4.p2.m6.6"/></XMApp><XMWrap><XMApp xml:id="S5.SS4.p2.m6.4" fragid="S5.SS4.p2.m6.4"><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok role="UNKNOWN" font="italic">A</XMTok><XMDual><XMRef idref="S5.SS4.p2.m6.1"/><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMTok role="UNKNOWN" xml:id="S5.SS4.p2.m6.1" font="italic" fragid="S5.SS4.p2.m6.1">e</XMTok><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMDual></XMApp><XMTok role="PUNCT">,</XMTok><XMApp xml:id="S5.SS4.p2.m6.5" fragid="S5.SS4.p2.m6.5"><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok role="UNKNOWN" font="italic">B</XMTok><XMDual><XMRef idref="S5.SS4.p2.m6.2"/><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMTok role="UNKNOWN" xml:id="S5.SS4.p2.m6.2" font="italic" fragid="S5.SS4.p2.m6.2">e</XMTok><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMDual></XMApp><XMTok role="PUNCT">,</XMTok><XMApp xml:id="S5.SS4.p2.m6.6" fragid="S5.SS4.p2.m6.6"><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok role="UNKNOWN" font="italic">C</XMTok><XMDual><XMRef idref="S5.SS4.p2.m6.3"/><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMTok role="UNKNOWN" xml:id="S5.SS4.p2.m6.3" font="italic" fragid="S5.SS4.p2.m6.3">e</XMTok><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMDual></XMApp></XMWrap></XMDual></XMath></Math> each of capacity
<Math mode="inline" xml:id="S5.SS4.p2.m7" tex="2" text="2" fragid="S5.SS4.p2.m7"><XMath><XMTok meaning="2" role="NUMBER">2</XMTok></XMath></Math>. For each vertex <Math mode="inline" xml:id="S5.SS4.p2.m8" tex="v" text="v" fragid="S5.SS4.p2.m8"><XMath><XMTok role="UNKNOWN" font="italic">v</XMTok></XMath></Math> and each color <Math mode="inline" xml:id="S5.SS4.p2.m9" tex="i\in\{1,2,3\}" text="i element-of set@(1, 2, 3)" fragid="S5.SS4.p2.m9"><XMath><XMApp><XMTok meaning="element-of" name="in" role="RELOP">∈</XMTok><XMTok role="UNKNOWN" font="italic">i</XMTok><XMDual><XMApp><XMTok meaning="set"/><XMRef idref="S5.SS4.p2.m9.1"/><XMRef idref="S5.SS4.p2.m9.2"/><XMRef idref="S5.SS4.p2.m9.3"/></XMApp><XMWrap><XMTok role="OPEN" stretchy="false">{</XMTok><XMTok meaning="1" role="NUMBER" xml:id="S5.SS4.p2.m9.1" fragid="S5.SS4.p2.m9.1">1</XMTok><XMTok role="PUNCT">,</XMTok><XMTok meaning="2" role="NUMBER" xml:id="S5.SS4.p2.m9.2" fragid="S5.SS4.p2.m9.2">2</XMTok><XMTok role="PUNCT">,</XMTok><XMTok meaning="3" role="NUMBER" xml:id="S5.SS4.p2.m9.3" fragid="S5.SS4.p2.m9.3">3</XMTok><XMTok role="CLOSE" stretchy="false">}</XMTok></XMWrap></XMDual></XMApp></XMath></Math> let us have a
hospital <Math mode="inline" xml:id="S5.SS4.p2.m10" tex="(v,i)" text="open-interval@(v, i)" fragid="S5.SS4.p2.m10"><XMath><XMDual><XMApp><XMTok meaning="open-interval"/><XMRef idref="S5.SS4.p2.m10.1"/><XMRef idref="S5.SS4.p2.m10.2"/></XMApp><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMTok role="UNKNOWN" xml:id="S5.SS4.p2.m10.1" font="italic" fragid="S5.SS4.p2.m10.1">v</XMTok><XMTok role="PUNCT">,</XMTok><XMTok role="UNKNOWN" xml:id="S5.SS4.p2.m10.2" font="italic" fragid="S5.SS4.p2.m10.2">i</XMTok><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMDual></XMath></Math> with capacity <Math mode="inline" xml:id="S5.SS4.p2.m11" tex="1" text="1" fragid="S5.SS4.p2.m11"><XMath><XMTok meaning="1" role="NUMBER">1</XMTok></XMath></Math>. Thus altogether we have <Math mode="inline" xml:id="S5.SS4.p2.m12" tex="3m" text="3 * m" fragid="S5.SS4.p2.m12"><XMath><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok meaning="3" role="NUMBER">3</XMTok><XMTok role="UNKNOWN" font="italic">m</XMTok></XMApp></XMath></Math> hospitals
of capacity <Math mode="inline" xml:id="S5.SS4.p2.m13" tex="2" text="2" fragid="S5.SS4.p2.m13"><XMath><XMTok meaning="2" role="NUMBER">2</XMTok></XMath></Math> and <Math mode="inline" xml:id="S5.SS4.p2.m14" tex="3n" text="3 * n" fragid="S5.SS4.p2.m14"><XMath><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok meaning="3" role="NUMBER">3</XMTok><XMTok role="UNKNOWN" font="italic">n</XMTok></XMApp></XMath></Math> hospitals of capacity <Math mode="inline" xml:id="S5.SS4.p2.m15" tex="1" text="1" fragid="S5.SS4.p2.m15"><XMath><XMTok meaning="1" role="NUMBER">1</XMTok></XMath></Math>, total hospital capacity
is <Math mode="inline" xml:id="S5.SS4.p2.m16" tex="3n+6m=3n+6\cdot{3n/2}=12n" text="3 * n + 6 * m = 3 * n + ((6 cdot 3) * n) / 2 = 12 * n" fragid="S5.SS4.p2.m16"><XMath><XMApp><XMTok meaning="multirelation"/><XMApp><XMTok meaning="plus" role="ADDOP">+</XMTok><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok meaning="3" role="NUMBER">3</XMTok><XMTok role="UNKNOWN" font="italic">n</XMTok></XMApp><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok meaning="6" role="NUMBER">6</XMTok><XMTok role="UNKNOWN" font="italic">m</XMTok></XMApp></XMApp><XMTok meaning="equals" role="RELOP">=</XMTok><XMApp><XMTok meaning="plus" role="ADDOP">+</XMTok><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok meaning="3" role="NUMBER">3</XMTok><XMTok role="UNKNOWN" font="italic">n</XMTok></XMApp><XMApp><XMTok mathstyle="inline" meaning="divide" role="MULOP">/</XMTok><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMApp><XMTok name="cdot" role="MULOP">⋅</XMTok><XMTok meaning="6" role="NUMBER">6</XMTok><XMTok meaning="3" role="NUMBER">3</XMTok></XMApp><XMTok role="UNKNOWN" font="italic">n</XMTok></XMApp><XMTok meaning="2" role="NUMBER">2</XMTok></XMApp></XMApp><XMTok meaning="equals" role="RELOP">=</XMTok><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok meaning="12" role="NUMBER">12</XMTok><XMTok role="UNKNOWN" font="italic">n</XMTok></XMApp></XMApp></XMath></Math>.</p>
        </para>
        <para xml:id="S5.SS4.p3" fragid="S5.SS4.p3">
          <p>Now for each edge <Math mode="inline" xml:id="S5.SS4.p3.m1" tex="e=(u,v)" text="e = open-interval@(u, v)" fragid="S5.SS4.p3.m1"><XMath><XMApp><XMTok meaning="equals" role="RELOP">=</XMTok><XMTok role="UNKNOWN" font="italic">e</XMTok><XMDual><XMApp><XMTok meaning="open-interval"/><XMRef idref="S5.SS4.p3.m1.1"/><XMRef idref="S5.SS4.p3.m1.2"/></XMApp><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMTok role="UNKNOWN" xml:id="S5.SS4.p3.m1.1" font="italic" fragid="S5.SS4.p3.m1.1">u</XMTok><XMTok role="PUNCT">,</XMTok><XMTok role="UNKNOWN" xml:id="S5.SS4.p3.m1.2" font="italic" fragid="S5.SS4.p3.m1.2">v</XMTok><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMDual></XMApp></XMath></Math> we have one couple that wants to be
either in <Math mode="inline" xml:id="S5.SS4.p3.m2" tex="A(e)" text="A * e" fragid="S5.SS4.p3.m2"><XMath><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok role="UNKNOWN" font="italic">A</XMTok><XMDual><XMRef idref="S5.SS4.p3.m2.1"/><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMTok role="UNKNOWN" xml:id="S5.SS4.p3.m2.1" font="italic" fragid="S5.SS4.p3.m2.1">e</XMTok><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMDual></XMApp></XMath></Math> or in <Math mode="inline" xml:id="S5.SS4.p3.m3" tex="B(e)" text="B * e" fragid="S5.SS4.p3.m3"><XMath><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok role="UNKNOWN" font="italic">B</XMTok><XMDual><XMRef idref="S5.SS4.p3.m3.1"/><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMTok role="UNKNOWN" xml:id="S5.SS4.p3.m3.1" font="italic" fragid="S5.SS4.p3.m3.1">e</XMTok><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMDual></XMApp></XMath></Math> or in <Math mode="inline" xml:id="S5.SS4.p3.m4" tex="C(e)" text="C * e" fragid="S5.SS4.p3.m4"><XMath><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok role="UNKNOWN" font="italic">C</XMTok><XMDual><XMRef idref="S5.SS4.p3.m4.1"/><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMTok role="UNKNOWN" xml:id="S5.SS4.p3.m4.1" font="italic" fragid="S5.SS4.p3.m4.1">e</XMTok><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMDual></XMApp></XMath></Math>, each with probability <Math mode="inline" xml:id="S5.SS4.p3.m5" tex="1/3" text="1 / 3" fragid="S5.SS4.p3.m5"><XMath><XMApp><XMTok mathstyle="inline" meaning="divide" role="MULOP">/</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok><XMTok meaning="3" role="NUMBER">3</XMTok></XMApp></XMath></Math>
and we also have <Math mode="inline" xml:id="S5.SS4.p3.m6" tex="6" text="6" fragid="S5.SS4.p3.m6"><XMath><XMTok meaning="6" role="NUMBER">6</XMTok></XMath></Math> single interns as follows:
<!-- %**** MasterThesis.tex Line 400 **** --></p>
        </para>
        <para xml:id="S5.SS4.p4" fragid="S5.SS4.p4">
          <itemize xml:id="I14" fragid="I14">
            <item xml:id="I14.i1" fragid="I14.i1">
              <tag>•</tag>
              <para xml:id="I14.i1.p1" fragid="I14.i1.p1">
                <p>First single wants either <Math mode="inline" xml:id="I14.i1.p1.m1" tex="A(e)" text="A * e" fragid="I14.i1.p1.m1"><XMath><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok role="UNKNOWN" font="italic">A</XMTok><XMDual><XMRef idref="I14.i1.p1.m1.1"/><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMTok role="UNKNOWN" xml:id="I14.i1.p1.m1.1" font="italic" fragid="I14.i1.p1.m1.1">e</XMTok><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMDual></XMApp></XMath></Math> with probability <Math mode="inline" xml:id="I14.i1.p1.m2" tex="2/3" text="2 / 3" fragid="I14.i1.p1.m2"><XMath><XMApp><XMTok mathstyle="inline" meaning="divide" role="MULOP">/</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok><XMTok meaning="3" role="NUMBER">3</XMTok></XMApp></XMath></Math> or <Math mode="inline" xml:id="I14.i1.p1.m3" tex="(u,1)" text="open-interval@(u, 1)" fragid="I14.i1.p1.m3"><XMath><XMDual><XMApp><XMTok meaning="open-interval"/><XMRef idref="I14.i1.p1.m3.1"/><XMRef idref="I14.i1.p1.m3.2"/></XMApp><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMTok role="UNKNOWN" xml:id="I14.i1.p1.m3.1" font="italic" fragid="I14.i1.p1.m3.1">u</XMTok><XMTok role="PUNCT">,</XMTok><XMTok meaning="1" role="NUMBER" xml:id="I14.i1.p1.m3.2" fragid="I14.i1.p1.m3.2">1</XMTok><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMDual></XMath></Math> with probability <Math mode="inline" xml:id="I14.i1.p1.m4" tex="1/3" text="1 / 3" fragid="I14.i1.p1.m4"><XMath><XMApp><XMTok mathstyle="inline" meaning="divide" role="MULOP">/</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok><XMTok meaning="3" role="NUMBER">3</XMTok></XMApp></XMath></Math>.</p>
              </para>
            </item>
            <item xml:id="I14.i2" fragid="I14.i2">
              <tag>•</tag>
              <para xml:id="I14.i2.p1" fragid="I14.i2.p1">
                <p>Second wants either <Math mode="inline" xml:id="I14.i2.p1.m1" tex="A(e)" text="A * e" fragid="I14.i2.p1.m1"><XMath><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok role="UNKNOWN" font="italic">A</XMTok><XMDual><XMRef idref="I14.i2.p1.m1.1"/><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMTok role="UNKNOWN" xml:id="I14.i2.p1.m1.1" font="italic" fragid="I14.i2.p1.m1.1">e</XMTok><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMDual></XMApp></XMath></Math> with probability <Math mode="inline" xml:id="I14.i2.p1.m2" tex="2/3" text="2 / 3" fragid="I14.i2.p1.m2"><XMath><XMApp><XMTok mathstyle="inline" meaning="divide" role="MULOP">/</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok><XMTok meaning="3" role="NUMBER">3</XMTok></XMApp></XMath></Math> or <Math mode="inline" xml:id="I14.i2.p1.m3" tex="(v,1)" text="open-interval@(v, 1)" fragid="I14.i2.p1.m3"><XMath><XMDual><XMApp><XMTok meaning="open-interval"/><XMRef idref="I14.i2.p1.m3.1"/><XMRef idref="I14.i2.p1.m3.2"/></XMApp><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMTok role="UNKNOWN" xml:id="I14.i2.p1.m3.1" font="italic" fragid="I14.i2.p1.m3.1">v</XMTok><XMTok role="PUNCT">,</XMTok><XMTok meaning="1" role="NUMBER" xml:id="I14.i2.p1.m3.2" fragid="I14.i2.p1.m3.2">1</XMTok><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMDual></XMath></Math> with probability <Math mode="inline" xml:id="I14.i2.p1.m4" tex="1/3" text="1 / 3" fragid="I14.i2.p1.m4"><XMath><XMApp><XMTok mathstyle="inline" meaning="divide" role="MULOP">/</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok><XMTok meaning="3" role="NUMBER">3</XMTok></XMApp></XMath></Math>.</p>
              </para>
            </item>
            <item xml:id="I14.i3" fragid="I14.i3">
              <tag>•</tag>
              <para xml:id="I14.i3.p1" fragid="I14.i3.p1">
                <p>Third wants either <Math mode="inline" xml:id="I14.i3.p1.m1" tex="B(e)" text="B * e" fragid="I14.i3.p1.m1"><XMath><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok role="UNKNOWN" font="italic">B</XMTok><XMDual><XMRef idref="I14.i3.p1.m1.1"/><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMTok role="UNKNOWN" xml:id="I14.i3.p1.m1.1" font="italic" fragid="I14.i3.p1.m1.1">e</XMTok><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMDual></XMApp></XMath></Math> with probability <Math mode="inline" xml:id="I14.i3.p1.m2" tex="2/3" text="2 / 3" fragid="I14.i3.p1.m2"><XMath><XMApp><XMTok mathstyle="inline" meaning="divide" role="MULOP">/</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok><XMTok meaning="3" role="NUMBER">3</XMTok></XMApp></XMath></Math> or <Math mode="inline" xml:id="I14.i3.p1.m3" tex="(u,2)" text="open-interval@(u, 2)" fragid="I14.i3.p1.m3"><XMath><XMDual><XMApp><XMTok meaning="open-interval"/><XMRef idref="I14.i3.p1.m3.1"/><XMRef idref="I14.i3.p1.m3.2"/></XMApp><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMTok role="UNKNOWN" xml:id="I14.i3.p1.m3.1" font="italic" fragid="I14.i3.p1.m3.1">u</XMTok><XMTok role="PUNCT">,</XMTok><XMTok meaning="2" role="NUMBER" xml:id="I14.i3.p1.m3.2" fragid="I14.i3.p1.m3.2">2</XMTok><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMDual></XMath></Math> with probability <Math mode="inline" xml:id="I14.i3.p1.m4" tex="1/3" text="1 / 3" fragid="I14.i3.p1.m4"><XMath><XMApp><XMTok mathstyle="inline" meaning="divide" role="MULOP">/</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok><XMTok meaning="3" role="NUMBER">3</XMTok></XMApp></XMath></Math>.</p>
              </para>
            </item>
            <item xml:id="I14.i4" fragid="I14.i4">
              <tag>•</tag>
              <para xml:id="I14.i4.p1" fragid="I14.i4.p1">
                <p>Forth wants either <Math mode="inline" xml:id="I14.i4.p1.m1" tex="B(e)" text="B * e" fragid="I14.i4.p1.m1"><XMath><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok role="UNKNOWN" font="italic">B</XMTok><XMDual><XMRef idref="I14.i4.p1.m1.1"/><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMTok role="UNKNOWN" xml:id="I14.i4.p1.m1.1" font="italic" fragid="I14.i4.p1.m1.1">e</XMTok><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMDual></XMApp></XMath></Math> with probability <Math mode="inline" xml:id="I14.i4.p1.m2" tex="2/3" text="2 / 3" fragid="I14.i4.p1.m2"><XMath><XMApp><XMTok mathstyle="inline" meaning="divide" role="MULOP">/</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok><XMTok meaning="3" role="NUMBER">3</XMTok></XMApp></XMath></Math> or <Math mode="inline" xml:id="I14.i4.p1.m3" tex="(v,2)" text="open-interval@(v, 2)" fragid="I14.i4.p1.m3"><XMath><XMDual><XMApp><XMTok meaning="open-interval"/><XMRef idref="I14.i4.p1.m3.1"/><XMRef idref="I14.i4.p1.m3.2"/></XMApp><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMTok role="UNKNOWN" xml:id="I14.i4.p1.m3.1" font="italic" fragid="I14.i4.p1.m3.1">v</XMTok><XMTok role="PUNCT">,</XMTok><XMTok meaning="2" role="NUMBER" xml:id="I14.i4.p1.m3.2" fragid="I14.i4.p1.m3.2">2</XMTok><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMDual></XMath></Math> with probability <Math mode="inline" xml:id="I14.i4.p1.m4" tex="1/3" text="1 / 3" fragid="I14.i4.p1.m4"><XMath><XMApp><XMTok mathstyle="inline" meaning="divide" role="MULOP">/</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok><XMTok meaning="3" role="NUMBER">3</XMTok></XMApp></XMath></Math>.</p>
              </para>
            </item>
            <item xml:id="I14.i5" fragid="I14.i5">
              <tag>•</tag>
              <para xml:id="I14.i5.p1" fragid="I14.i5.p1">
                <p>Fifth wants either <Math mode="inline" xml:id="I14.i5.p1.m1" tex="C(e)" text="C * e" fragid="I14.i5.p1.m1"><XMath><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok role="UNKNOWN" font="italic">C</XMTok><XMDual><XMRef idref="I14.i5.p1.m1.1"/><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMTok role="UNKNOWN" xml:id="I14.i5.p1.m1.1" font="italic" fragid="I14.i5.p1.m1.1">e</XMTok><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMDual></XMApp></XMath></Math> with probability <Math mode="inline" xml:id="I14.i5.p1.m2" tex="2/3" text="2 / 3" fragid="I14.i5.p1.m2"><XMath><XMApp><XMTok mathstyle="inline" meaning="divide" role="MULOP">/</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok><XMTok meaning="3" role="NUMBER">3</XMTok></XMApp></XMath></Math> or <Math mode="inline" xml:id="I14.i5.p1.m3" tex="(u,3)" text="open-interval@(u, 3)" fragid="I14.i5.p1.m3"><XMath><XMDual><XMApp><XMTok meaning="open-interval"/><XMRef idref="I14.i5.p1.m3.1"/><XMRef idref="I14.i5.p1.m3.2"/></XMApp><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMTok role="UNKNOWN" xml:id="I14.i5.p1.m3.1" font="italic" fragid="I14.i5.p1.m3.1">u</XMTok><XMTok role="PUNCT">,</XMTok><XMTok meaning="3" role="NUMBER" xml:id="I14.i5.p1.m3.2" fragid="I14.i5.p1.m3.2">3</XMTok><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMDual></XMath></Math> with probability <Math mode="inline" xml:id="I14.i5.p1.m4" tex="1/3" text="1 / 3" fragid="I14.i5.p1.m4"><XMath><XMApp><XMTok mathstyle="inline" meaning="divide" role="MULOP">/</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok><XMTok meaning="3" role="NUMBER">3</XMTok></XMApp></XMath></Math>.</p>
              </para>
            </item>
            <item xml:id="I14.i6" fragid="I14.i6">
              <tag>•</tag>
              <para xml:id="I14.i6.p1" fragid="I14.i6.p1">
                <p>Sixth wants either <Math mode="inline" xml:id="I14.i6.p1.m1" tex="C(e)" text="C * e" fragid="I14.i6.p1.m1"><XMath><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok role="UNKNOWN" font="italic">C</XMTok><XMDual><XMRef idref="I14.i6.p1.m1.1"/><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMTok role="UNKNOWN" xml:id="I14.i6.p1.m1.1" font="italic" fragid="I14.i6.p1.m1.1">e</XMTok><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMDual></XMApp></XMath></Math> with probability <Math mode="inline" xml:id="I14.i6.p1.m2" tex="2/3" text="2 / 3" fragid="I14.i6.p1.m2"><XMath><XMApp><XMTok mathstyle="inline" meaning="divide" role="MULOP">/</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok><XMTok meaning="3" role="NUMBER">3</XMTok></XMApp></XMath></Math> or <Math mode="inline" xml:id="I14.i6.p1.m3" tex="(v,3)" text="open-interval@(v, 3)" fragid="I14.i6.p1.m3"><XMath><XMDual><XMApp><XMTok meaning="open-interval"/><XMRef idref="I14.i6.p1.m3.1"/><XMRef idref="I14.i6.p1.m3.2"/></XMApp><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMTok role="UNKNOWN" xml:id="I14.i6.p1.m3.1" font="italic" fragid="I14.i6.p1.m3.1">v</XMTok><XMTok role="PUNCT">,</XMTok><XMTok meaning="3" role="NUMBER" xml:id="I14.i6.p1.m3.2" fragid="I14.i6.p1.m3.2">3</XMTok><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMDual></XMath></Math> with probability <Math mode="inline" xml:id="I14.i6.p1.m4" tex="1/3" text="1 / 3" fragid="I14.i6.p1.m4"><XMath><XMApp><XMTok mathstyle="inline" meaning="divide" role="MULOP">/</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok><XMTok meaning="3" role="NUMBER">3</XMTok></XMApp></XMath></Math>.</p>
              </para>
            </item>
          </itemize>
        </para>
        <para xml:id="S5.SS4.p5" fragid="S5.SS4.p5">
          <p>Note that altogether we have <Math mode="inline" xml:id="S5.SS4.p5.m1" tex="(2+6)m=8\cdot{3n/2}=12n" text="(2 + 6) * m = ((8 cdot 3) * n) / 2 = 12 * n" fragid="S5.SS4.p5.m1"><XMath><XMApp><XMTok meaning="multirelation"/><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMDual><XMRef idref="S5.SS4.p5.m1.1"/><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMApp xml:id="S5.SS4.p5.m1.1" fragid="S5.SS4.p5.m1.1"><XMTok meaning="plus" role="ADDOP">+</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok><XMTok meaning="6" role="NUMBER">6</XMTok></XMApp><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMDual><XMTok role="UNKNOWN" font="italic">m</XMTok></XMApp><XMTok meaning="equals" role="RELOP">=</XMTok><XMApp><XMTok mathstyle="inline" meaning="divide" role="MULOP">/</XMTok><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMApp><XMTok name="cdot" role="MULOP">⋅</XMTok><XMTok meaning="8" role="NUMBER">8</XMTok><XMTok meaning="3" role="NUMBER">3</XMTok></XMApp><XMTok role="UNKNOWN" font="italic">n</XMTok></XMApp><XMTok meaning="2" role="NUMBER">2</XMTok></XMApp><XMTok meaning="equals" role="RELOP">=</XMTok><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok meaning="12" role="NUMBER">12</XMTok><XMTok role="UNKNOWN" font="italic">n</XMTok></XMApp></XMApp></XMath></Math> interns. Hence, any
assignment of all of them uses all capacity of all hospitals.</p>
        </para>
        <para xml:id="S5.SS4.p6" fragid="S5.SS4.p6">
          <p>Suppose first that <Math mode="inline" xml:id="S5.SS4.p6.m1" tex="G" text="G" fragid="S5.SS4.p6.m1"><XMath><XMTok role="UNKNOWN" font="italic">G</XMTok></XMath></Math> is class <Math mode="inline" xml:id="S5.SS4.p6.m2" tex="1" text="1" fragid="S5.SS4.p6.m2"><XMath><XMTok meaning="1" role="NUMBER">1</XMTok></XMath></Math> (that is, it is 3-edge colorable). Fix a
proper 3-edge coloring by colors <Math mode="inline" xml:id="S5.SS4.p6.m3" tex="1,2,3" text="list@(1, 2, 3)" fragid="S5.SS4.p6.m3"><XMath><XMDual><XMApp><XMTok meaning="list"/><XMRef idref="S5.SS4.p6.m3.1"/><XMRef idref="S5.SS4.p6.m3.2"/><XMRef idref="S5.SS4.p6.m3.3"/></XMApp><XMWrap><XMTok meaning="1" role="NUMBER" xml:id="S5.SS4.p6.m3.1" fragid="S5.SS4.p6.m3.1">1</XMTok><XMTok role="PUNCT">,</XMTok><XMTok meaning="2" role="NUMBER" xml:id="S5.SS4.p6.m3.2" fragid="S5.SS4.p6.m3.2">2</XMTok><XMTok role="PUNCT">,</XMTok><XMTok meaning="3" role="NUMBER" xml:id="S5.SS4.p6.m3.3" fragid="S5.SS4.p6.m3.3">3</XMTok></XMWrap></XMDual></XMath></Math>. Each such coloring corresponds
to a full assignment of all interns as follows:</p>
        </para>
        <para xml:id="S5.SS4.p7" fragid="S5.SS4.p7">
          <p>If edge <Math mode="inline" xml:id="S5.SS4.p7.m1" tex="e=(u,v)" text="e = open-interval@(u, v)" fragid="S5.SS4.p7.m1"><XMath><XMApp><XMTok meaning="equals" role="RELOP">=</XMTok><XMTok role="UNKNOWN" font="italic">e</XMTok><XMDual><XMApp><XMTok meaning="open-interval"/><XMRef idref="S5.SS4.p7.m1.1"/><XMRef idref="S5.SS4.p7.m1.2"/></XMApp><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMTok role="UNKNOWN" xml:id="S5.SS4.p7.m1.1" font="italic" fragid="S5.SS4.p7.m1.1">u</XMTok><XMTok role="PUNCT">,</XMTok><XMTok role="UNKNOWN" xml:id="S5.SS4.p7.m1.2" font="italic" fragid="S5.SS4.p7.m1.2">v</XMTok><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMDual></XMApp></XMath></Math> is colored <Math mode="inline" xml:id="S5.SS4.p7.m2" tex="1" text="1" fragid="S5.SS4.p7.m2"><XMath><XMTok meaning="1" role="NUMBER">1</XMTok></XMath></Math> then the couple is in <Math mode="inline" xml:id="S5.SS4.p7.m3" tex="A(e)" text="A * e" fragid="S5.SS4.p7.m3"><XMath><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok role="UNKNOWN" font="italic">A</XMTok><XMDual><XMRef idref="S5.SS4.p7.m3.1"/><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMTok role="UNKNOWN" xml:id="S5.SS4.p7.m3.1" font="italic" fragid="S5.SS4.p7.m3.1">e</XMTok><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMDual></XMApp></XMath></Math>, First single
intern is in <Math mode="inline" xml:id="S5.SS4.p7.m4" tex="(u,1)" text="open-interval@(u, 1)" fragid="S5.SS4.p7.m4"><XMath><XMDual><XMApp><XMTok meaning="open-interval"/><XMRef idref="S5.SS4.p7.m4.1"/><XMRef idref="S5.SS4.p7.m4.2"/></XMApp><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMTok role="UNKNOWN" xml:id="S5.SS4.p7.m4.1" font="italic" fragid="S5.SS4.p7.m4.1">u</XMTok><XMTok role="PUNCT">,</XMTok><XMTok meaning="1" role="NUMBER" xml:id="S5.SS4.p7.m4.2" fragid="S5.SS4.p7.m4.2">1</XMTok><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMDual></XMath></Math>, second in <Math mode="inline" xml:id="S5.SS4.p7.m5" tex="(v,1)" text="open-interval@(v, 1)" fragid="S5.SS4.p7.m5"><XMath><XMDual><XMApp><XMTok meaning="open-interval"/><XMRef idref="S5.SS4.p7.m5.1"/><XMRef idref="S5.SS4.p7.m5.2"/></XMApp><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMTok role="UNKNOWN" xml:id="S5.SS4.p7.m5.1" font="italic" fragid="S5.SS4.p7.m5.1">v</XMTok><XMTok role="PUNCT">,</XMTok><XMTok meaning="1" role="NUMBER" xml:id="S5.SS4.p7.m5.2" fragid="S5.SS4.p7.m5.2">1</XMTok><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMDual></XMath></Math>, third and forth in <Math mode="inline" xml:id="S5.SS4.p7.m6" tex="B(e)" text="B * e" fragid="S5.SS4.p7.m6"><XMath><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok role="UNKNOWN" font="italic">B</XMTok><XMDual><XMRef idref="S5.SS4.p7.m6.1"/><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMTok role="UNKNOWN" xml:id="S5.SS4.p7.m6.1" font="italic" fragid="S5.SS4.p7.m6.1">e</XMTok><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMDual></XMApp></XMath></Math>, fifth and
sixth in <Math mode="inline" xml:id="S5.SS4.p7.m7" tex="C(e)" text="C * e" fragid="S5.SS4.p7.m7"><XMath><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok role="UNKNOWN" font="italic">C</XMTok><XMDual><XMRef idref="S5.SS4.p7.m7.1"/><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMTok role="UNKNOWN" xml:id="S5.SS4.p7.m7.1" font="italic" fragid="S5.SS4.p7.m7.1">e</XMTok><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMDual></XMApp></XMath></Math>. If <Math mode="inline" xml:id="S5.SS4.p7.m8" tex="e" text="e" fragid="S5.SS4.p7.m8"><XMath><XMTok role="UNKNOWN" font="italic">e</XMTok></XMath></Math> is colored <Math mode="inline" xml:id="S5.SS4.p7.m9" tex="2" text="2" fragid="S5.SS4.p7.m9"><XMath><XMTok meaning="2" role="NUMBER">2</XMTok></XMath></Math> and <Math mode="inline" xml:id="S5.SS4.p7.m10" tex="3" text="3" fragid="S5.SS4.p7.m10"><XMath><XMTok meaning="3" role="NUMBER">3</XMTok></XMath></Math> we proceed symmetrically in the
obvious way. It’s clear that this is a full assignment.</p>
        </para>
        <para xml:id="S5.SS4.p8" fragid="S5.SS4.p8">
          <p>Now give this assignment weight <Math mode="inline" xml:id="S5.SS4.p8.m1" tex="1/3" text="1 / 3" fragid="S5.SS4.p8.m1"><XMath><XMApp><XMTok mathstyle="inline" meaning="divide" role="MULOP">/</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok><XMTok meaning="3" role="NUMBER">3</XMTok></XMApp></XMath></Math>, and give weight <Math mode="inline" xml:id="S5.SS4.p8.m2" tex="1/3" text="1 / 3" fragid="S5.SS4.p8.m2"><XMath><XMApp><XMTok mathstyle="inline" meaning="divide" role="MULOP">/</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok><XMTok meaning="3" role="NUMBER">3</XMTok></XMApp></XMath></Math> to each of the
two other assignments obtained from it by cyclically shifting the colors
of all edges. This gives a decomposition of our matrix of probabilities.
<!-- %**** MasterThesis.tex Line 425 **** --></p>
        </para>
        <para xml:id="S5.SS4.p9" fragid="S5.SS4.p9">
          <p>Conversely, if there is a decomposition, then any single assignment
in its support must be a full assignment (assigning all interns and
saturating all hospitals). But this means that for each edge <Math mode="inline" xml:id="S5.SS4.p9.m1" tex="e" text="e" fragid="S5.SS4.p9.m1"><XMath><XMTok role="UNKNOWN" font="italic">e</XMTok></XMath></Math>, among
the <Math mode="inline" xml:id="S5.SS4.p9.m2" tex="8" text="8" fragid="S5.SS4.p9.m2"><XMath><XMTok meaning="8" role="NUMBER">8</XMTok></XMath></Math> interns corresponding to this edge, <Math mode="inline" xml:id="S5.SS4.p9.m3" tex="6" text="6" fragid="S5.SS4.p9.m3"><XMath><XMTok meaning="6" role="NUMBER">6</XMTok></XMath></Math> including the couple are
assigned to the hospitals <Math mode="inline" xml:id="S5.SS4.p9.m4" tex="A(e),B(e),C(e)" text="list@(A * e, B * e, C * e)" fragid="S5.SS4.p9.m4"><XMath><XMDual><XMApp><XMTok meaning="list"/><XMRef idref="S5.SS4.p9.m4.4"/><XMRef idref="S5.SS4.p9.m4.5"/><XMRef idref="S5.SS4.p9.m4.6"/></XMApp><XMWrap><XMApp xml:id="S5.SS4.p9.m4.4" fragid="S5.SS4.p9.m4.4"><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok role="UNKNOWN" font="italic">A</XMTok><XMDual><XMRef idref="S5.SS4.p9.m4.1"/><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMTok role="UNKNOWN" xml:id="S5.SS4.p9.m4.1" font="italic" fragid="S5.SS4.p9.m4.1">e</XMTok><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMDual></XMApp><XMTok role="PUNCT">,</XMTok><XMApp xml:id="S5.SS4.p9.m4.5" fragid="S5.SS4.p9.m4.5"><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok role="UNKNOWN" font="italic">B</XMTok><XMDual><XMRef idref="S5.SS4.p9.m4.2"/><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMTok role="UNKNOWN" xml:id="S5.SS4.p9.m4.2" font="italic" fragid="S5.SS4.p9.m4.2">e</XMTok><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMDual></XMApp><XMTok role="PUNCT">,</XMTok><XMApp xml:id="S5.SS4.p9.m4.6" fragid="S5.SS4.p9.m4.6"><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok role="UNKNOWN" font="italic">C</XMTok><XMDual><XMRef idref="S5.SS4.p9.m4.3"/><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMTok role="UNKNOWN" xml:id="S5.SS4.p9.m4.3" font="italic" fragid="S5.SS4.p9.m4.3">e</XMTok><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMDual></XMApp></XMWrap></XMDual></XMath></Math> and there is a unique <Math mode="inline" xml:id="S5.SS4.p9.m5" tex="i" text="i" fragid="S5.SS4.p9.m5"><XMath><XMTok role="UNKNOWN" font="italic">i</XMTok></XMath></Math>
<Math mode="inline" xml:id="S5.SS4.p9.m6" tex="\in\{1,2,3\}" text="absent element-of set@(1, 2, 3)" fragid="S5.SS4.p9.m6"><XMath><XMApp><XMTok meaning="element-of" name="in" role="RELOP">∈</XMTok><XMTok meaning="absent"/><XMDual><XMApp><XMTok meaning="set"/><XMRef idref="S5.SS4.p9.m6.1"/><XMRef idref="S5.SS4.p9.m6.2"/><XMRef idref="S5.SS4.p9.m6.3"/></XMApp><XMWrap><XMTok role="OPEN" stretchy="false">{</XMTok><XMTok meaning="1" role="NUMBER" xml:id="S5.SS4.p9.m6.1" fragid="S5.SS4.p9.m6.1">1</XMTok><XMTok role="PUNCT">,</XMTok><XMTok meaning="2" role="NUMBER" xml:id="S5.SS4.p9.m6.2" fragid="S5.SS4.p9.m6.2">2</XMTok><XMTok role="PUNCT">,</XMTok><XMTok meaning="3" role="NUMBER" xml:id="S5.SS4.p9.m6.3" fragid="S5.SS4.p9.m6.3">3</XMTok><XMTok role="CLOSE" stretchy="false">}</XMTok></XMWrap></XMDual></XMApp></XMath></Math> so that two of the single interns are assigned to <Math mode="inline" xml:id="S5.SS4.p9.m7" tex="(u,i)" text="open-interval@(u, i)" fragid="S5.SS4.p9.m7"><XMath><XMDual><XMApp><XMTok meaning="open-interval"/><XMRef idref="S5.SS4.p9.m7.1"/><XMRef idref="S5.SS4.p9.m7.2"/></XMApp><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMTok role="UNKNOWN" xml:id="S5.SS4.p9.m7.1" font="italic" fragid="S5.SS4.p9.m7.1">u</XMTok><XMTok role="PUNCT">,</XMTok><XMTok role="UNKNOWN" xml:id="S5.SS4.p9.m7.2" font="italic" fragid="S5.SS4.p9.m7.2">i</XMTok><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMDual></XMath></Math>
and <Math mode="inline" xml:id="S5.SS4.p9.m8" tex="(v,i)" text="open-interval@(v, i)" fragid="S5.SS4.p9.m8"><XMath><XMDual><XMApp><XMTok meaning="open-interval"/><XMRef idref="S5.SS4.p9.m8.1"/><XMRef idref="S5.SS4.p9.m8.2"/></XMApp><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMTok role="UNKNOWN" xml:id="S5.SS4.p9.m8.1" font="italic" fragid="S5.SS4.p9.m8.1">v</XMTok><XMTok role="PUNCT">,</XMTok><XMTok role="UNKNOWN" xml:id="S5.SS4.p9.m8.2" font="italic" fragid="S5.SS4.p9.m8.2">i</XMTok><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMDual></XMath></Math> and thus <Math mode="inline" xml:id="S5.SS4.p9.m9" tex="G" text="G" fragid="S5.SS4.p9.m9"><XMath><XMTok role="UNKNOWN" font="italic">G</XMTok></XMath></Math> is 3-edge colorable, as needed.
∎</p>
        </para>
      </proof>
    </subsection>
    <subsection refnum="5.5" xml:id="S5.SS5" labels="LABEL:sec:approximation" fragid="S5.SS5">
      <title><tag close=" ">5.5</tag>Approximation</title>
      <subsubsection refnum="5.5.1" xml:id="S5.SS5.SSS1" fragid="S5.SS5.SSS1">
        <title><tag close=" ">5.5.1</tag>Lower bound</title>
        <theorem class="ltx_theorem_theorem" frefnum="Theorem 2" refnum="2" xml:id="Thmtheorem2" labels="LABEL:th:lowerBound" fragid="Thmtheorem2">
          <title class="ltx_runin" font="bold"><tag>Theorem 2</tag>.</title>
          <para xml:id="Thmtheorem2.p1" fragid="Thmtheorem2.p1">
            <p>
              <text font="italic">If <Math mode="inline" xml:id="Thmtheorem2.p1.m1" tex="\mathcal{A}" text="A" fragid="Thmtheorem2.p1.m1"><XMath><XMTok role="UNKNOWN" font="caligraphic upright">A</XMTok></XMath></Math> provides an <Math mode="inline" xml:id="Thmtheorem2.p1.m2" tex="f" text="f" fragid="Thmtheorem2.p1.m2"><XMath><XMTok role="UNKNOWN">f</XMTok></XMath></Math>-approximation on <Math mode="inline" xml:id="Thmtheorem2.p1.m3" tex="\mathcal{P}^{S\geq C}" text="P ^ (S &gt;= C)" fragid="Thmtheorem2.p1.m3"><XMath><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post3"/><XMTok role="UNKNOWN" font="caligraphic upright">P</XMTok><XMApp><XMTok meaning="greater-than-or-equals" name="geq" role="RELOP" font="upright">≥</XMTok><XMTok role="UNKNOWN">S</XMTok><XMTok role="UNKNOWN">C</XMTok></XMApp></XMApp></XMath></Math>, then for any <Math mode="inline" xml:id="Thmtheorem2.p1.m4" tex="n\in\mathbb{N}" text="n element-of N" fragid="Thmtheorem2.p1.m4"><XMath><XMApp><XMTok meaning="element-of" name="in" role="RELOP" font="upright">∈</XMTok><XMTok role="UNKNOWN">n</XMTok><XMTok role="UNKNOWN" font="blackboard upright">N</XMTok></XMApp></XMath></Math> there exists <Math mode="inline" xml:id="Thmtheorem2.p1.m5" tex="P\in\mathcal{P}^{S\geq C}" text="P element-of P ^ (S &gt;= C)" fragid="Thmtheorem2.p1.m5"><XMath><XMApp><XMTok meaning="element-of" name="in" role="RELOP" font="upright">∈</XMTok><XMTok role="UNKNOWN">P</XMTok><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post3"/><XMTok role="UNKNOWN" font="caligraphic upright">P</XMTok><XMApp><XMTok meaning="greater-than-or-equals" name="geq" role="RELOP" font="upright">≥</XMTok><XMTok role="UNKNOWN">S</XMTok><XMTok role="UNKNOWN">C</XMTok></XMApp></XMApp></XMApp></XMath></Math> such that <Math mode="inline" xml:id="Thmtheorem2.p1.m6" tex="\left|I\right|\geq n" text="absolute-value@(I) &gt;= n" fragid="Thmtheorem2.p1.m6"><XMath><XMApp><XMTok meaning="greater-than-or-equals" name="geq" role="RELOP" font="upright">≥</XMTok><XMDual><XMApp><XMTok meaning="absolute-value"/><XMRef idref="Thmtheorem2.p1.m6.1"/></XMApp><XMWrap><XMTok role="VERTBAR" font="upright">|</XMTok><XMTok role="UNKNOWN" xml:id="Thmtheorem2.p1.m6.1" fragid="Thmtheorem2.p1.m6.1">I</XMTok><XMTok role="VERTBAR" font="upright">|</XMTok></XMWrap></XMDual><XMTok role="UNKNOWN">n</XMTok></XMApp></XMath></Math> and <Math mode="inline" xml:id="Thmtheorem2.p1.m7" tex="f(P)\geq\frac{2}{\underline{q}+2}" text="f * P &gt;= 2 / (underline@(q) + 2)" fragid="Thmtheorem2.p1.m7"><XMath><XMApp><XMTok meaning="greater-than-or-equals" name="geq" role="RELOP" font="upright">≥</XMTok><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok role="UNKNOWN">f</XMTok><XMDual><XMRef idref="Thmtheorem2.p1.m7.1"/><XMWrap><XMTok role="OPEN" stretchy="false" font="upright">(</XMTok><XMTok role="UNKNOWN" xml:id="Thmtheorem2.p1.m7.1" fragid="Thmtheorem2.p1.m7.1">P</XMTok><XMTok role="CLOSE" stretchy="false" font="upright">)</XMTok></XMWrap></XMDual></XMApp><XMApp><XMTok mathstyle="text" meaning="divide" role="MULOP"/><XMTok meaning="2" role="NUMBER" font="upright">2</XMTok><XMApp><XMTok meaning="plus" role="ADDOP" font="upright">+</XMTok><XMApp><XMTok name="underline" role="UNDERACCENT" font="upright">¯</XMTok><XMTok role="UNKNOWN">q</XMTok></XMApp><XMTok meaning="2" role="NUMBER" font="upright">2</XMTok></XMApp></XMApp></XMApp></XMath></Math>.</text>
            </p>
          </para>
        </theorem>
        <proof>
          <title class="ltx_runin" font="italic">Proof.</title>
          <para xml:id="S5.SS5.SSS1.p1" fragid="S5.SS5.SSS1.p1">
            <p>Given <Math mode="inline" xml:id="S5.SS5.SSS1.p1.m1" tex="n\in\mathbb{N}" text="n element-of N" fragid="S5.SS5.SSS1.p1.m1"><XMath><XMApp><XMTok meaning="element-of" name="in" role="RELOP">∈</XMTok><XMTok role="UNKNOWN" font="italic">n</XMTok><XMTok role="UNKNOWN" font="blackboard">N</XMTok></XMApp></XMath></Math>, let <Math mode="inline" xml:id="S5.SS5.SSS1.p1.m2" tex="q=4\lceil\frac{n}{8}\rceil" text="q = 4 * ceiling@(n / 8)" fragid="S5.SS5.SSS1.p1.m2"><XMath><XMApp><XMTok meaning="equals" role="RELOP">=</XMTok><XMTok role="UNKNOWN" font="italic">q</XMTok><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok meaning="4" role="NUMBER">4</XMTok><XMDual><XMApp><XMTok meaning="ceiling"/><XMRef idref="S5.SS5.SSS1.p1.m2.1"/></XMApp><XMWrap><XMTok name="lceil" role="OPEN" stretchy="false">⌈</XMTok><XMApp xml:id="S5.SS5.SSS1.p1.m2.1" fragid="S5.SS5.SSS1.p1.m2.1"><XMTok mathstyle="text" meaning="divide" role="MULOP"/><XMTok role="UNKNOWN" font="italic">n</XMTok><XMTok meaning="8" role="NUMBER">8</XMTok></XMApp><XMTok name="rceil" role="CLOSE" stretchy="false">⌉</XMTok></XMWrap></XMDual></XMApp></XMApp></XMath></Math>. Let <Math mode="inline" xml:id="S5.SS5.SSS1.p1.m3" tex="S=\left\{s_{1},\dots,s_{\frac{1}{2}q+1},s^{\prime}_{1},\dots,s^{\prime}_{\frac%&#10;{1}{2}q+1}\right\}" text="S = set@(s _ 1, dots, s _ ((1 / 2) * q + 1), (s ^ prime) _ 1, dots, (s ^ prime) _ ((1 / 2) * q + 1))" fragid="S5.SS5.SSS1.p1.m3"><XMath><XMApp><XMTok meaning="equals" role="RELOP">=</XMTok><XMTok role="UNKNOWN" font="italic">S</XMTok><XMDual><XMApp><XMTok meaning="set"/><XMRef idref="S5.SS5.SSS1.p1.m3.3"/><XMRef idref="S5.SS5.SSS1.p1.m3.1"/><XMRef idref="S5.SS5.SSS1.p1.m3.4"/><XMRef idref="S5.SS5.SSS1.p1.m3.5"/><XMRef idref="S5.SS5.SSS1.p1.m3.2"/><XMRef idref="S5.SS5.SSS1.p1.m3.6"/></XMApp><XMWrap><XMTok role="OPEN">{</XMTok><XMApp xml:id="S5.SS5.SSS1.p1.m3.3" fragid="S5.SS5.SSS1.p1.m3.3"><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">s</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp><XMTok role="PUNCT">,</XMTok><XMTok name="dots" role="ID" xml:id="S5.SS5.SSS1.p1.m3.1" fragid="S5.SS5.SSS1.p1.m3.1">…</XMTok><XMTok role="PUNCT">,</XMTok><XMApp xml:id="S5.SS5.SSS1.p1.m3.4" fragid="S5.SS5.SSS1.p1.m3.4"><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">s</XMTok><XMApp><XMTok meaning="plus" role="ADDOP">+</XMTok><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMApp><XMTok mathstyle="script" meaning="divide" role="MULOP"/><XMTok meaning="1" role="NUMBER">1</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok></XMApp><XMTok role="UNKNOWN" font="italic">q</XMTok></XMApp><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp></XMApp><XMTok role="PUNCT">,</XMTok><XMApp xml:id="S5.SS5.SSS1.p1.m3.5" fragid="S5.SS5.SSS1.p1.m3.5"><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">s</XMTok><XMTok name="prime" role="SUPOP">′</XMTok></XMApp><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp><XMTok role="PUNCT">,</XMTok><XMTok name="dots" role="ID" xml:id="S5.SS5.SSS1.p1.m3.2" fragid="S5.SS5.SSS1.p1.m3.2">…</XMTok><XMTok role="PUNCT">,</XMTok><XMApp xml:id="S5.SS5.SSS1.p1.m3.6" fragid="S5.SS5.SSS1.p1.m3.6"><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">s</XMTok><XMTok name="prime" role="SUPOP">′</XMTok></XMApp><XMApp><XMTok meaning="plus" role="ADDOP">+</XMTok><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMApp><XMTok mathstyle="script" meaning="divide" role="MULOP"/><XMTok meaning="1" role="NUMBER">1</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok></XMApp><XMTok role="UNKNOWN" font="italic">q</XMTok></XMApp><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp></XMApp><XMTok role="CLOSE">}</XMTok></XMWrap></XMDual></XMApp></XMath></Math>, <Math mode="inline" xml:id="S5.SS5.SSS1.p1.m4" tex="C=\left\{c_{*},c_{1},\dots,c_{\frac{1}{4}q-1},c^{\prime}_{1},\dots,c^{\prime}_%&#10;{\frac{1}{4}q-1}\right\}" text="C = set@(c _ *, c _ 1, dots, c _ ((1 / 4) * q - 1), (c ^ prime) _ 1, dots, (c ^ prime) _ ((1 / 4) * q - 1))" fragid="S5.SS5.SSS1.p1.m4"><XMath><XMApp><XMTok meaning="equals" role="RELOP">=</XMTok><XMTok role="UNKNOWN" font="italic">C</XMTok><XMDual><XMApp><XMTok meaning="set"/><XMRef idref="S5.SS5.SSS1.p1.m4.3"/><XMRef idref="S5.SS5.SSS1.p1.m4.4"/><XMRef idref="S5.SS5.SSS1.p1.m4.1"/><XMRef idref="S5.SS5.SSS1.p1.m4.5"/><XMRef idref="S5.SS5.SSS1.p1.m4.6"/><XMRef idref="S5.SS5.SSS1.p1.m4.2"/><XMRef idref="S5.SS5.SSS1.p1.m4.7"/></XMApp><XMWrap><XMTok role="OPEN">{</XMTok><XMApp xml:id="S5.SS5.SSS1.p1.m4.3" fragid="S5.SS5.SSS1.p1.m4.3"><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">c</XMTok><XMTok meaning="times" role="MULOP">*</XMTok></XMApp><XMTok role="PUNCT">,</XMTok><XMApp xml:id="S5.SS5.SSS1.p1.m4.4" fragid="S5.SS5.SSS1.p1.m4.4"><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">c</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp><XMTok role="PUNCT">,</XMTok><XMTok name="dots" role="ID" xml:id="S5.SS5.SSS1.p1.m4.1" fragid="S5.SS5.SSS1.p1.m4.1">…</XMTok><XMTok role="PUNCT">,</XMTok><XMApp xml:id="S5.SS5.SSS1.p1.m4.5" fragid="S5.SS5.SSS1.p1.m4.5"><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">c</XMTok><XMApp><XMTok meaning="minus" role="ADDOP">-</XMTok><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMApp><XMTok mathstyle="script" meaning="divide" role="MULOP"/><XMTok meaning="1" role="NUMBER">1</XMTok><XMTok meaning="4" role="NUMBER">4</XMTok></XMApp><XMTok role="UNKNOWN" font="italic">q</XMTok></XMApp><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp></XMApp><XMTok role="PUNCT">,</XMTok><XMApp xml:id="S5.SS5.SSS1.p1.m4.6" fragid="S5.SS5.SSS1.p1.m4.6"><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">c</XMTok><XMTok name="prime" role="SUPOP">′</XMTok></XMApp><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp><XMTok role="PUNCT">,</XMTok><XMTok name="dots" role="ID" xml:id="S5.SS5.SSS1.p1.m4.2" fragid="S5.SS5.SSS1.p1.m4.2">…</XMTok><XMTok role="PUNCT">,</XMTok><XMApp xml:id="S5.SS5.SSS1.p1.m4.7" fragid="S5.SS5.SSS1.p1.m4.7"><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">c</XMTok><XMTok name="prime" role="SUPOP">′</XMTok></XMApp><XMApp><XMTok meaning="minus" role="ADDOP">-</XMTok><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMApp><XMTok mathstyle="script" meaning="divide" role="MULOP"/><XMTok meaning="1" role="NUMBER">1</XMTok><XMTok meaning="4" role="NUMBER">4</XMTok></XMApp><XMTok role="UNKNOWN" font="italic">q</XMTok></XMApp><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp></XMApp><XMTok role="CLOSE">}</XMTok></XMWrap></XMDual></XMApp></XMath></Math>, and <Math mode="inline" xml:id="S5.SS5.SSS1.p1.m5" tex="H=\left\{h,h^{\prime}\right\}" text="H = set@(h, h ^ prime)" fragid="S5.SS5.SSS1.p1.m5"><XMath><XMApp><XMTok meaning="equals" role="RELOP">=</XMTok><XMTok role="UNKNOWN" font="italic">H</XMTok><XMDual><XMApp><XMTok meaning="set"/><XMRef idref="S5.SS5.SSS1.p1.m5.1"/><XMRef idref="S5.SS5.SSS1.p1.m5.2"/></XMApp><XMWrap><XMTok role="OPEN">{</XMTok><XMTok role="UNKNOWN" xml:id="S5.SS5.SSS1.p1.m5.1" font="italic" fragid="S5.SS5.SSS1.p1.m5.1">h</XMTok><XMTok role="PUNCT">,</XMTok><XMApp xml:id="S5.SS5.SSS1.p1.m5.2" fragid="S5.SS5.SSS1.p1.m5.2"><XMTok role="SUPERSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">h</XMTok><XMTok name="prime" role="SUPOP">′</XMTok></XMApp><XMTok role="CLOSE">}</XMTok></XMWrap></XMDual></XMApp></XMath></Math>. Consider the target matrix <Math mode="inline" xml:id="S5.SS5.SSS1.p1.m6" tex="M\in\mathcal{P}^{S\geq C}" text="M element-of P ^ (S &gt;= C)" fragid="S5.SS5.SSS1.p1.m6"><XMath><XMApp><XMTok meaning="element-of" name="in" role="RELOP">∈</XMTok><XMTok role="UNKNOWN" font="italic">M</XMTok><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post3"/><XMTok role="UNKNOWN" font="caligraphic">P</XMTok><XMApp><XMTok meaning="greater-than-or-equals" name="geq" role="RELOP">≥</XMTok><XMTok role="UNKNOWN" font="italic">S</XMTok><XMTok role="UNKNOWN" font="italic">C</XMTok></XMApp></XMApp></XMApp></XMath></Math> described in Table <ref labelref="LABEL:tab:example_singles" href="#S5.T2" title="Table 2 ‣ 5.5.1 Lower bound ‣ 5.5 Approximation ‣ 5 Couples in the assignment problem"><text class="ltx_ref_tag">2</text></ref>. Under this stochastic assignment matrix each single intern in <Math mode="inline" xml:id="S5.SS5.SSS1.p1.m7" tex="\left\{s_{1},\dots,s_{\frac{1}{2}q+1}\right\}" text="set@(s _ 1, dots, s _ ((1 / 2) * q + 1))" fragid="S5.SS5.SSS1.p1.m7"><XMath><XMDual><XMApp><XMTok meaning="set"/><XMRef idref="S5.SS5.SSS1.p1.m7.2"/><XMRef idref="S5.SS5.SSS1.p1.m7.1"/><XMRef idref="S5.SS5.SSS1.p1.m7.3"/></XMApp><XMWrap><XMTok role="OPEN">{</XMTok><XMApp xml:id="S5.SS5.SSS1.p1.m7.2" fragid="S5.SS5.SSS1.p1.m7.2"><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">s</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp><XMTok role="PUNCT">,</XMTok><XMTok name="dots" role="ID" xml:id="S5.SS5.SSS1.p1.m7.1" fragid="S5.SS5.SSS1.p1.m7.1">…</XMTok><XMTok role="PUNCT">,</XMTok><XMApp xml:id="S5.SS5.SSS1.p1.m7.3" fragid="S5.SS5.SSS1.p1.m7.3"><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">s</XMTok><XMApp><XMTok meaning="plus" role="ADDOP">+</XMTok><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMApp><XMTok mathstyle="script" meaning="divide" role="MULOP"/><XMTok meaning="1" role="NUMBER">1</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok></XMApp><XMTok role="UNKNOWN" font="italic">q</XMTok></XMApp><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp></XMApp><XMTok role="CLOSE">}</XMTok></XMWrap></XMDual></XMath></Math> and each couple in <Math mode="inline" xml:id="S5.SS5.SSS1.p1.m8" tex="\left\{c_{1},\dots,c_{\frac{1}{4}q-1}\right\}" text="set@(c _ 1, dots, c _ ((1 / 4) * q - 1))" fragid="S5.SS5.SSS1.p1.m8"><XMath><XMDual><XMApp><XMTok meaning="set"/><XMRef idref="S5.SS5.SSS1.p1.m8.2"/><XMRef idref="S5.SS5.SSS1.p1.m8.1"/><XMRef idref="S5.SS5.SSS1.p1.m8.3"/></XMApp><XMWrap><XMTok role="OPEN">{</XMTok><XMApp xml:id="S5.SS5.SSS1.p1.m8.2" fragid="S5.SS5.SSS1.p1.m8.2"><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">c</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp><XMTok role="PUNCT">,</XMTok><XMTok name="dots" role="ID" xml:id="S5.SS5.SSS1.p1.m8.1" fragid="S5.SS5.SSS1.p1.m8.1">…</XMTok><XMTok role="PUNCT">,</XMTok><XMApp xml:id="S5.SS5.SSS1.p1.m8.3" fragid="S5.SS5.SSS1.p1.m8.3"><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">c</XMTok><XMApp><XMTok meaning="minus" role="ADDOP">-</XMTok><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMApp><XMTok mathstyle="script" meaning="divide" role="MULOP"/><XMTok meaning="1" role="NUMBER">1</XMTok><XMTok meaning="4" role="NUMBER">4</XMTok></XMApp><XMTok role="UNKNOWN" font="italic">q</XMTok></XMApp><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp></XMApp><XMTok role="CLOSE">}</XMTok></XMWrap></XMDual></XMath></Math> gets a probability <Math mode="inline" xml:id="S5.SS5.SSS1.p1.m9" tex="1" text="1" fragid="S5.SS5.SSS1.p1.m9"><XMath><XMTok meaning="1" role="NUMBER">1</XMTok></XMath></Math> to be assigned to <Math mode="inline" xml:id="S5.SS5.SSS1.p1.m10" tex="h" text="h" fragid="S5.SS5.SSS1.p1.m10"><XMath><XMTok role="UNKNOWN" font="italic">h</XMTok></XMath></Math>, each single intern in <Math mode="inline" xml:id="S5.SS5.SSS1.p1.m11" tex="\left\{s^{\prime}_{1},\dots,s^{\prime}_{\frac{1}{2}q+1}\right\}" text="set@((s ^ prime) _ 1, dots, (s ^ prime) _ ((1 / 2) * q + 1))" fragid="S5.SS5.SSS1.p1.m11"><XMath><XMDual><XMApp><XMTok meaning="set"/><XMRef idref="S5.SS5.SSS1.p1.m11.2"/><XMRef idref="S5.SS5.SSS1.p1.m11.1"/><XMRef idref="S5.SS5.SSS1.p1.m11.3"/></XMApp><XMWrap><XMTok role="OPEN">{</XMTok><XMApp xml:id="S5.SS5.SSS1.p1.m11.2" fragid="S5.SS5.SSS1.p1.m11.2"><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">s</XMTok><XMTok name="prime" role="SUPOP">′</XMTok></XMApp><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp><XMTok role="PUNCT">,</XMTok><XMTok name="dots" role="ID" xml:id="S5.SS5.SSS1.p1.m11.1" fragid="S5.SS5.SSS1.p1.m11.1">…</XMTok><XMTok role="PUNCT">,</XMTok><XMApp xml:id="S5.SS5.SSS1.p1.m11.3" fragid="S5.SS5.SSS1.p1.m11.3"><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">s</XMTok><XMTok name="prime" role="SUPOP">′</XMTok></XMApp><XMApp><XMTok meaning="plus" role="ADDOP">+</XMTok><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMApp><XMTok mathstyle="script" meaning="divide" role="MULOP"/><XMTok meaning="1" role="NUMBER">1</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok></XMApp><XMTok role="UNKNOWN" font="italic">q</XMTok></XMApp><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp></XMApp><XMTok role="CLOSE">}</XMTok></XMWrap></XMDual></XMath></Math> and each couple in <Math mode="inline" xml:id="S5.SS5.SSS1.p1.m12" tex="\left\{c^{\prime}_{1},\dots,c^{\prime}_{\frac{1}{4}q-1}\right\}" text="set@((c ^ prime) _ 1, dots, (c ^ prime) _ ((1 / 4) * q - 1))" fragid="S5.SS5.SSS1.p1.m12"><XMath><XMDual><XMApp><XMTok meaning="set"/><XMRef idref="S5.SS5.SSS1.p1.m12.2"/><XMRef idref="S5.SS5.SSS1.p1.m12.1"/><XMRef idref="S5.SS5.SSS1.p1.m12.3"/></XMApp><XMWrap><XMTok role="OPEN">{</XMTok><XMApp xml:id="S5.SS5.SSS1.p1.m12.2" fragid="S5.SS5.SSS1.p1.m12.2"><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">c</XMTok><XMTok name="prime" role="SUPOP">′</XMTok></XMApp><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp><XMTok role="PUNCT">,</XMTok><XMTok name="dots" role="ID" xml:id="S5.SS5.SSS1.p1.m12.1" fragid="S5.SS5.SSS1.p1.m12.1">…</XMTok><XMTok role="PUNCT">,</XMTok><XMApp xml:id="S5.SS5.SSS1.p1.m12.3" fragid="S5.SS5.SSS1.p1.m12.3"><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">c</XMTok><XMTok name="prime" role="SUPOP">′</XMTok></XMApp><XMApp><XMTok meaning="minus" role="ADDOP">-</XMTok><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMApp><XMTok mathstyle="script" meaning="divide" role="MULOP"/><XMTok meaning="1" role="NUMBER">1</XMTok><XMTok meaning="4" role="NUMBER">4</XMTok></XMApp><XMTok role="UNKNOWN" font="italic">q</XMTok></XMApp><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp></XMApp><XMTok role="CLOSE">}</XMTok></XMWrap></XMDual></XMath></Math> gets a probability of <Math mode="inline" xml:id="S5.SS5.SSS1.p1.m13" tex="1" text="1" fragid="S5.SS5.SSS1.p1.m13"><XMath><XMTok meaning="1" role="NUMBER">1</XMTok></XMath></Math> to be assigned to <Math mode="inline" xml:id="S5.SS5.SSS1.p1.m14" tex="h^{\prime}" text="h ^ prime" fragid="S5.SS5.SSS1.p1.m14"><XMath><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post3"/><XMTok role="UNKNOWN" font="italic">h</XMTok><XMTok name="prime" role="SUPOP">′</XMTok></XMApp></XMath></Math>, and the couple <Math mode="inline" xml:id="S5.SS5.SSS1.p1.m15" tex="c_{*}" text="c _ *" fragid="S5.SS5.SSS1.p1.m15"><XMath><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post3"/><XMTok role="UNKNOWN" font="italic">c</XMTok><XMTok meaning="times" role="MULOP">*</XMTok></XMApp></XMath></Math> gets an equal probability to be assigned to either <Math mode="inline" xml:id="S5.SS5.SSS1.p1.m16" tex="h" text="h" fragid="S5.SS5.SSS1.p1.m16"><XMath><XMTok role="UNKNOWN" font="italic">h</XMTok></XMath></Math> or <Math mode="inline" xml:id="S5.SS5.SSS1.p1.m17" tex="h^{\prime}" text="h ^ prime" fragid="S5.SS5.SSS1.p1.m17"><XMath><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post3"/><XMTok role="UNKNOWN" font="italic">h</XMTok><XMTok name="prime" role="SUPOP">′</XMTok></XMApp></XMath></Math>. Note that the capacity of both hospitals is <Math mode="inline" xml:id="S5.SS5.SSS1.p1.m18" tex="q" text="q" fragid="S5.SS5.SSS1.p1.m18"><XMath><XMTok role="UNKNOWN" font="italic">q</XMTok></XMath></Math>.</p>
          </para>
          <table frefnum="Table 2" placement="htbp" refnum="2" xml:id="S5.T2" labels="LABEL:tab:example_singles" fragid="S5.T2">
            <toccaption class="ltx_centering"><tag close=" ">2</tag>Target matrix for proof of Theorem <ref labelref="LABEL:th:lowerBound" href="#Thmtheorem2" title="Theorem 2. ‣ 5.5.1 Lower bound ‣ 5.5 Approximation ‣ 5 Couples in the assignment problem"><text class="ltx_ref_tag">2</text></ref></toccaption>
            <caption class="ltx_centering"><tag close=": ">Table 2</tag>Target matrix for proof of Theorem <ref labelref="LABEL:th:lowerBound" href="#Thmtheorem2" title="Theorem 2. ‣ 5.5.1 Lower bound ‣ 5.5 Approximation ‣ 5 Couples in the assignment problem"><text class="ltx_ref_tag">2</text></ref></caption>
            <!-- %**** MasterThesis.tex Line 450 **** -->
            <ERROR class="ltx_centering undefined">{tabu}</ERROR>
            <p align="center">—c—c—c—
 <ERROR class="undefined">Align</ERROR> <text font="bold">h</text> <ERROR class="undefined">Align</ERROR> <text font="bold">h’</text> <break/></p>
            <p align="center"><Math mode="inline" xml:id="S5.T2.m1" tex="s_{1}" text="s _ 1" fragid="S5.T2.m1"><XMath><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">s</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp></XMath></Math> <ERROR class="undefined">Align</ERROR> 1 <ERROR class="undefined">Align</ERROR> 0 <break/>⋮<ERROR class="undefined">Align</ERROR> 1 <ERROR class="undefined">Align</ERROR> 0 <break/><Math mode="inline" xml:id="S5.T2.m2" tex="s_{\frac{1}{2}q+1}" text="s _ ((1 / 2) * q + 1)" fragid="S5.T2.m2"><XMath><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">s</XMTok><XMApp><XMTok meaning="plus" role="ADDOP">+</XMTok><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMApp><XMTok mathstyle="script" meaning="divide" role="MULOP"/><XMTok meaning="1" role="NUMBER">1</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok></XMApp><XMTok role="UNKNOWN" font="italic">q</XMTok></XMApp><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp></XMApp></XMath></Math> <ERROR class="undefined">Align</ERROR> 1 <ERROR class="undefined">Align</ERROR> 0 <break/><ERROR class="undefined">\tabucline</ERROR>[1pt]-</p>
            <p align="center"><Math mode="inline" xml:id="S5.T2.m3" tex="s^{\prime}_{1}" text="(s ^ prime) _ 1" fragid="S5.T2.m3"><XMath><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">s</XMTok><XMTok name="prime" role="SUPOP">′</XMTok></XMApp><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp></XMath></Math> <ERROR class="undefined">Align</ERROR> 0 <ERROR class="undefined">Align</ERROR> 1 <break/>⋮<ERROR class="undefined">Align</ERROR> 0 <ERROR class="undefined">Align</ERROR> 1 <break/><Math mode="inline" xml:id="S5.T2.m4" tex="s^{\prime}_{\frac{1}{2}q+1}" text="(s ^ prime) _ ((1 / 2) * q + 1)" fragid="S5.T2.m4"><XMath><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">s</XMTok><XMTok name="prime" role="SUPOP">′</XMTok></XMApp><XMApp><XMTok meaning="plus" role="ADDOP">+</XMTok><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMApp><XMTok mathstyle="script" meaning="divide" role="MULOP"/><XMTok meaning="1" role="NUMBER">1</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok></XMApp><XMTok role="UNKNOWN" font="italic">q</XMTok></XMApp><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp></XMApp></XMath></Math> <ERROR class="undefined">Align</ERROR> 0 <ERROR class="undefined">Align</ERROR> 1 <break/><ERROR class="undefined">\tabucline</ERROR>[1pt]-</p>
            <p align="center"><Math mode="inline" xml:id="S5.T2.m5" tex="c_{*,1}" text="c _ (list@(*, 1))" fragid="S5.T2.m5"><XMath><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">c</XMTok><XMDual><XMApp><XMTok meaning="list"/><XMRef idref="S5.T2.m5.1"/><XMRef idref="S5.T2.m5.2"/></XMApp><XMWrap><XMTok meaning="times" role="MULOP" xml:id="S5.T2.m5.1" fragid="S5.T2.m5.1">*</XMTok><XMTok role="PUNCT">,</XMTok><XMTok meaning="1" role="NUMBER" xml:id="S5.T2.m5.2" fragid="S5.T2.m5.2">1</XMTok></XMWrap></XMDual></XMApp></XMath></Math> <ERROR class="undefined">Align</ERROR> 0.5 <ERROR class="undefined">Align</ERROR> 0.5 <break/><ERROR class="undefined">\tabucline</ERROR>[1pt]-
<Math mode="inline" xml:id="S5.T2.m6" tex="c_{*,2}" text="c _ (list@(*, 2))" fragid="S5.T2.m6"><XMath><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">c</XMTok><XMDual><XMApp><XMTok meaning="list"/><XMRef idref="S5.T2.m6.1"/><XMRef idref="S5.T2.m6.2"/></XMApp><XMWrap><XMTok meaning="times" role="MULOP" xml:id="S5.T2.m6.1" fragid="S5.T2.m6.1">*</XMTok><XMTok role="PUNCT">,</XMTok><XMTok meaning="2" role="NUMBER" xml:id="S5.T2.m6.2" fragid="S5.T2.m6.2">2</XMTok></XMWrap></XMDual></XMApp></XMath></Math> <ERROR class="undefined">Align</ERROR> 0.5 <ERROR class="undefined">Align</ERROR> 0.5 <break/><ERROR class="undefined">\tabucline</ERROR>[1pt]-</p>
            <p align="center"><Math mode="inline" xml:id="S5.T2.m7" tex="c_{1,1}" text="c _ (list@(1, 1))" fragid="S5.T2.m7"><XMath><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">c</XMTok><XMDual><XMApp><XMTok meaning="list"/><XMRef idref="S5.T2.m7.1"/><XMRef idref="S5.T2.m7.2"/></XMApp><XMWrap><XMTok meaning="1" role="NUMBER" xml:id="S5.T2.m7.1" fragid="S5.T2.m7.1">1</XMTok><XMTok role="PUNCT">,</XMTok><XMTok meaning="1" role="NUMBER" xml:id="S5.T2.m7.2" fragid="S5.T2.m7.2">1</XMTok></XMWrap></XMDual></XMApp></XMath></Math> <ERROR class="undefined">Align</ERROR> 1 <ERROR class="undefined">Align</ERROR> 0 <break/><Math mode="inline" xml:id="S5.T2.m8" tex="c_{1,2}" text="c _ (list@(1, 2))" fragid="S5.T2.m8"><XMath><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">c</XMTok><XMDual><XMApp><XMTok meaning="list"/><XMRef idref="S5.T2.m8.1"/><XMRef idref="S5.T2.m8.2"/></XMApp><XMWrap><XMTok meaning="1" role="NUMBER" xml:id="S5.T2.m8.1" fragid="S5.T2.m8.1">1</XMTok><XMTok role="PUNCT">,</XMTok><XMTok meaning="2" role="NUMBER" xml:id="S5.T2.m8.2" fragid="S5.T2.m8.2">2</XMTok></XMWrap></XMDual></XMApp></XMath></Math> <ERROR class="undefined">Align</ERROR> 1 <ERROR class="undefined">Align</ERROR> 0 <break/>⋮<ERROR class="undefined">Align</ERROR> 1 <ERROR class="undefined">Align</ERROR> 0 <break/><Math mode="inline" xml:id="S5.T2.m9" tex="c_{\frac{1}{4}q-1,1}" text="c _ (list@((1 / 4) * q - 1, 1))" fragid="S5.T2.m9"><XMath><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">c</XMTok><XMDual><XMApp><XMTok meaning="list"/><XMRef idref="S5.T2.m9.2"/><XMRef idref="S5.T2.m9.1"/></XMApp><XMWrap><XMApp xml:id="S5.T2.m9.2" fragid="S5.T2.m9.2"><XMTok meaning="minus" role="ADDOP">-</XMTok><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMApp><XMTok mathstyle="script" meaning="divide" role="MULOP"/><XMTok meaning="1" role="NUMBER">1</XMTok><XMTok meaning="4" role="NUMBER">4</XMTok></XMApp><XMTok role="UNKNOWN" font="italic">q</XMTok></XMApp><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp><XMTok role="PUNCT">,</XMTok><XMTok meaning="1" role="NUMBER" xml:id="S5.T2.m9.1" fragid="S5.T2.m9.1">1</XMTok></XMWrap></XMDual></XMApp></XMath></Math> <ERROR class="undefined">Align</ERROR> 1 <ERROR class="undefined">Align</ERROR> 0 <break/><Math mode="inline" xml:id="S5.T2.m10" tex="c_{\frac{1}{4}q-1,2}" text="c _ (list@((1 / 4) * q - 1, 2))" fragid="S5.T2.m10"><XMath><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">c</XMTok><XMDual><XMApp><XMTok meaning="list"/><XMRef idref="S5.T2.m10.2"/><XMRef idref="S5.T2.m10.1"/></XMApp><XMWrap><XMApp xml:id="S5.T2.m10.2" fragid="S5.T2.m10.2"><XMTok meaning="minus" role="ADDOP">-</XMTok><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMApp><XMTok mathstyle="script" meaning="divide" role="MULOP"/><XMTok meaning="1" role="NUMBER">1</XMTok><XMTok meaning="4" role="NUMBER">4</XMTok></XMApp><XMTok role="UNKNOWN" font="italic">q</XMTok></XMApp><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp><XMTok role="PUNCT">,</XMTok><XMTok meaning="2" role="NUMBER" xml:id="S5.T2.m10.1" fragid="S5.T2.m10.1">2</XMTok></XMWrap></XMDual></XMApp></XMath></Math> <ERROR class="undefined">Align</ERROR> 1 <ERROR class="undefined">Align</ERROR> 0 <break/><ERROR class="undefined">\tabucline</ERROR>[1pt]-</p>
            <p align="center"><Math mode="inline" xml:id="S5.T2.m11" tex="c^{\prime}_{1,1}" text="(c ^ prime) _ (list@(1, 1))" fragid="S5.T2.m11"><XMath><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">c</XMTok><XMTok name="prime" role="SUPOP">′</XMTok></XMApp><XMDual><XMApp><XMTok meaning="list"/><XMRef idref="S5.T2.m11.1"/><XMRef idref="S5.T2.m11.2"/></XMApp><XMWrap><XMTok meaning="1" role="NUMBER" xml:id="S5.T2.m11.1" fragid="S5.T2.m11.1">1</XMTok><XMTok role="PUNCT">,</XMTok><XMTok meaning="1" role="NUMBER" xml:id="S5.T2.m11.2" fragid="S5.T2.m11.2">1</XMTok></XMWrap></XMDual></XMApp></XMath></Math> <ERROR class="undefined">Align</ERROR> 0 <ERROR class="undefined">Align</ERROR> 1 <break/><Math mode="inline" xml:id="S5.T2.m12" tex="c^{\prime}_{1,2}" text="(c ^ prime) _ (list@(1, 2))" fragid="S5.T2.m12"><XMath><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">c</XMTok><XMTok name="prime" role="SUPOP">′</XMTok></XMApp><XMDual><XMApp><XMTok meaning="list"/><XMRef idref="S5.T2.m12.1"/><XMRef idref="S5.T2.m12.2"/></XMApp><XMWrap><XMTok meaning="1" role="NUMBER" xml:id="S5.T2.m12.1" fragid="S5.T2.m12.1">1</XMTok><XMTok role="PUNCT">,</XMTok><XMTok meaning="2" role="NUMBER" xml:id="S5.T2.m12.2" fragid="S5.T2.m12.2">2</XMTok></XMWrap></XMDual></XMApp></XMath></Math> <ERROR class="undefined">Align</ERROR> 0 <ERROR class="undefined">Align</ERROR> 1 <break/>⋮<ERROR class="undefined">Align</ERROR> 0 <ERROR class="undefined">Align</ERROR> 1 <break/><!-- %**** MasterThesis.tex Line 475 **** --><Math mode="inline" xml:id="S5.T2.m13" tex="c^{\prime}_{\frac{1}{4}q-1,1}" text="(c ^ prime) _ (list@((1 / 4) * q - 1, 1))" fragid="S5.T2.m13"><XMath><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">c</XMTok><XMTok name="prime" role="SUPOP">′</XMTok></XMApp><XMDual><XMApp><XMTok meaning="list"/><XMRef idref="S5.T2.m13.2"/><XMRef idref="S5.T2.m13.1"/></XMApp><XMWrap><XMApp xml:id="S5.T2.m13.2" fragid="S5.T2.m13.2"><XMTok meaning="minus" role="ADDOP">-</XMTok><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMApp><XMTok mathstyle="script" meaning="divide" role="MULOP"/><XMTok meaning="1" role="NUMBER">1</XMTok><XMTok meaning="4" role="NUMBER">4</XMTok></XMApp><XMTok role="UNKNOWN" font="italic">q</XMTok></XMApp><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp><XMTok role="PUNCT">,</XMTok><XMTok meaning="1" role="NUMBER" xml:id="S5.T2.m13.1" fragid="S5.T2.m13.1">1</XMTok></XMWrap></XMDual></XMApp></XMath></Math> <ERROR class="undefined">Align</ERROR> 0 <ERROR class="undefined">Align</ERROR> 1 <break/><Math mode="inline" xml:id="S5.T2.m14" tex="c^{\prime}_{\frac{1}{4}q-1,2}" text="(c ^ prime) _ (list@((1 / 4) * q - 1, 2))" fragid="S5.T2.m14"><XMath><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">c</XMTok><XMTok name="prime" role="SUPOP">′</XMTok></XMApp><XMDual><XMApp><XMTok meaning="list"/><XMRef idref="S5.T2.m14.2"/><XMRef idref="S5.T2.m14.1"/></XMApp><XMWrap><XMApp xml:id="S5.T2.m14.2" fragid="S5.T2.m14.2"><XMTok meaning="minus" role="ADDOP">-</XMTok><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMApp><XMTok mathstyle="script" meaning="divide" role="MULOP"/><XMTok meaning="1" role="NUMBER">1</XMTok><XMTok meaning="4" role="NUMBER">4</XMTok></XMApp><XMTok role="UNKNOWN" font="italic">q</XMTok></XMApp><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp><XMTok role="PUNCT">,</XMTok><XMTok meaning="2" role="NUMBER" xml:id="S5.T2.m14.1" fragid="S5.T2.m14.1">2</XMTok></XMWrap></XMDual></XMApp></XMath></Math> <ERROR class="undefined">Align</ERROR> 0 <ERROR class="undefined">Align</ERROR> 1 <break/></p>
          </table>
          <para xml:id="S5.SS5.SSS1.p2" fragid="S5.SS5.SSS1.p2">
            <p>In any convex combination that approximates <Math mode="inline" xml:id="S5.SS5.SSS1.p2.m1" tex="M" text="M" fragid="S5.SS5.SSS1.p2.m1"><XMath><XMTok role="UNKNOWN" font="italic">M</XMTok></XMath></Math>, one of the hospitals will be assigned at least <Math mode="inline" xml:id="S5.SS5.SSS1.p2.m2" tex="\frac{1}{4}q" text="(1 / 4) * q" fragid="S5.SS5.SSS1.p2.m2"><XMath><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMApp><XMTok mathstyle="text" meaning="divide" role="MULOP"/><XMTok meaning="1" role="NUMBER">1</XMTok><XMTok meaning="4" role="NUMBER">4</XMTok></XMApp><XMTok role="UNKNOWN" font="italic">q</XMTok></XMApp></XMath></Math> of the couples with a weight of at least <Math mode="inline" xml:id="S5.SS5.SSS1.p2.m3" tex="\frac{1}{2}" text="1 / 2" fragid="S5.SS5.SSS1.p2.m3"><XMath><XMApp><XMTok mathstyle="text" meaning="divide" role="MULOP"/><XMTok meaning="1" role="NUMBER">1</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok></XMApp></XMath></Math>. This means that with probability <Math mode="inline" xml:id="S5.SS5.SSS1.p2.m4" tex="\frac{1}{2}" text="1 / 2" fragid="S5.SS5.SSS1.p2.m4"><XMath><XMApp><XMTok mathstyle="text" meaning="divide" role="MULOP"/><XMTok meaning="1" role="NUMBER">1</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok></XMApp></XMath></Math> the left over capacity for single interns is at most <Math mode="inline" xml:id="S5.SS5.SSS1.p2.m5" tex="\frac{1}{2}q" text="(1 / 2) * q" fragid="S5.SS5.SSS1.p2.m5"><XMath><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMApp><XMTok mathstyle="text" meaning="divide" role="MULOP"/><XMTok meaning="1" role="NUMBER">1</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok></XMApp><XMTok role="UNKNOWN" font="italic">q</XMTok></XMApp></XMath></Math>, where as the single interns require <Math mode="inline" xml:id="S5.SS5.SSS1.p2.m6" tex="\frac{1}{2}q+1" text="(1 / 2) * q + 1" fragid="S5.SS5.SSS1.p2.m6"><XMath><XMApp><XMTok meaning="plus" role="ADDOP">+</XMTok><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMApp><XMTok mathstyle="text" meaning="divide" role="MULOP"/><XMTok meaning="1" role="NUMBER">1</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok></XMApp><XMTok role="UNKNOWN" font="italic">q</XMTok></XMApp><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp></XMath></Math>. The optimal way to minimize the deviation from the singles probability would be to divide the deviation equally among all the relevant single interns. This means that each individual intern in the relevant hospital will get at most <Math mode="inline" xml:id="S5.SS5.SSS1.p2.m7" tex="\frac{1}{2}\cdot 1+\frac{1}{2}\cdot\frac{\frac{1}{2}q}{\frac{1}{2}q+1}" text="(1 / 2) cdot 1 + (1 / 2) cdot (((1 / 2) * q) / ((1 / 2) * q + 1))" fragid="S5.SS5.SSS1.p2.m7"><XMath><XMApp><XMTok meaning="plus" role="ADDOP">+</XMTok><XMApp><XMTok name="cdot" role="MULOP">⋅</XMTok><XMApp><XMTok mathstyle="text" meaning="divide" role="MULOP"/><XMTok meaning="1" role="NUMBER">1</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok></XMApp><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp><XMApp><XMTok name="cdot" role="MULOP">⋅</XMTok><XMApp><XMTok mathstyle="text" meaning="divide" role="MULOP"/><XMTok meaning="1" role="NUMBER">1</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok></XMApp><XMApp><XMTok mathstyle="text" meaning="divide" role="MULOP"/><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMApp><XMTok mathstyle="script" meaning="divide" role="MULOP"/><XMTok meaning="1" role="NUMBER">1</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok></XMApp><XMTok role="UNKNOWN" font="italic">q</XMTok></XMApp><XMApp><XMTok meaning="plus" role="ADDOP">+</XMTok><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMApp><XMTok mathstyle="script" meaning="divide" role="MULOP"/><XMTok meaning="1" role="NUMBER">1</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok></XMApp><XMTok role="UNKNOWN" font="italic">q</XMTok></XMApp><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp></XMApp></XMApp></XMApp></XMath></Math> instead of getting <Math mode="inline" xml:id="S5.SS5.SSS1.p2.m8" tex="1" text="1" fragid="S5.SS5.SSS1.p2.m8"><XMath><XMTok meaning="1" role="NUMBER">1</XMTok></XMath></Math>, and to complete the individual’s total probability to <Math mode="inline" xml:id="S5.SS5.SSS1.p2.m9" tex="1" text="1" fragid="S5.SS5.SSS1.p2.m9"><XMath><XMTok meaning="1" role="NUMBER">1</XMTok></XMath></Math>, the single will get <Math mode="inline" xml:id="S5.SS5.SSS1.p2.m10" tex="1-(\frac{1}{2}\cdot 1+\frac{1}{2}\cdot\frac{\frac{1}{2}q}{\frac{1}{2}q+1})" text="1 - ((1 / 2) cdot 1 + (1 / 2) cdot (((1 / 2) * q) / ((1 / 2) * q + 1)))" fragid="S5.SS5.SSS1.p2.m10"><XMath><XMApp><XMTok meaning="minus" role="ADDOP">-</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok><XMDual><XMRef idref="S5.SS5.SSS1.p2.m10.1"/><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMApp xml:id="S5.SS5.SSS1.p2.m10.1" fragid="S5.SS5.SSS1.p2.m10.1"><XMTok meaning="plus" role="ADDOP">+</XMTok><XMApp><XMTok name="cdot" role="MULOP">⋅</XMTok><XMApp><XMTok mathstyle="text" meaning="divide" role="MULOP"/><XMTok meaning="1" role="NUMBER">1</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok></XMApp><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp><XMApp><XMTok name="cdot" role="MULOP">⋅</XMTok><XMApp><XMTok mathstyle="text" meaning="divide" role="MULOP"/><XMTok meaning="1" role="NUMBER">1</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok></XMApp><XMApp><XMTok mathstyle="text" meaning="divide" role="MULOP"/><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMApp><XMTok mathstyle="script" meaning="divide" role="MULOP"/><XMTok meaning="1" role="NUMBER">1</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok></XMApp><XMTok role="UNKNOWN" font="italic">q</XMTok></XMApp><XMApp><XMTok meaning="plus" role="ADDOP">+</XMTok><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMApp><XMTok mathstyle="script" meaning="divide" role="MULOP"/><XMTok meaning="1" role="NUMBER">1</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok></XMApp><XMTok role="UNKNOWN" font="italic">q</XMTok></XMApp><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp></XMApp></XMApp></XMApp><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMDual></XMApp></XMath></Math> to the other hospital (instead of <Math mode="inline" xml:id="S5.SS5.SSS1.p2.m11" tex="0" text="0" fragid="S5.SS5.SSS1.p2.m11"><XMath><XMTok meaning="0" role="NUMBER">0</XMTok></XMath></Math>). Therefore the approximation cannot be better than:</p>
            <equation xml:id="S5.Ex2" fragid="S5.Ex2">
              <Math mode="display" xml:id="S5.Ex2.m1" tex="2\left(1-\frac{1}{2}\cdot 1-\frac{1}{2}\cdot\frac{\frac{1}{2}q}{\frac{1}{2}q+1%&#10;}\right)=\frac{2}{q+2}\left(=\frac{2}{\underline{q}+2}\right)" text="2 * (1 - (1 / 2) cdot 1 - (1 / 2) cdot (((1 / 2) * q) / ((1 / 2) * q + 1))) = annotated@(2 / (q + 2), absent = 2 / (underline@(q) + 2))" fragid="S5.Ex2.m1">
                <XMath>
                  <XMApp>
                    <XMTok meaning="equals" role="RELOP">=</XMTok>
                    <XMApp>
                      <XMTok meaning="times" role="MULOP">⁢</XMTok>
                      <XMTok meaning="2" role="NUMBER">2</XMTok>
                      <XMDual>
                        <XMRef idref="S5.Ex2.m1.1"/>
                        <XMWrap>
                          <XMTok role="OPEN">(</XMTok>
                          <XMApp xml:id="S5.Ex2.m1.1" fragid="S5.Ex2.m1.1">
                            <XMTok meaning="minus" role="ADDOP">-</XMTok>
                            <XMTok meaning="1" role="NUMBER">1</XMTok>
                            <XMApp>
                              <XMTok name="cdot" role="MULOP">⋅</XMTok>
                              <XMApp>
                                <XMTok mathstyle="display" meaning="divide" role="MULOP"/>
                                <XMTok meaning="1" role="NUMBER">1</XMTok>
                                <XMTok meaning="2" role="NUMBER">2</XMTok>
                              </XMApp>
                              <XMTok meaning="1" role="NUMBER">1</XMTok>
                            </XMApp>
                            <XMApp>
                              <XMTok name="cdot" role="MULOP">⋅</XMTok>
                              <XMApp>
                                <XMTok mathstyle="display" meaning="divide" role="MULOP"/>
                                <XMTok meaning="1" role="NUMBER">1</XMTok>
                                <XMTok meaning="2" role="NUMBER">2</XMTok>
                              </XMApp>
                              <XMApp>
                                <XMTok mathstyle="display" meaning="divide" role="MULOP"/>
                                <XMApp>
                                  <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                  <XMApp>
                                    <XMTok mathstyle="text" meaning="divide" role="MULOP"/>
                                    <XMTok meaning="1" role="NUMBER">1</XMTok>
                                    <XMTok meaning="2" role="NUMBER">2</XMTok>
                                  </XMApp>
                                  <XMTok role="UNKNOWN" font="italic">q</XMTok>
                                </XMApp>
                                <XMApp>
                                  <XMTok meaning="plus" role="ADDOP">+</XMTok>
                                  <XMApp>
                                    <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                    <XMApp>
                                      <XMTok mathstyle="text" meaning="divide" role="MULOP"/>
                                      <XMTok meaning="1" role="NUMBER">1</XMTok>
                                      <XMTok meaning="2" role="NUMBER">2</XMTok>
                                    </XMApp>
                                    <XMTok role="UNKNOWN" font="italic">q</XMTok>
                                  </XMApp>
                                  <XMTok meaning="1" role="NUMBER">1</XMTok>
                                </XMApp>
                              </XMApp>
                            </XMApp>
                          </XMApp>
                          <XMTok role="CLOSE">)</XMTok>
                        </XMWrap>
                      </XMDual>
                    </XMApp>
                    <XMApp>
                      <XMTok meaning="annotated"/>
                      <XMApp>
                        <XMTok mathstyle="display" meaning="divide" role="MULOP"/>
                        <XMTok meaning="2" role="NUMBER">2</XMTok>
                        <XMApp>
                          <XMTok meaning="plus" role="ADDOP">+</XMTok>
                          <XMTok role="UNKNOWN" font="italic">q</XMTok>
                          <XMTok meaning="2" role="NUMBER">2</XMTok>
                        </XMApp>
                      </XMApp>
                      <XMDual>
                        <XMRef idref="S5.Ex2.m1.2"/>
                        <XMWrap>
                          <XMTok role="OPEN">(</XMTok>
                          <XMApp xml:id="S5.Ex2.m1.2" fragid="S5.Ex2.m1.2">
                            <XMTok meaning="equals" role="RELOP">=</XMTok>
                            <XMTok meaning="absent"/>
                            <XMApp>
                              <XMTok mathstyle="display" meaning="divide" role="MULOP"/>
                              <XMTok meaning="2" role="NUMBER">2</XMTok>
                              <XMApp>
                                <XMTok meaning="plus" role="ADDOP">+</XMTok>
                                <XMApp>
                                  <XMTok name="underline" role="UNDERACCENT">¯</XMTok>
                                  <XMTok role="UNKNOWN" font="italic">q</XMTok>
                                </XMApp>
                                <XMTok meaning="2" role="NUMBER">2</XMTok>
                              </XMApp>
                            </XMApp>
                          </XMApp>
                          <XMTok role="CLOSE">)</XMTok>
                        </XMWrap>
                      </XMDual>
                    </XMApp>
                  </XMApp>
                </XMath>
              </Math>
            </equation>
            <p>∎</p>
          </para>
        </proof>
        <para xml:id="S5.SS5.SSS1.p3" fragid="S5.SS5.SSS1.p3">
          <p>One may argue that the example provided in the proof for Theorem <ref labelref="LABEL:th:lowerBound" href="#Thmtheorem2" title="Theorem 2. ‣ 5.5.1 Lower bound ‣ 5.5 Approximation ‣ 5 Couples in the assignment problem"><text class="ltx_ref_tag">2</text></ref> seems quite pathological. Indeed, the target matrix allocates many interns either <Math mode="inline" xml:id="S5.SS5.SSS1.p3.m1" tex="h" text="h" fragid="S5.SS5.SSS1.p3.m1"><XMath><XMTok role="UNKNOWN" font="italic">h</XMTok></XMath></Math> or <Math mode="inline" xml:id="S5.SS5.SSS1.p3.m2" tex="h^{\prime}" text="h ^ prime" fragid="S5.SS5.SSS1.p3.m2"><XMath><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post2"/><XMTok role="UNKNOWN" font="italic">h</XMTok><XMTok name="prime" role="SUPOP">′</XMTok></XMApp></XMath></Math> with probability <Math mode="inline" xml:id="S5.SS5.SSS1.p3.m3" tex="1" text="1" fragid="S5.SS5.SSS1.p3.m3"><XMath><XMTok meaning="1" role="NUMBER">1</XMTok></XMath></Math>. There could be scenarios in which it would be very reasonable to consider only target matrices in which each intern’s probability of reaching any particular hospital is bounded by some expression related to the number of hospitals (see also the concluding discussion). Nevertheless, in our main application the chosen algorithm involves trading probability between interns, and so it often outputs target matrices that are close to being pathological in exactly the same sense. This motivates our approximation metric and the consideration of extreme cases. More importantly, a similar bound can be achieved even if probabilities are restricted to being small, although the problems are not in the domain <Math mode="inline" xml:id="S5.SS5.SSS1.p3.m4" tex="\mathcal{P}^{S\geq C}" text="P ^ (S &gt;= C)" fragid="S5.SS5.SSS1.p3.m4"><XMath><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post2"/><XMTok role="UNKNOWN" font="caligraphic">P</XMTok><XMApp><XMTok meaning="greater-than-or-equals" name="geq" role="RELOP">≥</XMTok><XMTok role="UNKNOWN" font="italic">S</XMTok><XMTok role="UNKNOWN" font="italic">C</XMTok></XMApp></XMApp></XMath></Math> (see Appendix <ref labelref="LABEL:apndx:small_probs" href="#A2" title="Appendix B Lower Bound for small probabilities"><text class="ltx_ref_tag">B</text></ref>). Finding a lower bound in the domain <Math mode="inline" xml:id="S5.SS5.SSS1.p3.m5" tex="\mathcal{P}^{S\geq C}" text="P ^ (S &gt;= C)" fragid="S5.SS5.SSS1.p3.m5"><XMath><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post2"/><XMTok role="UNKNOWN" font="caligraphic">P</XMTok><XMApp><XMTok meaning="greater-than-or-equals" name="geq" role="RELOP">≥</XMTok><XMTok role="UNKNOWN" font="italic">S</XMTok><XMTok role="UNKNOWN" font="italic">C</XMTok></XMApp></XMApp></XMath></Math> when probabilities are constrained to be “small” remains an open problem.</p>
        </para>
      </subsubsection>
      <subsubsection refnum="5.5.2" xml:id="S5.SS5.SSS2" fragid="S5.SS5.SSS2">
        <title><tag close=" ">5.5.2</tag>Suggested algorithm for upper bound</title>
        <para xml:id="S5.SS5.SSS2.p1" fragid="S5.SS5.SSS2.p1">
          <p>We present an approximation algorithm for decomposing any matrix <Math mode="inline" xml:id="S5.SS5.SSS2.p1.m1" tex="M\in\mathcal{P}" text="M element-of P" fragid="S5.SS5.SSS2.p1.m1"><XMath><XMApp><XMTok meaning="element-of" name="in" role="RELOP">∈</XMTok><XMTok role="UNKNOWN" font="italic">M</XMTok><XMTok role="UNKNOWN" font="caligraphic">P</XMTok></XMApp></XMath></Math>. The algorithm can be roughly divided into two main stages: the first stage deals only with couples and assigns them to hospitals according to their probability in <Math mode="inline" xml:id="S5.SS5.SSS2.p1.m2" tex="M" text="M" fragid="S5.SS5.SSS2.p1.m2"><XMath><XMTok role="UNKNOWN" font="italic">M</XMTok></XMath></Math>, and the second stage ’fixes’ the probabilities of the single interns in <Math mode="inline" xml:id="S5.SS5.SSS2.p1.m3" tex="M" text="M" fragid="S5.SS5.SSS2.p1.m3"><XMath><XMTok role="UNKNOWN" font="italic">M</XMTok></XMath></Math> to match the assignment of the couples from the first stage. In the second stage the over-demanded capacity taken by the couples in any specific hospital is deducted from singles’ demand according to a division which preserves the weight of each single intern in the singles’ demand.</p>
        </para>
        <para xml:id="S5.SS5.SSS2.p2" fragid="S5.SS5.SSS2.p2">
          <p>The algorithm starts by “enlarging” each hospital capacity to the sum of the couples probabilities to be assigned to <Math mode="inline" xml:id="S5.SS5.SSS2.p2.m1" tex="h" text="h" fragid="S5.SS5.SSS2.p2.m1"><XMath><XMTok role="UNKNOWN" font="italic">h</XMTok></XMath></Math> divided by two and rounded up to the nearest integer. The couples now behave like singles, and for each hospital we add a new single to take the “extra” capacity (the new single’s demand is completed by a dummy hospital, <Math mode="inline" xml:id="S5.SS5.SSS2.p2.m2" tex="h_{\emptyset}" text="h _ empty-set" fragid="S5.SS5.SSS2.p2.m2"><XMath><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post2"/><XMTok role="UNKNOWN" font="italic">h</XMTok><XMTok meaning="empty-set" name="emptyset" role="ID">∅</XMTok></XMApp></XMath></Math>). Doing so for all hospitals gives us a new stochastic assignment matrix containing only “singles” (with each single representing an original couple), and it can be decomposed using the Birkhoff-von Neumann theorem, to get a convex combination of deterministic assignment matrices that represent the allocation of the couples. In some of these assignment the couples take slightly more capacity than their expected share (but only up to the nearest multiple of two).</p>
        </para>
        <para xml:id="S5.SS5.SSS2.p3" fragid="S5.SS5.SSS2.p3">
          <p>In the second stage of the algorithm, we look at the residuals of the first-stage assignment. For each couples assignment and for each hospital we check whether the couples exceeded their expected share in that hospital, and if so, we let all the singles reduce their demand by their respective weights. The missing demand is directed at a dummy hospital, <Math mode="inline" xml:id="S5.SS5.SSS2.p3.m1" tex="h_{\emptyset}" text="h _ empty-set" fragid="S5.SS5.SSS2.p3.m1"><XMath><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post2"/><XMTok role="UNKNOWN" font="italic">h</XMTok><XMTok meaning="empty-set" name="emptyset" role="ID">∅</XMTok></XMApp></XMath></Math>. We again have a stochastic assignment matrix containing only singles that can be decomposed using the Birkhoff-von Neumann theorem.<note mark="10" role="footnote">Strictly speaking, the demand needs to be rounded up to the nearest integer, and this can be done again by adding dummy interns for each hospital, and putting all the leftover demand in the dummy hospital.</note> The output of the decomposition assigns some of the singles to the dummy hospital, so we move them to vacant positions arbitrarily. The algorithm then combines back the first-stage and the second-stage assignments to get a valid deterministic assignment matrix with respect to the original problem.</p>
        </para>
        <para xml:id="S5.SS5.SSS2.p4" fragid="S5.SS5.SSS2.p4">
          <p>The full algorithm’s pseudo-code can be found in Algorithm <ref labelref="LABEL:alg:approximation" href="#algorithm1" title="5.5.2 Suggested algorithm for upper bound ‣ 5.5 Approximation ‣ 5 Couples in the assignment problem"><text class="ltx_ref_tag">5.5.2</text></ref>.</p>
        </para>
        <!-- %**** MasterThesis.tex Line 500 **** -->
        <float class="ltx_float_algorithm" refnum="1" xml:id="algorithm1" labels="LABEL:alg:approximation" fragid="algorithm1">
          <toccaption><tag close=" ">1</tag>Approximation</toccaption>
          <caption><tag close=" ">1</tag>Approximation</caption>
          <p>Input: A stochastic assignment matrix <Math mode="inline" xml:id="algorithm1.m1" tex="M^{I\times H}\in\mathcal{P}" text="M ^ (I * H) element-of P" fragid="algorithm1.m1"><XMath><XMApp><XMTok meaning="element-of" name="in" role="RELOP">∈</XMTok><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">M</XMTok><XMApp><XMTok meaning="times" role="MULOP">×</XMTok><XMTok role="UNKNOWN" font="italic">I</XMTok><XMTok role="UNKNOWN" font="italic">H</XMTok></XMApp></XMApp><XMTok role="UNKNOWN" font="caligraphic">P</XMTok></XMApp></XMath></Math>
<ERROR class="undefined">{algorithmic}</ERROR>[1]
<ERROR class="undefined">\State</ERROR><Math mode="inline" xml:id="algorithm1.m2" tex="S^{\prime}=C\cup H" text="S ^ prime = C union H" fragid="algorithm1.m2"><XMath><XMApp><XMTok meaning="equals" role="RELOP">=</XMTok><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">S</XMTok><XMTok name="prime" role="SUPOP">′</XMTok></XMApp><XMApp><XMTok meaning="union" name="cup" role="ADDOP">∪</XMTok><XMTok role="UNKNOWN" font="italic">C</XMTok><XMTok role="UNKNOWN" font="italic">H</XMTok></XMApp></XMApp></XMath></Math>, <Math mode="inline" xml:id="algorithm1.m3" tex="H^{\prime}=H\cup\{h_{\emptyset}\}" text="H ^ prime = H union set@(h _ empty-set)" fragid="algorithm1.m3"><XMath><XMApp><XMTok meaning="equals" role="RELOP">=</XMTok><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">H</XMTok><XMTok name="prime" role="SUPOP">′</XMTok></XMApp><XMApp><XMTok meaning="union" name="cup" role="ADDOP">∪</XMTok><XMTok role="UNKNOWN" font="italic">H</XMTok><XMDual><XMApp><XMTok meaning="set"/><XMRef idref="algorithm1.m3.1"/></XMApp><XMWrap><XMTok role="OPEN" stretchy="false">{</XMTok><XMApp xml:id="algorithm1.m3.1" fragid="algorithm1.m3.1"><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">h</XMTok><XMTok meaning="empty-set" name="emptyset" role="ID">∅</XMTok></XMApp><XMTok role="CLOSE" stretchy="false">}</XMTok></XMWrap></XMDual></XMApp></XMApp></XMath></Math>
<ERROR class="undefined">\State</ERROR>Create a new matrix <Math mode="inline" xml:id="algorithm1.m4" tex="M^{\prime}\in[0,1]^{|S^{\prime}|\times|H^{\prime}|}" text="M ^ prime element-of (closed-interval@(0, 1)) ^ (absolute-value@(S ^ prime) * absolute-value@(H ^ prime))" fragid="algorithm1.m4"><XMath><XMApp><XMTok meaning="element-of" name="in" role="RELOP">∈</XMTok><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">M</XMTok><XMTok name="prime" role="SUPOP">′</XMTok></XMApp><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post4"/><XMDual><XMApp><XMTok meaning="closed-interval"/><XMRef idref="algorithm1.m4.3"/><XMRef idref="algorithm1.m4.4"/></XMApp><XMWrap><XMTok role="OPEN" stretchy="false">[</XMTok><XMTok meaning="0" role="NUMBER" xml:id="algorithm1.m4.3" fragid="algorithm1.m4.3">0</XMTok><XMTok role="PUNCT">,</XMTok><XMTok meaning="1" role="NUMBER" xml:id="algorithm1.m4.4" fragid="algorithm1.m4.4">1</XMTok><XMTok role="CLOSE" stretchy="false">]</XMTok></XMWrap></XMDual><XMApp><XMTok meaning="times" role="MULOP">×</XMTok><XMDual><XMApp><XMTok meaning="absolute-value"/><XMRef idref="algorithm1.m4.1"/></XMApp><XMWrap><XMTok role="VERTBAR" stretchy="false">|</XMTok><XMApp xml:id="algorithm1.m4.1" fragid="algorithm1.m4.1"><XMTok role="SUPERSCRIPTOP" scriptpos="post5"/><XMTok role="UNKNOWN" font="italic">S</XMTok><XMTok name="prime" role="SUPOP">′</XMTok></XMApp><XMTok role="VERTBAR" stretchy="false">|</XMTok></XMWrap></XMDual><XMDual><XMApp><XMTok meaning="absolute-value"/><XMRef idref="algorithm1.m4.2"/></XMApp><XMWrap><XMTok role="VERTBAR" stretchy="false">|</XMTok><XMApp xml:id="algorithm1.m4.2" fragid="algorithm1.m4.2"><XMTok role="SUPERSCRIPTOP" scriptpos="post5"/><XMTok role="UNKNOWN" font="italic">H</XMTok><XMTok name="prime" role="SUPOP">′</XMTok></XMApp><XMTok role="VERTBAR" stretchy="false">|</XMTok></XMWrap></XMDual></XMApp></XMApp></XMApp></XMath></Math> (initialize with zeros)
<ERROR class="undefined">\ForAll</ERROR><Math mode="inline" xml:id="algorithm1.m5" tex="h\in H" text="h element-of H" fragid="algorithm1.m5"><XMath><XMApp><XMTok meaning="element-of" name="in" role="RELOP">∈</XMTok><XMTok role="UNKNOWN" font="italic">h</XMTok><XMTok role="UNKNOWN" font="italic">H</XMTok></XMApp></XMath></Math>
<ERROR class="undefined">\ForAll</ERROR><Math mode="inline" xml:id="algorithm1.m6" tex="c\in C" text="c element-of C" fragid="algorithm1.m6"><XMath><XMApp><XMTok meaning="element-of" name="in" role="RELOP">∈</XMTok><XMTok role="UNKNOWN" font="italic">c</XMTok><XMTok role="UNKNOWN" font="italic">C</XMTok></XMApp></XMath></Math>
<ERROR class="undefined">\State</ERROR><Math mode="inline" xml:id="algorithm1.m7" tex="M^{\prime}_{c,h}=M_{c_{1},h}" text="(M ^ prime) _ (list@(c, h)) = M _ (list@(c _ 1, h))" fragid="algorithm1.m7"><XMath><XMApp><XMTok meaning="equals" role="RELOP">=</XMTok><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">M</XMTok><XMTok name="prime" role="SUPOP">′</XMTok></XMApp><XMDual><XMApp><XMTok meaning="list"/><XMRef idref="algorithm1.m7.1"/><XMRef idref="algorithm1.m7.2"/></XMApp><XMWrap><XMTok role="UNKNOWN" xml:id="algorithm1.m7.1" font="italic" fragid="algorithm1.m7.1">c</XMTok><XMTok role="PUNCT">,</XMTok><XMTok role="UNKNOWN" xml:id="algorithm1.m7.2" font="italic" fragid="algorithm1.m7.2">h</XMTok></XMWrap></XMDual></XMApp><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">M</XMTok><XMDual><XMApp><XMTok meaning="list"/><XMRef idref="algorithm1.m7.4"/><XMRef idref="algorithm1.m7.3"/></XMApp><XMWrap><XMApp xml:id="algorithm1.m7.4" fragid="algorithm1.m7.4"><XMTok role="SUBSCRIPTOP" scriptpos="post5"/><XMTok role="UNKNOWN" font="italic">c</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp><XMTok role="PUNCT">,</XMTok><XMTok role="UNKNOWN" xml:id="algorithm1.m7.3" font="italic" fragid="algorithm1.m7.3">h</XMTok></XMWrap></XMDual></XMApp></XMApp></XMath></Math>
<ERROR class="undefined">\EndFor</ERROR><ERROR class="undefined">\State</ERROR><Math mode="inline" xml:id="algorithm1.m8" tex="M^{\prime}_{h,h}=\lceil\sum_{c\in C}M^{\prime}_{c,h}\rceil-\sum_{c\in C}M^{%&#10;\prime}_{c,h}" text="(M ^ prime) _ (list@(h, h)) = ceiling@((sum _ (c element-of C))@((M ^ prime) _ (list@(c, h)))) - (sum _ (c element-of C))@((M ^ prime) _ (list@(c, h)))" fragid="algorithm1.m8"><XMath><XMApp><XMTok meaning="equals" role="RELOP">=</XMTok><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">M</XMTok><XMTok name="prime" role="SUPOP">′</XMTok></XMApp><XMDual><XMApp><XMTok meaning="list"/><XMRef idref="algorithm1.m8.1"/><XMRef idref="algorithm1.m8.2"/></XMApp><XMWrap><XMTok role="UNKNOWN" xml:id="algorithm1.m8.1" font="italic" fragid="algorithm1.m8.1">h</XMTok><XMTok role="PUNCT">,</XMTok><XMTok role="UNKNOWN" xml:id="algorithm1.m8.2" font="italic" fragid="algorithm1.m8.2">h</XMTok></XMWrap></XMDual></XMApp><XMApp><XMTok meaning="minus" role="ADDOP">-</XMTok><XMDual><XMApp><XMTok meaning="ceiling"/><XMRef idref="algorithm1.m8.7"/></XMApp><XMWrap><XMTok name="lceil" role="OPEN" stretchy="false">⌈</XMTok><XMApp xml:id="algorithm1.m8.7" fragid="algorithm1.m8.7"><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMTok mathstyle="text" meaning="sum" role="SUMOP" scriptpos="post">∑</XMTok><XMApp><XMTok meaning="element-of" name="in" role="RELOP">∈</XMTok><XMTok role="UNKNOWN" font="italic">c</XMTok><XMTok role="UNKNOWN" font="italic">C</XMTok></XMApp></XMApp><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">M</XMTok><XMTok name="prime" role="SUPOP">′</XMTok></XMApp><XMDual><XMApp><XMTok meaning="list"/><XMRef idref="algorithm1.m8.3"/><XMRef idref="algorithm1.m8.4"/></XMApp><XMWrap><XMTok role="UNKNOWN" xml:id="algorithm1.m8.3" font="italic" fragid="algorithm1.m8.3">c</XMTok><XMTok role="PUNCT">,</XMTok><XMTok role="UNKNOWN" xml:id="algorithm1.m8.4" font="italic" fragid="algorithm1.m8.4">h</XMTok></XMWrap></XMDual></XMApp></XMApp><XMTok name="rceil" role="CLOSE" stretchy="false">⌉</XMTok></XMWrap></XMDual><XMApp><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMTok mathstyle="text" meaning="sum" role="SUMOP" scriptpos="post">∑</XMTok><XMApp><XMTok meaning="element-of" name="in" role="RELOP">∈</XMTok><XMTok role="UNKNOWN" font="italic">c</XMTok><XMTok role="UNKNOWN" font="italic">C</XMTok></XMApp></XMApp><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">M</XMTok><XMTok name="prime" role="SUPOP">′</XMTok></XMApp><XMDual><XMApp><XMTok meaning="list"/><XMRef idref="algorithm1.m8.5"/><XMRef idref="algorithm1.m8.6"/></XMApp><XMWrap><XMTok role="UNKNOWN" xml:id="algorithm1.m8.5" font="italic" fragid="algorithm1.m8.5">c</XMTok><XMTok role="PUNCT">,</XMTok><XMTok role="UNKNOWN" xml:id="algorithm1.m8.6" font="italic" fragid="algorithm1.m8.6">h</XMTok></XMWrap></XMDual></XMApp></XMApp></XMApp></XMApp></XMath></Math>
<ERROR class="undefined">\State</ERROR><Math mode="inline" xml:id="algorithm1.m9" tex="M^{\prime}_{h,h_{\emptyset}}=1-M^{\prime}_{h,h}" text="(M ^ prime) _ (list@(h, h _ empty-set)) = 1 - (M ^ prime) _ (list@(h, h))" fragid="algorithm1.m9"><XMath><XMApp><XMTok meaning="equals" role="RELOP">=</XMTok><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">M</XMTok><XMTok name="prime" role="SUPOP">′</XMTok></XMApp><XMDual><XMApp><XMTok meaning="list"/><XMRef idref="algorithm1.m9.1"/><XMRef idref="algorithm1.m9.2"/></XMApp><XMWrap><XMTok role="UNKNOWN" xml:id="algorithm1.m9.1" font="italic" fragid="algorithm1.m9.1">h</XMTok><XMTok role="PUNCT">,</XMTok><XMApp xml:id="algorithm1.m9.2" fragid="algorithm1.m9.2"><XMTok role="SUBSCRIPTOP" scriptpos="post5"/><XMTok role="UNKNOWN" font="italic">h</XMTok><XMTok meaning="empty-set" name="emptyset" role="ID">∅</XMTok></XMApp></XMWrap></XMDual></XMApp><XMApp><XMTok meaning="minus" role="ADDOP">-</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">M</XMTok><XMTok name="prime" role="SUPOP">′</XMTok></XMApp><XMDual><XMApp><XMTok meaning="list"/><XMRef idref="algorithm1.m9.3"/><XMRef idref="algorithm1.m9.4"/></XMApp><XMWrap><XMTok role="UNKNOWN" xml:id="algorithm1.m9.3" font="italic" fragid="algorithm1.m9.3">h</XMTok><XMTok role="PUNCT">,</XMTok><XMTok role="UNKNOWN" xml:id="algorithm1.m9.4" font="italic" fragid="algorithm1.m9.4">h</XMTok></XMWrap></XMDual></XMApp></XMApp></XMApp></XMath></Math>
<ERROR class="undefined">\EndFor</ERROR><ERROR class="undefined">\Comment</ERROR>We get that <Math mode="inline" xml:id="algorithm1.m10" tex="(S^{\prime},\emptyset,H^{\prime},M^{\prime})=P^{\prime}\in\mathcal{P}^{C=\emptyset}" text="vector@(S ^ prime, empty-set, H ^ prime, M ^ prime) = P ^ prime element-of P ^ (C = empty-set)" fragid="algorithm1.m10"><XMath><XMApp><XMTok meaning="multirelation"/><XMDual><XMApp><XMTok meaning="vector"/><XMRef idref="algorithm1.m10.2"/><XMRef idref="algorithm1.m10.1"/><XMRef idref="algorithm1.m10.3"/><XMRef idref="algorithm1.m10.4"/></XMApp><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMApp xml:id="algorithm1.m10.2" fragid="algorithm1.m10.2"><XMTok role="SUPERSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">S</XMTok><XMTok name="prime" role="SUPOP">′</XMTok></XMApp><XMTok role="PUNCT">,</XMTok><XMTok meaning="empty-set" name="emptyset" role="ID" xml:id="algorithm1.m10.1" fragid="algorithm1.m10.1">∅</XMTok><XMTok role="PUNCT">,</XMTok><XMApp xml:id="algorithm1.m10.3" fragid="algorithm1.m10.3"><XMTok role="SUPERSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">H</XMTok><XMTok name="prime" role="SUPOP">′</XMTok></XMApp><XMTok role="PUNCT">,</XMTok><XMApp xml:id="algorithm1.m10.4" fragid="algorithm1.m10.4"><XMTok role="SUPERSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">M</XMTok><XMTok name="prime" role="SUPOP">′</XMTok></XMApp><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMDual><XMTok meaning="equals" role="RELOP">=</XMTok><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">P</XMTok><XMTok name="prime" role="SUPOP">′</XMTok></XMApp><XMTok meaning="element-of" name="in" role="RELOP">∈</XMTok><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="caligraphic">P</XMTok><XMApp><XMTok meaning="equals" role="RELOP">=</XMTok><XMTok role="UNKNOWN" font="italic">C</XMTok><XMTok meaning="empty-set" name="emptyset" role="ID">∅</XMTok></XMApp></XMApp></XMApp></XMath></Math></p>
          <ERROR class="undefined">\State</ERROR>
          <p>Decompose <Math mode="inline" xml:id="algorithm1.m11" tex="M^{\prime}" text="M ^ prime" fragid="algorithm1.m11"><XMath><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">M</XMTok><XMTok name="prime" role="SUPOP">′</XMTok></XMApp></XMath></Math> into a convex combination of deterministic assignment matrices <Math mode="inline" xml:id="algorithm1.m12" tex="\left\{\left(\lambda^{k},M^{k}\right)\right\}_{k=1}^{K}" text="((set@(open-interval@(lambda ^ k, M ^ k))) _ (k = 1)) ^ K" fragid="algorithm1.m12"><XMath><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post4"/><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMDual><XMApp><XMTok meaning="set"/><XMRef idref="algorithm1.m12.1"/></XMApp><XMWrap><XMTok role="OPEN">{</XMTok><XMDual xml:id="algorithm1.m12.1" fragid="algorithm1.m12.1"><XMApp><XMTok meaning="open-interval"/><XMRef idref="algorithm1.m12.1.1"/><XMRef idref="algorithm1.m12.1.2"/></XMApp><XMWrap><XMTok role="OPEN">(</XMTok><XMApp xml:id="algorithm1.m12.1.1" fragid="algorithm1.m12.1.1"><XMTok role="SUPERSCRIPTOP" scriptpos="post6"/><XMTok name="lambda" role="UNKNOWN" font="italic">λ</XMTok><XMTok role="UNKNOWN" font="italic">k</XMTok></XMApp><XMTok role="PUNCT">,</XMTok><XMApp xml:id="algorithm1.m12.1.2" fragid="algorithm1.m12.1.2"><XMTok role="SUPERSCRIPTOP" scriptpos="post6"/><XMTok role="UNKNOWN" font="italic">M</XMTok><XMTok role="UNKNOWN" font="italic">k</XMTok></XMApp><XMTok role="CLOSE">)</XMTok></XMWrap></XMDual><XMTok role="CLOSE">}</XMTok></XMWrap></XMDual><XMApp><XMTok meaning="equals" role="RELOP">=</XMTok><XMTok role="UNKNOWN" font="italic">k</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp></XMApp><XMTok role="UNKNOWN" font="italic">K</XMTok></XMApp></XMath></Math> (with respect to <Math mode="inline" xml:id="algorithm1.m13" tex="P^{\prime}" text="P ^ prime" fragid="algorithm1.m13"><XMath><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">P</XMTok><XMTok name="prime" role="SUPOP">′</XMTok></XMApp></XMath></Math>)
<ERROR class="undefined">\State</ERROR>Create an empty set of allocations <Math mode="inline" xml:id="algorithm1.m14" tex="\psi=\{\}" text="psi = list@()" fragid="algorithm1.m14"><XMath><XMApp><XMTok meaning="equals" role="RELOP">=</XMTok><XMTok name="psi" role="UNKNOWN" font="italic">ψ</XMTok><XMDual><XMApp><XMTok meaning="list"/></XMApp><XMWrap><XMTok role="OPEN" stretchy="false">{</XMTok><XMTok role="CLOSE" stretchy="false">}</XMTok></XMWrap></XMDual></XMApp></XMath></Math>
<ERROR class="undefined">\For</ERROR><Math mode="inline" xml:id="algorithm1.m15" tex="k=1" text="k = 1" fragid="algorithm1.m15"><XMath><XMApp><XMTok meaning="equals" role="RELOP">=</XMTok><XMTok role="UNKNOWN" font="italic">k</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp></XMath></Math> to <Math mode="inline" xml:id="algorithm1.m16" tex="K" text="K" fragid="algorithm1.m16"><XMath><XMTok role="UNKNOWN" font="italic">K</XMTok></XMath></Math>
<ERROR class="undefined">\State</ERROR><Math mode="inline" xml:id="algorithm1.m17" tex="\tilde{H}=H\cup\{h_{\emptyset}\}" text="tilde@(H) = H union set@(h _ empty-set)" fragid="algorithm1.m17"><XMath><XMApp><XMTok meaning="equals" role="RELOP">=</XMTok><XMApp><XMTok name="tilde" role="OVERACCENT" stretchy="false">~</XMTok><XMTok role="UNKNOWN" font="italic">H</XMTok></XMApp><XMApp><XMTok meaning="union" name="cup" role="ADDOP">∪</XMTok><XMTok role="UNKNOWN" font="italic">H</XMTok><XMDual><XMApp><XMTok meaning="set"/><XMRef idref="algorithm1.m17.1"/></XMApp><XMWrap><XMTok role="OPEN" stretchy="false">{</XMTok><XMApp xml:id="algorithm1.m17.1" fragid="algorithm1.m17.1"><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">h</XMTok><XMTok meaning="empty-set" name="emptyset" role="ID">∅</XMTok></XMApp><XMTok role="CLOSE" stretchy="false">}</XMTok></XMWrap></XMDual></XMApp></XMApp></XMath></Math>
<ERROR class="undefined">\State</ERROR>Create a new matrix <Math mode="inline" xml:id="algorithm1.m18" tex="\tilde{M}\in[0,1]^{|S|\times|\tilde{H}|}" text="tilde@(M) element-of (closed-interval@(0, 1)) ^ (absolute-value@(S) * absolute-value@(tilde@(H)))" fragid="algorithm1.m18"><XMath><XMApp><XMTok meaning="element-of" name="in" role="RELOP">∈</XMTok><XMApp><XMTok name="tilde" role="OVERACCENT" stretchy="false">~</XMTok><XMTok role="UNKNOWN" font="italic">M</XMTok></XMApp><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post4"/><XMDual><XMApp><XMTok meaning="closed-interval"/><XMRef idref="algorithm1.m18.3"/><XMRef idref="algorithm1.m18.4"/></XMApp><XMWrap><XMTok role="OPEN" stretchy="false">[</XMTok><XMTok meaning="0" role="NUMBER" xml:id="algorithm1.m18.3" fragid="algorithm1.m18.3">0</XMTok><XMTok role="PUNCT">,</XMTok><XMTok meaning="1" role="NUMBER" xml:id="algorithm1.m18.4" fragid="algorithm1.m18.4">1</XMTok><XMTok role="CLOSE" stretchy="false">]</XMTok></XMWrap></XMDual><XMApp><XMTok meaning="times" role="MULOP">×</XMTok><XMDual><XMApp><XMTok meaning="absolute-value"/><XMRef idref="algorithm1.m18.1"/></XMApp><XMWrap><XMTok role="VERTBAR" stretchy="false">|</XMTok><XMTok role="UNKNOWN" xml:id="algorithm1.m18.1" font="italic" fragid="algorithm1.m18.1">S</XMTok><XMTok role="VERTBAR" stretchy="false">|</XMTok></XMWrap></XMDual><XMDual><XMApp><XMTok meaning="absolute-value"/><XMRef idref="algorithm1.m18.2"/></XMApp><XMWrap><XMTok role="VERTBAR" stretchy="false">|</XMTok><XMApp xml:id="algorithm1.m18.2" fragid="algorithm1.m18.2"><XMTok name="tilde" role="OVERACCENT" stretchy="false">~</XMTok><XMTok role="UNKNOWN" font="italic">H</XMTok></XMApp><XMTok role="VERTBAR" stretchy="false">|</XMTok></XMWrap></XMDual></XMApp></XMApp></XMApp></XMath></Math> (initialize with zeros)
<ERROR class="undefined">\ForAll</ERROR><Math mode="inline" xml:id="algorithm1.m19" tex="s\in S" text="s element-of S" fragid="algorithm1.m19"><XMath><XMApp><XMTok meaning="element-of" name="in" role="RELOP">∈</XMTok><XMTok role="UNKNOWN" font="italic">s</XMTok><XMTok role="UNKNOWN" font="italic">S</XMTok></XMApp></XMath></Math>
<ERROR class="undefined">\ForAll</ERROR><Math mode="inline" xml:id="algorithm1.m20" tex="h\in H" text="h element-of H" fragid="algorithm1.m20"><XMath><XMApp><XMTok meaning="element-of" name="in" role="RELOP">∈</XMTok><XMTok role="UNKNOWN" font="italic">h</XMTok><XMTok role="UNKNOWN" font="italic">H</XMTok></XMApp></XMath></Math>
<ERROR class="undefined">\If</ERROR><Math mode="inline" xml:id="algorithm1.m21" tex="\sum_{c\in C}M^{k}_{c,h}&gt;\sum_{c\in C}M^{\prime}_{c,h}" text="(sum _ (c element-of C))@((M ^ k) _ (list@(c, h))) &gt; (sum _ (c element-of C))@((M ^ prime) _ (list@(c, h)))" fragid="algorithm1.m21"><XMath><XMApp><XMTok meaning="greater-than" role="RELOP">&gt;</XMTok><XMApp><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post5"/><XMTok mathstyle="text" meaning="sum" role="SUMOP" scriptpos="post">∑</XMTok><XMApp><XMTok meaning="element-of" name="in" role="RELOP">∈</XMTok><XMTok role="UNKNOWN" font="italic">c</XMTok><XMTok role="UNKNOWN" font="italic">C</XMTok></XMApp></XMApp><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post5"/><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post5"/><XMTok role="UNKNOWN" font="italic">M</XMTok><XMTok role="UNKNOWN" font="italic">k</XMTok></XMApp><XMDual><XMApp><XMTok meaning="list"/><XMRef idref="algorithm1.m21.1"/><XMRef idref="algorithm1.m21.2"/></XMApp><XMWrap><XMTok role="UNKNOWN" xml:id="algorithm1.m21.1" font="italic" fragid="algorithm1.m21.1">c</XMTok><XMTok role="PUNCT">,</XMTok><XMTok role="UNKNOWN" xml:id="algorithm1.m21.2" font="italic" fragid="algorithm1.m21.2">h</XMTok></XMWrap></XMDual></XMApp></XMApp><XMApp><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post5"/><XMTok mathstyle="text" meaning="sum" role="SUMOP" scriptpos="post">∑</XMTok><XMApp><XMTok meaning="element-of" name="in" role="RELOP">∈</XMTok><XMTok role="UNKNOWN" font="italic">c</XMTok><XMTok role="UNKNOWN" font="italic">C</XMTok></XMApp></XMApp><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post5"/><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post5"/><XMTok role="UNKNOWN" font="italic">M</XMTok><XMTok name="prime" role="SUPOP">′</XMTok></XMApp><XMDual><XMApp><XMTok meaning="list"/><XMRef idref="algorithm1.m21.3"/><XMRef idref="algorithm1.m21.4"/></XMApp><XMWrap><XMTok role="UNKNOWN" xml:id="algorithm1.m21.3" font="italic" fragid="algorithm1.m21.3">c</XMTok><XMTok role="PUNCT">,</XMTok><XMTok role="UNKNOWN" xml:id="algorithm1.m21.4" font="italic" fragid="algorithm1.m21.4">h</XMTok></XMWrap></XMDual></XMApp></XMApp></XMApp></XMath></Math>
<ERROR class="undefined">\Comment</ERROR>If couples exceeded their quota
<!-- %**** MasterThesis.tex Line 525 **** --><ERROR class="undefined">\State</ERROR><Math mode="inline" xml:id="algorithm1.m22" tex="\tilde{M}_{s,h}=M_{s,h}-\frac{M_{s,h}}{\sum_{s^{\prime}\in S}M_{s^{\prime},h}}%&#10;\cdot 2\left(\sum_{c\in C}M^{k}_{c,h}-\sum_{c\in C}M^{\prime}_{c,h}\right)" text="(tilde@(M)) _ (list@(s, h)) = M _ (list@(s, h)) - ((M _ (list@(s, h)) / (sum _ (s ^ prime element-of S))@(M _ (list@(s ^ prime, h)))) cdot 2) * ((sum _ (c element-of C))@((M ^ k) _ (list@(c, h))) - (sum _ (c element-of C))@((M ^ prime) _ (list@(c, h))))" fragid="algorithm1.m22"><XMath><XMApp><XMTok meaning="equals" role="RELOP">=</XMTok><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMApp><XMTok name="tilde" role="OVERACCENT" stretchy="false">~</XMTok><XMTok role="UNKNOWN" font="italic">M</XMTok></XMApp><XMDual><XMApp><XMTok meaning="list"/><XMRef idref="algorithm1.m22.1"/><XMRef idref="algorithm1.m22.2"/></XMApp><XMWrap><XMTok role="UNKNOWN" xml:id="algorithm1.m22.1" font="italic" fragid="algorithm1.m22.1">s</XMTok><XMTok role="PUNCT">,</XMTok><XMTok role="UNKNOWN" xml:id="algorithm1.m22.2" font="italic" fragid="algorithm1.m22.2">h</XMTok></XMWrap></XMDual></XMApp><XMApp><XMTok meaning="minus" role="ADDOP">-</XMTok><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">M</XMTok><XMDual><XMApp><XMTok meaning="list"/><XMRef idref="algorithm1.m22.3"/><XMRef idref="algorithm1.m22.4"/></XMApp><XMWrap><XMTok role="UNKNOWN" xml:id="algorithm1.m22.3" font="italic" fragid="algorithm1.m22.3">s</XMTok><XMTok role="PUNCT">,</XMTok><XMTok role="UNKNOWN" xml:id="algorithm1.m22.4" font="italic" fragid="algorithm1.m22.4">h</XMTok></XMWrap></XMDual></XMApp><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMApp><XMTok name="cdot" role="MULOP">⋅</XMTok><XMApp><XMTok mathstyle="text" meaning="divide" role="MULOP"/><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post5"/><XMTok role="UNKNOWN" font="italic">M</XMTok><XMDual><XMApp><XMTok meaning="list"/><XMRef idref="algorithm1.m22.5"/><XMRef idref="algorithm1.m22.6"/></XMApp><XMWrap><XMTok role="UNKNOWN" xml:id="algorithm1.m22.5" font="italic" fragid="algorithm1.m22.5">s</XMTok><XMTok role="PUNCT">,</XMTok><XMTok role="UNKNOWN" xml:id="algorithm1.m22.6" font="italic" fragid="algorithm1.m22.6">h</XMTok></XMWrap></XMDual></XMApp><XMApp><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post5"/><XMTok mathstyle="text" meaning="sum" role="SUMOP" scriptpos="post">∑</XMTok><XMApp><XMTok meaning="element-of" name="in" role="RELOP">∈</XMTok><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post6"/><XMTok role="UNKNOWN" font="italic">s</XMTok><XMTok name="prime" role="SUPOP">′</XMTok></XMApp><XMTok role="UNKNOWN" font="italic">S</XMTok></XMApp></XMApp><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post5"/><XMTok role="UNKNOWN" font="italic">M</XMTok><XMDual><XMApp><XMTok meaning="list"/><XMRef idref="algorithm1.m22.8"/><XMRef idref="algorithm1.m22.7"/></XMApp><XMWrap><XMApp xml:id="algorithm1.m22.8" fragid="algorithm1.m22.8"><XMTok role="SUPERSCRIPTOP" scriptpos="post6"/><XMTok role="UNKNOWN" font="italic">s</XMTok><XMTok name="prime" role="SUPOP">′</XMTok></XMApp><XMTok role="PUNCT">,</XMTok><XMTok role="UNKNOWN" xml:id="algorithm1.m22.7" font="italic" fragid="algorithm1.m22.7">h</XMTok></XMWrap></XMDual></XMApp></XMApp></XMApp><XMTok meaning="2" role="NUMBER">2</XMTok></XMApp><XMDual><XMRef idref="algorithm1.m22.13"/><XMWrap><XMTok role="OPEN">(</XMTok><XMApp xml:id="algorithm1.m22.13" fragid="algorithm1.m22.13"><XMTok meaning="minus" role="ADDOP">-</XMTok><XMApp><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post5"/><XMTok mathstyle="text" meaning="sum" role="SUMOP" scriptpos="post">∑</XMTok><XMApp><XMTok meaning="element-of" name="in" role="RELOP">∈</XMTok><XMTok role="UNKNOWN" font="italic">c</XMTok><XMTok role="UNKNOWN" font="italic">C</XMTok></XMApp></XMApp><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post5"/><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post5"/><XMTok role="UNKNOWN" font="italic">M</XMTok><XMTok role="UNKNOWN" font="italic">k</XMTok></XMApp><XMDual><XMApp><XMTok meaning="list"/><XMRef idref="algorithm1.m22.9"/><XMRef idref="algorithm1.m22.10"/></XMApp><XMWrap><XMTok role="UNKNOWN" xml:id="algorithm1.m22.9" font="italic" fragid="algorithm1.m22.9">c</XMTok><XMTok role="PUNCT">,</XMTok><XMTok role="UNKNOWN" xml:id="algorithm1.m22.10" font="italic" fragid="algorithm1.m22.10">h</XMTok></XMWrap></XMDual></XMApp></XMApp><XMApp><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post5"/><XMTok mathstyle="text" meaning="sum" role="SUMOP" scriptpos="post">∑</XMTok><XMApp><XMTok meaning="element-of" name="in" role="RELOP">∈</XMTok><XMTok role="UNKNOWN" font="italic">c</XMTok><XMTok role="UNKNOWN" font="italic">C</XMTok></XMApp></XMApp><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post5"/><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post5"/><XMTok role="UNKNOWN" font="italic">M</XMTok><XMTok name="prime" role="SUPOP">′</XMTok></XMApp><XMDual><XMApp><XMTok meaning="list"/><XMRef idref="algorithm1.m22.11"/><XMRef idref="algorithm1.m22.12"/></XMApp><XMWrap><XMTok role="UNKNOWN" xml:id="algorithm1.m22.11" font="italic" fragid="algorithm1.m22.11">c</XMTok><XMTok role="PUNCT">,</XMTok><XMTok role="UNKNOWN" xml:id="algorithm1.m22.12" font="italic" fragid="algorithm1.m22.12">h</XMTok></XMWrap></XMDual></XMApp></XMApp></XMApp><XMTok role="CLOSE">)</XMTok></XMWrap></XMDual></XMApp></XMApp></XMApp></XMath></Math>
<ERROR class="undefined">\Else</ERROR><ERROR class="undefined">\State</ERROR><Math mode="inline" xml:id="algorithm1.m23" tex="\tilde{M}_{s,h}=M_{s,h}" text="(tilde@(M)) _ (list@(s, h)) = M _ (list@(s, h))" fragid="algorithm1.m23"><XMath><XMApp><XMTok meaning="equals" role="RELOP">=</XMTok><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMApp><XMTok name="tilde" role="OVERACCENT" stretchy="false">~</XMTok><XMTok role="UNKNOWN" font="italic">M</XMTok></XMApp><XMDual><XMApp><XMTok meaning="list"/><XMRef idref="algorithm1.m23.1"/><XMRef idref="algorithm1.m23.2"/></XMApp><XMWrap><XMTok role="UNKNOWN" xml:id="algorithm1.m23.1" font="italic" fragid="algorithm1.m23.1">s</XMTok><XMTok role="PUNCT">,</XMTok><XMTok role="UNKNOWN" xml:id="algorithm1.m23.2" font="italic" fragid="algorithm1.m23.2">h</XMTok></XMWrap></XMDual></XMApp><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">M</XMTok><XMDual><XMApp><XMTok meaning="list"/><XMRef idref="algorithm1.m23.3"/><XMRef idref="algorithm1.m23.4"/></XMApp><XMWrap><XMTok role="UNKNOWN" xml:id="algorithm1.m23.3" font="italic" fragid="algorithm1.m23.3">s</XMTok><XMTok role="PUNCT">,</XMTok><XMTok role="UNKNOWN" xml:id="algorithm1.m23.4" font="italic" fragid="algorithm1.m23.4">h</XMTok></XMWrap></XMDual></XMApp></XMApp></XMath></Math>
<ERROR class="undefined">\EndIf</ERROR><ERROR class="undefined">\EndFor</ERROR></p>
          <ERROR class="undefined">\State</ERROR>
          <p><Math mode="inline" xml:id="algorithm1.m24" tex="\tilde{M}_{s,h_{\emptyset}}=\sum_{h\in H}M_{s,h}-\sum_{h\in H}\tilde{M}_{s,h}" text="(tilde@(M)) _ (list@(s, h _ empty-set)) = (sum _ (h element-of H))@(M _ (list@(s, h))) - (sum _ (h element-of H))@((tilde@(M)) _ (list@(s, h)))" fragid="algorithm1.m24"><XMath><XMApp><XMTok meaning="equals" role="RELOP">=</XMTok><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMApp><XMTok name="tilde" role="OVERACCENT" stretchy="false">~</XMTok><XMTok role="UNKNOWN" font="italic">M</XMTok></XMApp><XMDual><XMApp><XMTok meaning="list"/><XMRef idref="algorithm1.m24.1"/><XMRef idref="algorithm1.m24.2"/></XMApp><XMWrap><XMTok role="UNKNOWN" xml:id="algorithm1.m24.1" font="italic" fragid="algorithm1.m24.1">s</XMTok><XMTok role="PUNCT">,</XMTok><XMApp xml:id="algorithm1.m24.2" fragid="algorithm1.m24.2"><XMTok role="SUBSCRIPTOP" scriptpos="post5"/><XMTok role="UNKNOWN" font="italic">h</XMTok><XMTok meaning="empty-set" name="emptyset" role="ID">∅</XMTok></XMApp></XMWrap></XMDual></XMApp><XMApp><XMTok meaning="minus" role="ADDOP">-</XMTok><XMApp><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMTok mathstyle="text" meaning="sum" role="SUMOP" scriptpos="post">∑</XMTok><XMApp><XMTok meaning="element-of" name="in" role="RELOP">∈</XMTok><XMTok role="UNKNOWN" font="italic">h</XMTok><XMTok role="UNKNOWN" font="italic">H</XMTok></XMApp></XMApp><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">M</XMTok><XMDual><XMApp><XMTok meaning="list"/><XMRef idref="algorithm1.m24.3"/><XMRef idref="algorithm1.m24.4"/></XMApp><XMWrap><XMTok role="UNKNOWN" xml:id="algorithm1.m24.3" font="italic" fragid="algorithm1.m24.3">s</XMTok><XMTok role="PUNCT">,</XMTok><XMTok role="UNKNOWN" xml:id="algorithm1.m24.4" font="italic" fragid="algorithm1.m24.4">h</XMTok></XMWrap></XMDual></XMApp></XMApp><XMApp><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMTok mathstyle="text" meaning="sum" role="SUMOP" scriptpos="post">∑</XMTok><XMApp><XMTok meaning="element-of" name="in" role="RELOP">∈</XMTok><XMTok role="UNKNOWN" font="italic">h</XMTok><XMTok role="UNKNOWN" font="italic">H</XMTok></XMApp></XMApp><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMApp><XMTok name="tilde" role="OVERACCENT" stretchy="false">~</XMTok><XMTok role="UNKNOWN" font="italic">M</XMTok></XMApp><XMDual><XMApp><XMTok meaning="list"/><XMRef idref="algorithm1.m24.5"/><XMRef idref="algorithm1.m24.6"/></XMApp><XMWrap><XMTok role="UNKNOWN" xml:id="algorithm1.m24.5" font="italic" fragid="algorithm1.m24.5">s</XMTok><XMTok role="PUNCT">,</XMTok><XMTok role="UNKNOWN" xml:id="algorithm1.m24.6" font="italic" fragid="algorithm1.m24.6">h</XMTok></XMWrap></XMDual></XMApp></XMApp></XMApp></XMApp></XMath></Math>
<ERROR class="undefined">\EndFor</ERROR><ERROR class="undefined">\Comment</ERROR>We get that <Math mode="inline" xml:id="algorithm1.m25" tex="(S,\emptyset,\tilde{H},\tilde{M})=\tilde{P}\in\mathcal{P}^{C=\emptyset}" text="vector@(S, empty-set, tilde@(H), tilde@(M)) = tilde@(P) element-of P ^ (C = empty-set)" fragid="algorithm1.m25"><XMath><XMApp><XMTok meaning="multirelation"/><XMDual><XMApp><XMTok meaning="vector"/><XMRef idref="algorithm1.m25.1"/><XMRef idref="algorithm1.m25.2"/><XMRef idref="algorithm1.m25.3"/><XMRef idref="algorithm1.m25.4"/></XMApp><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMTok role="UNKNOWN" xml:id="algorithm1.m25.1" font="italic" fragid="algorithm1.m25.1">S</XMTok><XMTok role="PUNCT">,</XMTok><XMTok meaning="empty-set" name="emptyset" role="ID" xml:id="algorithm1.m25.2" fragid="algorithm1.m25.2">∅</XMTok><XMTok role="PUNCT">,</XMTok><XMApp xml:id="algorithm1.m25.3" fragid="algorithm1.m25.3"><XMTok name="tilde" role="OVERACCENT" stretchy="false">~</XMTok><XMTok role="UNKNOWN" font="italic">H</XMTok></XMApp><XMTok role="PUNCT">,</XMTok><XMApp xml:id="algorithm1.m25.4" fragid="algorithm1.m25.4"><XMTok name="tilde" role="OVERACCENT" stretchy="false">~</XMTok><XMTok role="UNKNOWN" font="italic">M</XMTok></XMApp><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMDual><XMTok meaning="equals" role="RELOP">=</XMTok><XMApp><XMTok name="tilde" role="OVERACCENT" stretchy="false">~</XMTok><XMTok role="UNKNOWN" font="italic">P</XMTok></XMApp><XMTok meaning="element-of" name="in" role="RELOP">∈</XMTok><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="caligraphic">P</XMTok><XMApp><XMTok meaning="equals" role="RELOP">=</XMTok><XMTok role="UNKNOWN" font="italic">C</XMTok><XMTok meaning="empty-set" name="emptyset" role="ID">∅</XMTok></XMApp></XMApp></XMApp></XMath></Math></p>
          <ERROR class="undefined">\State</ERROR>
          <p>Decompose <Math mode="inline" xml:id="algorithm1.m26" tex="\tilde{M}" text="tilde@(M)" fragid="algorithm1.m26"><XMath><XMApp><XMTok name="tilde" role="OVERACCENT" stretchy="false">~</XMTok><XMTok role="UNKNOWN" font="italic">M</XMTok></XMApp></XMath></Math> into a convex combination of deterministic assignment matrices <Math mode="inline" xml:id="algorithm1.m27" tex="\left\{\left(\hat{\lambda}^{l},\hat{M}^{l}\right)\right\}_{l=1}^{L}" text="((set@(open-interval@((hat@(lambda)) ^ l, (hat@(M)) ^ l))) _ (l = 1)) ^ L" fragid="algorithm1.m27"><XMath><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post4"/><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMDual><XMApp><XMTok meaning="set"/><XMRef idref="algorithm1.m27.1"/></XMApp><XMWrap><XMTok role="OPEN">{</XMTok><XMDual xml:id="algorithm1.m27.1" fragid="algorithm1.m27.1"><XMApp><XMTok meaning="open-interval"/><XMRef idref="algorithm1.m27.1.1"/><XMRef idref="algorithm1.m27.1.2"/></XMApp><XMWrap><XMTok role="OPEN">(</XMTok><XMApp xml:id="algorithm1.m27.1.1" fragid="algorithm1.m27.1.1"><XMTok role="SUPERSCRIPTOP" scriptpos="post6"/><XMApp><XMTok name="hat" role="OVERACCENT" stretchy="false">^</XMTok><XMTok name="lambda" role="UNKNOWN" font="italic">λ</XMTok></XMApp><XMTok role="UNKNOWN" font="italic">l</XMTok></XMApp><XMTok role="PUNCT">,</XMTok><XMApp xml:id="algorithm1.m27.1.2" fragid="algorithm1.m27.1.2"><XMTok role="SUPERSCRIPTOP" scriptpos="post6"/><XMApp><XMTok name="hat" role="OVERACCENT" stretchy="false">^</XMTok><XMTok role="UNKNOWN" font="italic">M</XMTok></XMApp><XMTok role="UNKNOWN" font="italic">l</XMTok></XMApp><XMTok role="CLOSE">)</XMTok></XMWrap></XMDual><XMTok role="CLOSE">}</XMTok></XMWrap></XMDual><XMApp><XMTok meaning="equals" role="RELOP">=</XMTok><XMTok role="UNKNOWN" font="italic">l</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp></XMApp><XMTok role="UNKNOWN" font="italic">L</XMTok></XMApp></XMath></Math> (with respect to <Math mode="inline" xml:id="algorithm1.m28" tex="\tilde{P}" text="tilde@(P)" fragid="algorithm1.m28"><XMath><XMApp><XMTok name="tilde" role="OVERACCENT" stretchy="false">~</XMTok><XMTok role="UNKNOWN" font="italic">P</XMTok></XMApp></XMath></Math>)</p>
          <ERROR class="undefined">\For</ERROR>
          <p><Math mode="inline" xml:id="algorithm1.m29" tex="l=1" text="l = 1" fragid="algorithm1.m29"><XMath><XMApp><XMTok meaning="equals" role="RELOP">=</XMTok><XMTok role="UNKNOWN" font="italic">l</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp></XMath></Math> to <Math mode="inline" xml:id="algorithm1.m30" tex="L" text="L" fragid="algorithm1.m30"><XMath><XMTok role="UNKNOWN" font="italic">L</XMTok></XMath></Math>
<ERROR class="undefined">\State</ERROR>Stitch <Math mode="inline" xml:id="algorithm1.m31" tex="M^{k}" text="M ^ k" fragid="algorithm1.m31"><XMath><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">M</XMTok><XMTok role="UNKNOWN" font="italic">k</XMTok></XMApp></XMath></Math> and <Math mode="inline" xml:id="algorithm1.m32" tex="\hat{M}^{l}" text="(hat@(M)) ^ l" fragid="algorithm1.m32"><XMath><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post4"/><XMApp><XMTok name="hat" role="OVERACCENT" stretchy="false">^</XMTok><XMTok role="UNKNOWN" font="italic">M</XMTok></XMApp><XMTok role="UNKNOWN" font="italic">l</XMTok></XMApp></XMath></Math> into a valid deterministic assignment matrix <Math mode="inline" xml:id="algorithm1.m33" tex="M^{k,l}" text="M ^ (list@(k, l))" fragid="algorithm1.m33"><XMath><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">M</XMTok><XMDual><XMApp><XMTok meaning="list"/><XMRef idref="algorithm1.m33.1"/><XMRef idref="algorithm1.m33.2"/></XMApp><XMWrap><XMTok role="UNKNOWN" xml:id="algorithm1.m33.1" font="italic" fragid="algorithm1.m33.1">k</XMTok><XMTok role="PUNCT">,</XMTok><XMTok role="UNKNOWN" xml:id="algorithm1.m33.2" font="italic" fragid="algorithm1.m33.2">l</XMTok></XMWrap></XMDual></XMApp></XMath></Math> for <Math mode="inline" xml:id="algorithm1.m34" tex="P" text="P" fragid="algorithm1.m34"><XMath><XMTok role="UNKNOWN" font="italic">P</XMTok></XMath></Math>. Couples get the hospitals they are assigned under <Math mode="inline" xml:id="algorithm1.m35" tex="M^{k}" text="M ^ k" fragid="algorithm1.m35"><XMath><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">M</XMTok><XMTok role="UNKNOWN" font="italic">k</XMTok></XMApp></XMath></Math>, singles not assigned to <Math mode="inline" xml:id="algorithm1.m36" tex="h_{\emptyset}" text="h _ empty-set" fragid="algorithm1.m36"><XMath><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">h</XMTok><XMTok meaning="empty-set" name="emptyset" role="ID">∅</XMTok></XMApp></XMath></Math> get the hospitals they are assigned under <Math mode="inline" xml:id="algorithm1.m37" tex="\hat{M}^{l}" text="(hat@(M)) ^ l" fragid="algorithm1.m37"><XMath><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post4"/><XMApp><XMTok name="hat" role="OVERACCENT" stretchy="false">^</XMTok><XMTok role="UNKNOWN" font="italic">M</XMTok></XMApp><XMTok role="UNKNOWN" font="italic">l</XMTok></XMApp></XMath></Math>, and singles assigned to <Math mode="inline" xml:id="algorithm1.m38" tex="h_{\emptyset}" text="h _ empty-set" fragid="algorithm1.m38"><XMath><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">h</XMTok><XMTok meaning="empty-set" name="emptyset" role="ID">∅</XMTok></XMApp></XMath></Math> get the rest of the vacant positions (arbitrarily)
<ERROR class="undefined">\State</ERROR>Add <Math mode="inline" xml:id="algorithm1.m39" tex="\left(\lambda^{k}\cdot\hat{\lambda}^{l},M^{k,l}\right)" text="open-interval@(lambda ^ k cdot (hat@(lambda)) ^ l, M ^ (list@(k, l)))" fragid="algorithm1.m39"><XMath><XMDual><XMApp><XMTok meaning="open-interval"/><XMRef idref="algorithm1.m39.3"/><XMRef idref="algorithm1.m39.4"/></XMApp><XMWrap><XMTok role="OPEN">(</XMTok><XMApp xml:id="algorithm1.m39.3" fragid="algorithm1.m39.3"><XMTok name="cdot" role="MULOP">⋅</XMTok><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post5"/><XMTok name="lambda" role="UNKNOWN" font="italic">λ</XMTok><XMTok role="UNKNOWN" font="italic">k</XMTok></XMApp><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post5"/><XMApp><XMTok name="hat" role="OVERACCENT" stretchy="false">^</XMTok><XMTok name="lambda" role="UNKNOWN" font="italic">λ</XMTok></XMApp><XMTok role="UNKNOWN" font="italic">l</XMTok></XMApp></XMApp><XMTok role="PUNCT">,</XMTok><XMApp xml:id="algorithm1.m39.4" fragid="algorithm1.m39.4"><XMTok role="SUPERSCRIPTOP" scriptpos="post5"/><XMTok role="UNKNOWN" font="italic">M</XMTok><XMDual><XMApp><XMTok meaning="list"/><XMRef idref="algorithm1.m39.1"/><XMRef idref="algorithm1.m39.2"/></XMApp><XMWrap><XMTok role="UNKNOWN" xml:id="algorithm1.m39.1" font="italic" fragid="algorithm1.m39.1">k</XMTok><XMTok role="PUNCT">,</XMTok><XMTok role="UNKNOWN" xml:id="algorithm1.m39.2" font="italic" fragid="algorithm1.m39.2">l</XMTok></XMWrap></XMDual></XMApp><XMTok role="CLOSE">)</XMTok></XMWrap></XMDual></XMath></Math> to <Math mode="inline" xml:id="algorithm1.m40" tex="\psi" text="psi" fragid="algorithm1.m40"><XMath><XMTok name="psi" role="UNKNOWN" font="italic">ψ</XMTok></XMath></Math>
<ERROR class="undefined">\EndFor</ERROR><ERROR class="undefined">\EndFor</ERROR><ERROR class="undefined">\State</ERROR>Output <Math mode="inline" xml:id="algorithm1.m41" tex="\psi" text="psi" fragid="algorithm1.m41"><XMath><XMTok name="psi" role="UNKNOWN" font="italic">ψ</XMTok></XMath></Math></p>
        </float>
        <theorem class="ltx_theorem_theorem" frefnum="Theorem 3" refnum="3" xml:id="Thmtheorem3" labels="LABEL:th:approximationAlgorithm" fragid="Thmtheorem3">
          <title class="ltx_runin" font="bold"><tag>Theorem 3</tag>.</title>
          <!-- %**** MasterThesis.tex Line 550 **** -->
          <para xml:id="Thmtheorem3.p1" fragid="Thmtheorem3.p1">
            <p>
              <text font="italic">Algorithm <ref labelref="LABEL:alg:approximation" href="#algorithm1" title="5.5.2 Suggested algorithm for upper bound ‣ 5.5 Approximation ‣ 5 Couples in the assignment problem"><text class="ltx_ref_tag">5.5.2</text></ref> provides an <Math mode="inline" xml:id="Thmtheorem3.p1.m1" tex="\bar{f}" text="bar@(f)" fragid="Thmtheorem3.p1.m1"><XMath><XMApp><XMTok name="bar" role="OVERACCENT" stretchy="false" font="upright">¯</XMTok><XMTok role="UNKNOWN">f</XMTok></XMApp></XMath></Math>-approximation on <Math mode="inline" xml:id="Thmtheorem3.p1.m2" tex="\mathcal{P}^{S\geq C}" text="P ^ (S &gt;= C)" fragid="Thmtheorem3.p1.m2"><XMath><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post3"/><XMTok role="UNKNOWN" font="caligraphic upright">P</XMTok><XMApp><XMTok meaning="greater-than-or-equals" name="geq" role="RELOP" font="upright">≥</XMTok><XMTok role="UNKNOWN">S</XMTok><XMTok role="UNKNOWN">C</XMTok></XMApp></XMApp></XMath></Math>, where <Math mode="inline" xml:id="Thmtheorem3.p1.m3" tex="\bar{f}(P)=2/\underline{q}" text="bar@(f) * P = 2 / underline@(q)" fragid="Thmtheorem3.p1.m3"><XMath><XMApp><XMTok meaning="equals" role="RELOP" font="upright">=</XMTok><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMApp><XMTok name="bar" role="OVERACCENT" stretchy="false" font="upright">¯</XMTok><XMTok role="UNKNOWN">f</XMTok></XMApp><XMDual><XMRef idref="Thmtheorem3.p1.m3.1"/><XMWrap><XMTok role="OPEN" stretchy="false" font="upright">(</XMTok><XMTok role="UNKNOWN" xml:id="Thmtheorem3.p1.m3.1" fragid="Thmtheorem3.p1.m3.1">P</XMTok><XMTok role="CLOSE" stretchy="false" font="upright">)</XMTok></XMWrap></XMDual></XMApp><XMApp><XMTok mathstyle="inline" meaning="divide" role="MULOP" font="upright">/</XMTok><XMTok meaning="2" role="NUMBER" font="upright">2</XMTok><XMApp><XMTok name="underline" role="UNDERACCENT" font="upright">¯</XMTok><XMTok role="UNKNOWN">q</XMTok></XMApp></XMApp></XMApp></XMath></Math>.</text>
            </p>
          </para>
        </theorem>
        <theorem class="ltx_theorem_lemma" frefnum="Lemma 4" refnum="4" xml:id="Thmtheorem4" labels="LABEL:le:polynomialTime" fragid="Thmtheorem4">
          <title class="ltx_runin" font="bold"><tag>Lemma 4</tag>.</title>
          <para xml:id="Thmtheorem4.p1" fragid="Thmtheorem4.p1">
            <p>
              <text font="italic">Algorithm <ref labelref="LABEL:alg:approximation" href="#algorithm1" title="5.5.2 Suggested algorithm for upper bound ‣ 5.5 Approximation ‣ 5 Couples in the assignment problem"><text class="ltx_ref_tag">5.5.2</text></ref> runs in polynomial time.</text>
            </p>
          </para>
        </theorem>
        <proof>
          <title class="ltx_runin" font="italic">Proof.</title>
          <para xml:id="S5.SS5.SSS2.p5" fragid="S5.SS5.SSS2.p5">
            <p>The size of the convex combination <Math mode="inline" xml:id="S5.SS5.SSS2.p5.m1" tex="\left\{\left(\lambda^{k},M^{k}\right)\right\}_{k=1}^{K}" text="((set@(open-interval@(lambda ^ k, M ^ k))) _ (k = 1)) ^ K" fragid="S5.SS5.SSS2.p5.m1"><XMath><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post3"/><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post3"/><XMDual><XMApp><XMTok meaning="set"/><XMRef idref="S5.SS5.SSS2.p5.m1.1"/></XMApp><XMWrap><XMTok role="OPEN">{</XMTok><XMDual xml:id="S5.SS5.SSS2.p5.m1.1" fragid="S5.SS5.SSS2.p5.m1.1"><XMApp><XMTok meaning="open-interval"/><XMRef idref="S5.SS5.SSS2.p5.m1.1.1"/><XMRef idref="S5.SS5.SSS2.p5.m1.1.2"/></XMApp><XMWrap><XMTok role="OPEN">(</XMTok><XMApp xml:id="S5.SS5.SSS2.p5.m1.1.1" fragid="S5.SS5.SSS2.p5.m1.1.1"><XMTok role="SUPERSCRIPTOP" scriptpos="post5"/><XMTok name="lambda" role="UNKNOWN" font="italic">λ</XMTok><XMTok role="UNKNOWN" font="italic">k</XMTok></XMApp><XMTok role="PUNCT">,</XMTok><XMApp xml:id="S5.SS5.SSS2.p5.m1.1.2" fragid="S5.SS5.SSS2.p5.m1.1.2"><XMTok role="SUPERSCRIPTOP" scriptpos="post5"/><XMTok role="UNKNOWN" font="italic">M</XMTok><XMTok role="UNKNOWN" font="italic">k</XMTok></XMApp><XMTok role="CLOSE">)</XMTok></XMWrap></XMDual><XMTok role="CLOSE">}</XMTok></XMWrap></XMDual><XMApp><XMTok meaning="equals" role="RELOP">=</XMTok><XMTok role="UNKNOWN" font="italic">k</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp></XMApp><XMTok role="UNKNOWN" font="italic">K</XMTok></XMApp></XMath></Math> related to the couples is polynomial, also we use Birkhoff’s proof which provides a constructive algorithm for the implementation of the decomposition <cite class="ltx_citemacro_cite">[<ref class="ltx_missing_citation" idref="pml1986" title="pml1986">pml1986</ref>]</cite> in polynomial time, so the whole algorithm is polynomial.
∎</p>
          </para>
        </proof>
        <proof>
          <title class="ltx_runin" font="italic">Proof of Theorem <ref labelref="LABEL:th:approximationAlgorithm" href="#Thmtheorem3" title="Theorem 3. ‣ 5.5.2 Suggested algorithm for upper bound ‣ 5.5 Approximation ‣ 5 Couples in the assignment problem"><text class="ltx_ref_tag">3</text></ref>.</title>
          <para xml:id="S5.SS5.SSS2.p6" fragid="S5.SS5.SSS2.p6">
            <p>In the first part of the algorithm (lines <Math mode="inline" xml:id="S5.SS5.SSS2.p6.m1" tex="1" text="1" fragid="S5.SS5.SSS2.p6.m1"><XMath><XMTok meaning="1" role="NUMBER">1</XMTok></XMath></Math> through <Math mode="inline" xml:id="S5.SS5.SSS2.p6.m2" tex="10" text="10" fragid="S5.SS5.SSS2.p6.m2"><XMath><XMTok meaning="10" role="NUMBER">10</XMTok></XMath></Math>) the couples are allocated exactly their demanded capacity. This is done by taking only the couples, treating them as single agents, enlarging the capacities related to the couples so that they would be an integer, and add a dummy hospital to take all the left-over probabilities of the dummy agents. Then it is possible to use the Birkhoff-von Neumann decomposition.</p>
          </para>
          <para xml:id="S5.SS5.SSS2.p7" fragid="S5.SS5.SSS2.p7">
            <p>We note that since each hospital has only one related dummy agent, then the capacity taken by the couples is always either the full (rounded up) capacity of the hospital according to <Math mode="inline" xml:id="S5.SS5.SSS2.p7.m1" tex="M^{\prime}" text="M ^ prime" fragid="S5.SS5.SSS2.p7.m1"><XMath><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post3"/><XMTok role="UNKNOWN" font="italic">M</XMTok><XMTok name="prime" role="SUPOP">′</XMTok></XMApp></XMath></Math>, or one less than that. If it is the first case, the singles can be allocated their entire demand for this hospital in the next step. However, if the couples exceeded their fractional capacity, we “fix” the demand of the single interns, and each intern <Math mode="inline" xml:id="S5.SS5.SSS2.p7.m2" tex="i" text="i" fragid="S5.SS5.SSS2.p7.m2"><XMath><XMTok role="UNKNOWN" font="italic">i</XMTok></XMath></Math> loses <Math mode="inline" xml:id="S5.SS5.SSS2.p7.m3" tex="2\left(\lceil q^{\prime}_{h}\rceil-q^{\prime}_{h}\right)" text="2 * (ceiling@((q ^ prime) _ h) - (q ^ prime) _ h)" fragid="S5.SS5.SSS2.p7.m3"><XMath><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok><XMDual><XMRef idref="S5.SS5.SSS2.p7.m3.1"/><XMWrap><XMTok role="OPEN">(</XMTok><XMApp xml:id="S5.SS5.SSS2.p7.m3.1" fragid="S5.SS5.SSS2.p7.m3.1"><XMTok meaning="minus" role="ADDOP">-</XMTok><XMDual><XMApp><XMTok meaning="ceiling"/><XMRef idref="S5.SS5.SSS2.p7.m3.1.1"/></XMApp><XMWrap><XMTok name="lceil" role="OPEN" stretchy="false">⌈</XMTok><XMApp xml:id="S5.SS5.SSS2.p7.m3.1.1" fragid="S5.SS5.SSS2.p7.m3.1.1"><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">q</XMTok><XMTok name="prime" role="SUPOP">′</XMTok></XMApp><XMTok role="UNKNOWN" font="italic">h</XMTok></XMApp><XMTok name="rceil" role="CLOSE" stretchy="false">⌉</XMTok></XMWrap></XMDual><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">q</XMTok><XMTok name="prime" role="SUPOP">′</XMTok></XMApp><XMTok role="UNKNOWN" font="italic">h</XMTok></XMApp></XMApp><XMTok role="CLOSE">)</XMTok></XMWrap></XMDual></XMApp></XMath></Math> times his weight in the sum of probabilities of singles, where <Math mode="inline" xml:id="S5.SS5.SSS2.p7.m4" tex="q^{\prime}_{h}=\sum_{c\in C}M_{c_{1},h}" text="(q ^ prime) _ h = (sum _ (c element-of C))@(M _ (list@(c _ 1, h)))" fragid="S5.SS5.SSS2.p7.m4"><XMath><XMApp><XMTok meaning="equals" role="RELOP">=</XMTok><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post3"/><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post3"/><XMTok role="UNKNOWN" font="italic">q</XMTok><XMTok name="prime" role="SUPOP">′</XMTok></XMApp><XMTok role="UNKNOWN" font="italic">h</XMTok></XMApp><XMApp><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post3"/><XMTok mathstyle="text" meaning="sum" role="SUMOP" scriptpos="post">∑</XMTok><XMApp><XMTok meaning="element-of" name="in" role="RELOP">∈</XMTok><XMTok role="UNKNOWN" font="italic">c</XMTok><XMTok role="UNKNOWN" font="italic">C</XMTok></XMApp></XMApp><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post3"/><XMTok role="UNKNOWN" font="italic">M</XMTok><XMDual><XMApp><XMTok meaning="list"/><XMRef idref="S5.SS5.SSS2.p7.m4.2"/><XMRef idref="S5.SS5.SSS2.p7.m4.1"/></XMApp><XMWrap><XMApp xml:id="S5.SS5.SSS2.p7.m4.2" fragid="S5.SS5.SSS2.p7.m4.2"><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">c</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp><XMTok role="PUNCT">,</XMTok><XMTok role="UNKNOWN" xml:id="S5.SS5.SSS2.p7.m4.1" font="italic" fragid="S5.SS5.SSS2.p7.m4.1">h</XMTok></XMWrap></XMDual></XMApp></XMApp></XMApp></XMath></Math>.</p>
          </para>
          <para xml:id="S5.SS5.SSS2.p8" fragid="S5.SS5.SSS2.p8">
            <p>Let <Math mode="inline" xml:id="S5.SS5.SSS2.p8.m1" tex="y_{h}" text="y _ h" fragid="S5.SS5.SSS2.p8.m1"><XMath><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post3"/><XMTok role="UNKNOWN" font="italic">y</XMTok><XMTok role="UNKNOWN" font="italic">h</XMTok></XMApp></XMath></Math> be the total weight given the matrices of the second kind (for a certain hospital <Math mode="inline" xml:id="S5.SS5.SSS2.p8.m2" tex="h" text="h" fragid="S5.SS5.SSS2.p8.m2"><XMath><XMTok role="UNKNOWN" font="italic">h</XMTok></XMath></Math>). Then the following holds:</p>
            <equation frefnum="(2)" refnum="2" xml:id="S5.E2" labels="LABEL:eq:secondCaseChance" fragid="S5.E2">
              <Math mode="display" xml:id="S5.E2.m1" tex="(1-y)\cdot\lfloor q^{\prime}\rfloor+y\cdot\lceil q^{\prime}_{h}\rceil=q^{%&#10;\prime}_{h}" text="(1 - y) cdot floor@(q ^ prime) + y cdot ceiling@((q ^ prime) _ h) = (q ^ prime) _ h" fragid="S5.E2.m1">
                <XMath>
                  <XMApp>
                    <XMTok meaning="equals" role="RELOP">=</XMTok>
                    <XMApp>
                      <XMTok meaning="plus" role="ADDOP">+</XMTok>
                      <XMApp>
                        <XMTok name="cdot" role="MULOP">⋅</XMTok>
                        <XMDual>
                          <XMRef idref="S5.E2.m1.1"/>
                          <XMWrap>
                            <XMTok role="OPEN" stretchy="false">(</XMTok>
                            <XMApp xml:id="S5.E2.m1.1" fragid="S5.E2.m1.1">
                              <XMTok meaning="minus" role="ADDOP">-</XMTok>
                              <XMTok meaning="1" role="NUMBER">1</XMTok>
                              <XMTok role="UNKNOWN" font="italic">y</XMTok>
                            </XMApp>
                            <XMTok role="CLOSE" stretchy="false">)</XMTok>
                          </XMWrap>
                        </XMDual>
                        <XMDual>
                          <XMApp>
                            <XMTok meaning="floor"/>
                            <XMRef idref="S5.E2.m1.2"/>
                          </XMApp>
                          <XMWrap>
                            <XMTok name="lfloor" role="OPEN" stretchy="false">⌊</XMTok>
                            <XMApp xml:id="S5.E2.m1.2" fragid="S5.E2.m1.2">
                              <XMTok role="SUPERSCRIPTOP" scriptpos="post3"/>
                              <XMTok role="UNKNOWN" font="italic">q</XMTok>
                              <XMTok name="prime" role="SUPOP">′</XMTok>
                            </XMApp>
                            <XMTok name="rfloor" role="CLOSE" stretchy="false">⌋</XMTok>
                          </XMWrap>
                        </XMDual>
                      </XMApp>
                      <XMApp>
                        <XMTok name="cdot" role="MULOP">⋅</XMTok>
                        <XMTok role="UNKNOWN" font="italic">y</XMTok>
                        <XMDual>
                          <XMApp>
                            <XMTok meaning="ceiling"/>
                            <XMRef idref="S5.E2.m1.3"/>
                          </XMApp>
                          <XMWrap>
                            <XMTok name="lceil" role="OPEN" stretchy="false">⌈</XMTok>
                            <XMApp xml:id="S5.E2.m1.3" fragid="S5.E2.m1.3">
                              <XMTok role="SUBSCRIPTOP" scriptpos="post3"/>
                              <XMApp>
                                <XMTok role="SUPERSCRIPTOP" scriptpos="post3"/>
                                <XMTok role="UNKNOWN" font="italic">q</XMTok>
                                <XMTok name="prime" role="SUPOP">′</XMTok>
                              </XMApp>
                              <XMTok role="UNKNOWN" font="italic">h</XMTok>
                            </XMApp>
                            <XMTok name="rceil" role="CLOSE" stretchy="false">⌉</XMTok>
                          </XMWrap>
                        </XMDual>
                      </XMApp>
                    </XMApp>
                    <XMApp>
                      <XMTok role="SUBSCRIPTOP" scriptpos="post3"/>
                      <XMApp>
                        <XMTok role="SUPERSCRIPTOP" scriptpos="post3"/>
                        <XMTok role="UNKNOWN" font="italic">q</XMTok>
                        <XMTok name="prime" role="SUPOP">′</XMTok>
                      </XMApp>
                      <XMTok role="UNKNOWN" font="italic">h</XMTok>
                    </XMApp>
                  </XMApp>
                </XMath>
              </Math>
            </equation>
            <p>If we denote by <Math mode="inline" xml:id="S5.SS5.SSS2.p8.m3" tex="x_{h}=q^{\prime}_{h}-\lfloor q^{\prime}_{h}\rfloor" text="x _ h = (q ^ prime) _ h - floor@((q ^ prime) _ h)" fragid="S5.SS5.SSS2.p8.m3"><XMath><XMApp><XMTok meaning="equals" role="RELOP">=</XMTok><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post3"/><XMTok role="UNKNOWN" font="italic">x</XMTok><XMTok role="UNKNOWN" font="italic">h</XMTok></XMApp><XMApp><XMTok meaning="minus" role="ADDOP">-</XMTok><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post3"/><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post3"/><XMTok role="UNKNOWN" font="italic">q</XMTok><XMTok name="prime" role="SUPOP">′</XMTok></XMApp><XMTok role="UNKNOWN" font="italic">h</XMTok></XMApp><XMDual><XMApp><XMTok meaning="floor"/><XMRef idref="S5.SS5.SSS2.p8.m3.1"/></XMApp><XMWrap><XMTok name="lfloor" role="OPEN" stretchy="false">⌊</XMTok><XMApp xml:id="S5.SS5.SSS2.p8.m3.1" fragid="S5.SS5.SSS2.p8.m3.1"><XMTok role="SUBSCRIPTOP" scriptpos="post3"/><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post3"/><XMTok role="UNKNOWN" font="italic">q</XMTok><XMTok name="prime" role="SUPOP">′</XMTok></XMApp><XMTok role="UNKNOWN" font="italic">h</XMTok></XMApp><XMTok name="rfloor" role="CLOSE" stretchy="false">⌋</XMTok></XMWrap></XMDual></XMApp></XMApp></XMath></Math> the fractional part of the couples’ total probability we get <Math mode="inline" xml:id="S5.SS5.SSS2.p8.m4" tex="y_{h}=x_{h}/2" text="y _ h = x _ h / 2" fragid="S5.SS5.SSS2.p8.m4"><XMath><XMApp><XMTok meaning="equals" role="RELOP">=</XMTok><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post3"/><XMTok role="UNKNOWN" font="italic">y</XMTok><XMTok role="UNKNOWN" font="italic">h</XMTok></XMApp><XMApp><XMTok mathstyle="inline" meaning="divide" role="MULOP">/</XMTok><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post3"/><XMTok role="UNKNOWN" font="italic">x</XMTok><XMTok role="UNKNOWN" font="italic">h</XMTok></XMApp><XMTok meaning="2" role="NUMBER">2</XMTok></XMApp></XMApp></XMath></Math>. Now each time the second case materializes, the singles lose <Math mode="inline" xml:id="S5.SS5.SSS2.p8.m5" tex="2-x_{h}" text="2 - x _ h" fragid="S5.SS5.SSS2.p8.m5"><XMath><XMApp><XMTok meaning="minus" role="ADDOP">-</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post3"/><XMTok role="UNKNOWN" font="italic">x</XMTok><XMTok role="UNKNOWN" font="italic">h</XMTok></XMApp></XMApp></XMath></Math>. The total loss is given by <Math mode="inline" xml:id="S5.SS5.SSS2.p8.m6" tex="(2-x_{h})\cdot\frac{x_{h}}{2}" text="(2 - x _ h) cdot (x _ h / 2)" fragid="S5.SS5.SSS2.p8.m6"><XMath><XMApp><XMTok name="cdot" role="MULOP">⋅</XMTok><XMDual><XMRef idref="S5.SS5.SSS2.p8.m6.1"/><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMApp xml:id="S5.SS5.SSS2.p8.m6.1" fragid="S5.SS5.SSS2.p8.m6.1"><XMTok meaning="minus" role="ADDOP">-</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post3"/><XMTok role="UNKNOWN" font="italic">x</XMTok><XMTok role="UNKNOWN" font="italic">h</XMTok></XMApp></XMApp><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMDual><XMApp><XMTok mathstyle="text" meaning="divide" role="MULOP"/><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">x</XMTok><XMTok role="UNKNOWN" font="italic">h</XMTok></XMApp><XMTok meaning="2" role="NUMBER">2</XMTok></XMApp></XMApp></XMath></Math>, which is maximized at <Math mode="inline" xml:id="S5.SS5.SSS2.p8.m7" tex="x_{h}=1" text="x _ h = 1" fragid="S5.SS5.SSS2.p8.m7"><XMath><XMApp><XMTok meaning="equals" role="RELOP">=</XMTok><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post3"/><XMTok role="UNKNOWN" font="italic">x</XMTok><XMTok role="UNKNOWN" font="italic">h</XMTok></XMApp><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp></XMath></Math>. Since we assumed that each hospital contains more singles interns than interns who are part of a couple, each single <Math mode="inline" xml:id="S5.SS5.SSS2.p8.m8" tex="s" text="s" fragid="S5.SS5.SSS2.p8.m8"><XMath><XMTok role="UNKNOWN" font="italic">s</XMTok></XMath></Math> losses at most <Math mode="inline" xml:id="S5.SS5.SSS2.p8.m9" tex="M_{s,h}\cdot\frac{1}{2}/\frac{q_{h}}{2}=M_{s,h}/q_{h}" text="(M _ (list@(s, h)) cdot (1 / 2)) / q _ h / 2 = M _ (list@(s, h)) / q _ h" fragid="S5.SS5.SSS2.p8.m9"><XMath><XMApp><XMTok meaning="equals" role="RELOP">=</XMTok><XMApp><XMTok mathstyle="inline" meaning="divide" role="MULOP">/</XMTok><XMApp><XMTok name="cdot" role="MULOP">⋅</XMTok><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post3"/><XMTok role="UNKNOWN" font="italic">M</XMTok><XMDual><XMApp><XMTok meaning="list"/><XMRef idref="S5.SS5.SSS2.p8.m9.1"/><XMRef idref="S5.SS5.SSS2.p8.m9.2"/></XMApp><XMWrap><XMTok role="UNKNOWN" xml:id="S5.SS5.SSS2.p8.m9.1" font="italic" fragid="S5.SS5.SSS2.p8.m9.1">s</XMTok><XMTok role="PUNCT">,</XMTok><XMTok role="UNKNOWN" xml:id="S5.SS5.SSS2.p8.m9.2" font="italic" fragid="S5.SS5.SSS2.p8.m9.2">h</XMTok></XMWrap></XMDual></XMApp><XMApp><XMTok mathstyle="text" meaning="divide" role="MULOP"/><XMTok meaning="1" role="NUMBER">1</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok></XMApp></XMApp><XMApp><XMTok mathstyle="text" meaning="divide" role="MULOP"/><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">q</XMTok><XMTok role="UNKNOWN" font="italic">h</XMTok></XMApp><XMTok meaning="2" role="NUMBER">2</XMTok></XMApp></XMApp><XMApp><XMTok mathstyle="inline" meaning="divide" role="MULOP">/</XMTok><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post3"/><XMTok role="UNKNOWN" font="italic">M</XMTok><XMDual><XMApp><XMTok meaning="list"/><XMRef idref="S5.SS5.SSS2.p8.m9.3"/><XMRef idref="S5.SS5.SSS2.p8.m9.4"/></XMApp><XMWrap><XMTok role="UNKNOWN" xml:id="S5.SS5.SSS2.p8.m9.3" font="italic" fragid="S5.SS5.SSS2.p8.m9.3">s</XMTok><XMTok role="PUNCT">,</XMTok><XMTok role="UNKNOWN" xml:id="S5.SS5.SSS2.p8.m9.4" font="italic" fragid="S5.SS5.SSS2.p8.m9.4">h</XMTok></XMWrap></XMDual></XMApp><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post3"/><XMTok role="UNKNOWN" font="italic">q</XMTok><XMTok role="UNKNOWN" font="italic">h</XMTok></XMApp></XMApp></XMApp></XMath></Math>.</p>
          </para>
          <para xml:id="S5.SS5.SSS2.p9" fragid="S5.SS5.SSS2.p9">
            <p>Across all hospitals, each single intern <Math mode="inline" xml:id="S5.SS5.SSS2.p9.m1" tex="s" text="s" fragid="S5.SS5.SSS2.p9.m1"><XMath><XMTok role="UNKNOWN" font="italic">s</XMTok></XMath></Math> losses at this point at most <Math mode="inline" xml:id="S5.SS5.SSS2.p9.m2" tex="\sum_{h\in H}M_{s,h}/q_{h}\leq(\sum_{h\in H}M_{s,h})/\underline{q}=1/%&#10;\underline{q}" text="(sum _ (h element-of H))@(M _ (list@(s, h)) / q _ h) less= (sum _ (h element-of H))@(M _ (list@(s, h))) / underline@(q) = 1 / underline@(q)" fragid="S5.SS5.SSS2.p9.m2"><XMath><XMApp><XMTok meaning="multirelation"/><XMApp><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post3"/><XMTok mathstyle="text" meaning="sum" role="SUMOP" scriptpos="post">∑</XMTok><XMApp><XMTok meaning="element-of" name="in" role="RELOP">∈</XMTok><XMTok role="UNKNOWN" font="italic">h</XMTok><XMTok role="UNKNOWN" font="italic">H</XMTok></XMApp></XMApp><XMApp><XMTok mathstyle="inline" meaning="divide" role="MULOP">/</XMTok><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post3"/><XMTok role="UNKNOWN" font="italic">M</XMTok><XMDual><XMApp><XMTok meaning="list"/><XMRef idref="S5.SS5.SSS2.p9.m2.1"/><XMRef idref="S5.SS5.SSS2.p9.m2.2"/></XMApp><XMWrap><XMTok role="UNKNOWN" xml:id="S5.SS5.SSS2.p9.m2.1" font="italic" fragid="S5.SS5.SSS2.p9.m2.1">s</XMTok><XMTok role="PUNCT">,</XMTok><XMTok role="UNKNOWN" xml:id="S5.SS5.SSS2.p9.m2.2" font="italic" fragid="S5.SS5.SSS2.p9.m2.2">h</XMTok></XMWrap></XMDual></XMApp><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post3"/><XMTok role="UNKNOWN" font="italic">q</XMTok><XMTok role="UNKNOWN" font="italic">h</XMTok></XMApp></XMApp></XMApp><XMTok meaning="less-than-or-equals" name="leq" role="RELOP">≤</XMTok><XMApp><XMTok mathstyle="inline" meaning="divide" role="MULOP">/</XMTok><XMDual><XMRef idref="S5.SS5.SSS2.p9.m2.5"/><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMApp xml:id="S5.SS5.SSS2.p9.m2.5" fragid="S5.SS5.SSS2.p9.m2.5"><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post3"/><XMTok mathstyle="text" meaning="sum" role="SUMOP" scriptpos="post">∑</XMTok><XMApp><XMTok meaning="element-of" name="in" role="RELOP">∈</XMTok><XMTok role="UNKNOWN" font="italic">h</XMTok><XMTok role="UNKNOWN" font="italic">H</XMTok></XMApp></XMApp><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post3"/><XMTok role="UNKNOWN" font="italic">M</XMTok><XMDual><XMApp><XMTok meaning="list"/><XMRef idref="S5.SS5.SSS2.p9.m2.3"/><XMRef idref="S5.SS5.SSS2.p9.m2.4"/></XMApp><XMWrap><XMTok role="UNKNOWN" xml:id="S5.SS5.SSS2.p9.m2.3" font="italic" fragid="S5.SS5.SSS2.p9.m2.3">s</XMTok><XMTok role="PUNCT">,</XMTok><XMTok role="UNKNOWN" xml:id="S5.SS5.SSS2.p9.m2.4" font="italic" fragid="S5.SS5.SSS2.p9.m2.4">h</XMTok></XMWrap></XMDual></XMApp></XMApp><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMDual><XMApp><XMTok name="underline" role="UNDERACCENT">¯</XMTok><XMTok role="UNKNOWN" font="italic">q</XMTok></XMApp></XMApp><XMTok meaning="equals" role="RELOP">=</XMTok><XMApp><XMTok mathstyle="inline" meaning="divide" role="MULOP">/</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok><XMApp><XMTok name="underline" role="UNDERACCENT">¯</XMTok><XMTok role="UNKNOWN" font="italic">q</XMTok></XMApp></XMApp></XMApp></XMath></Math>. However, in the last phase of the algorithm (line 27), singles receive back their “lost probability” in arbitrary hospitals, and so each single can deviate up to <Math mode="inline" xml:id="S5.SS5.SSS2.p9.m3" tex="1/\underline{q}" text="1 / underline@(q)" fragid="S5.SS5.SSS2.p9.m3"><XMath><XMApp><XMTok mathstyle="inline" meaning="divide" role="MULOP">/</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok><XMApp><XMTok name="underline" role="UNDERACCENT">¯</XMTok><XMTok role="UNKNOWN" font="italic">q</XMTok></XMApp></XMApp></XMath></Math> further from her endowment, resulting in a total of at most <Math mode="inline" xml:id="S5.SS5.SSS2.p9.m4" tex="2/\underline{q}" text="2 / underline@(q)" fragid="S5.SS5.SSS2.p9.m4"><XMath><XMApp><XMTok mathstyle="inline" meaning="divide" role="MULOP">/</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok><XMApp><XMTok name="underline" role="UNDERACCENT">¯</XMTok><XMTok role="UNKNOWN" font="italic">q</XMTok></XMApp></XMApp></XMath></Math>.
∎</p>
          </para>
        </proof>
        <!-- %**** MasterThesis.tex Line 575 **** -->
      </subsubsection>
    </subsection>
  </section>
  <section refnum="6" xml:id="S6" labels="LABEL:sec:experimental" fragid="S6">
    <title><tag close=" ">6</tag>Experimental results</title>
    <para xml:id="S6.p1" fragid="S6.p1">
      <p>In this section we characterize the interns’ preferences and provide simulation results using the Israeli Medical Internship Match data provided to us by the Israeli MoH. The data contained the preferences of interns starting from 1995. However, due to significant changes in the hospitals and the internship conditions in them, some of the earlier data cannot be treated as coming from a similar distribution to the more recent data. We therefore focused only on preferences from the years 2010-2014. During those years there were 23 possible hospitals for each intern to rate, and interns <text font="italic">must</text> rank all hospitals. The number of interns varied from one year to another, but it is always around 500, and the number of internship positions is always equal to the number of interns. Preferences of foreign trained doctors are also available to us, but only until the year 2012.</p>
    </para>
    <subsection refnum="6.1" xml:id="S6.SS1" fragid="S6.SS1">
      <title><tag close=" ">6.1</tag>Description of interns’ preferences</title>
      <para xml:id="S6.SS1.p1" fragid="S6.SS1.p1">
        <p>Looking at the interns’ preferences, there are several interesting points to be made. The first is that preferences are geographically driven. For example, ranking the hospitals according to the number of students who listed this hospital as their top priority (this is the ranking published by the MoH), we see that in the top five hospitals there are two hospitals from the center, one from the north, one from the south, and one from the Jerusalem area (these are four of the districts in Israel). However, for any given student, such a geographically dispersed ranking is very unlikely. Indeed, except for Ichilov hospital (a hospital in the center of Israel which represents the top option for most of the population), it is common that all the top choices of a student come from the same geographic area.<note mark="11" role="footnote">It is known that one can always swap Ichilov hospital later for something else. Hence some students pick it first, because they want the flexibility – the lottery is conducted between ten and eighteen months before the internship starts.</note> To measure this effect, Figure <ref labelref="LABEL:fig:k_same_area" href="#S6.F5" title="Figure 5 ‣ 6.1 Description of interns’ preferences ‣ 6 Experimental results"><text class="ltx_ref_tag">5</text></ref> shows the percentage of interns whose top <Math mode="inline" xml:id="S6.SS1.p1.m1" tex="k" text="k" fragid="S6.SS1.p1.m1"><XMath><XMTok role="UNKNOWN" font="italic">k</XMTok></XMath></Math> choices all came from the same area, for <Math mode="inline" xml:id="S6.SS1.p1.m2" tex="k=2" text="k = 2" fragid="S6.SS1.p1.m2"><XMath><XMApp><XMTok meaning="equals" role="RELOP">=</XMTok><XMTok role="UNKNOWN" font="italic">k</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok></XMApp></XMath></Math> to <Math mode="inline" xml:id="S6.SS1.p1.m3" tex="10" text="10" fragid="S6.SS1.p1.m3"><XMath><XMTok meaning="10" role="NUMBER">10</XMTok></XMath></Math> (this graph ignores Ichilov hospital). Note that if choices were random, one would expect an exponential decay, where here we see a linear decay.</p>
      </para>
      <figure frefnum="Figure 5" placement="htp" refnum="5" xml:id="S6.F5" labels="LABEL:fig:k_same_area" fragid="S6.F5">
        <toccaption class="ltx_centering"><tag close=" ">5</tag>The Israeli and foreign doctors’ geographical orientation</toccaption>
        <caption class="ltx_centering"><tag close=": ">Figure 5</tag>Geographical orientation at the top of the list</caption>
        <graphics candidates="geographicallyComparing.eps" graphic="geographicallyComparing.eps" options="scale=0.4" xml:id="S6.F5.g1" class="ltx_centering" fragid="S6.F5.g1" imagesrc="x110.png" imagewidth="480" imageheight="135"/>
      </figure>
      <para xml:id="S6.SS1.p2" fragid="S6.SS1.p2">
        <p>Another interesting point is the differences between the Israeli interns (interns who studied medicine in Israel) and the foreign trained doctors. Foreign trained graduates have even stronger geographic preferences than Israeli ones. This helps explain another difference between these two populations’ preferences: their performance in the old RSD mechanism. Under that mechanism the average rank of hospital that the Israeli interns received was 4.594, whereas the foreign trained doctors (who are matched separately) received an average rank of 2.549. Similarly, under the new mechanism the average rank of Israeli interns was improved to 3.686, and the foreign trained doctors got 2.042. Our hypothesis was that the foreign trained doctors’ preferences therefore exhibit more heterogeneity in some sense.<note mark="12" role="footnote">The common conspiracy theory is that the MoH gives them more seats at the preferable hospitals. We have verified the numbers and the conspiracy theory is incorrect.</note></p>
      </para>
      <para xml:id="S6.SS1.p3" fragid="S6.SS1.p3">
        <p>To verify that foreign trained doctors’ preferences are more heterogeneous, we grouped preferences according to the top three hospitals, sorted by frequency, and plotted the percentage of students who chose the most common triplet, one of the two most common triplets, and so on. For example, if the most common triplet for the foreign trained doctors is <Math mode="inline" xml:id="S6.SS1.p3.m1" tex="A,B,C" text="list@(A, B, C)" fragid="S6.SS1.p3.m1"><XMath><XMDual><XMApp><XMTok meaning="list"/><XMRef idref="S6.SS1.p3.m1.1"/><XMRef idref="S6.SS1.p3.m1.2"/><XMRef idref="S6.SS1.p3.m1.3"/></XMApp><XMWrap><XMTok role="UNKNOWN" xml:id="S6.SS1.p3.m1.1" font="italic" fragid="S6.SS1.p3.m1.1">A</XMTok><XMTok role="PUNCT">,</XMTok><XMTok role="UNKNOWN" xml:id="S6.SS1.p3.m1.2" font="italic" fragid="S6.SS1.p3.m1.2">B</XMTok><XMTok role="PUNCT">,</XMTok><XMTok role="UNKNOWN" xml:id="S6.SS1.p3.m1.3" font="italic" fragid="S6.SS1.p3.m1.3">C</XMTok></XMWrap></XMDual></XMath></Math>, and the second most common is <Math mode="inline" xml:id="S6.SS1.p3.m2" tex="B,C,A" text="list@(B, C, A)" fragid="S6.SS1.p3.m2"><XMath><XMDual><XMApp><XMTok meaning="list"/><XMRef idref="S6.SS1.p3.m2.1"/><XMRef idref="S6.SS1.p3.m2.2"/><XMRef idref="S6.SS1.p3.m2.3"/></XMApp><XMWrap><XMTok role="UNKNOWN" xml:id="S6.SS1.p3.m2.1" font="italic" fragid="S6.SS1.p3.m2.1">B</XMTok><XMTok role="PUNCT">,</XMTok><XMTok role="UNKNOWN" xml:id="S6.SS1.p3.m2.2" font="italic" fragid="S6.SS1.p3.m2.2">C</XMTok><XMTok role="PUNCT">,</XMTok><XMTok role="UNKNOWN" xml:id="S6.SS1.p3.m2.3" font="italic" fragid="S6.SS1.p3.m2.3">A</XMTok></XMWrap></XMDual></XMath></Math>, we are interested in the fraction of students whose top three choices are <Math mode="inline" xml:id="S6.SS1.p3.m3" tex="A,B,C" text="list@(A, B, C)" fragid="S6.SS1.p3.m3"><XMath><XMDual><XMApp><XMTok meaning="list"/><XMRef idref="S6.SS1.p3.m3.1"/><XMRef idref="S6.SS1.p3.m3.2"/><XMRef idref="S6.SS1.p3.m3.3"/></XMApp><XMWrap><XMTok role="UNKNOWN" xml:id="S6.SS1.p3.m3.1" font="italic" fragid="S6.SS1.p3.m3.1">A</XMTok><XMTok role="PUNCT">,</XMTok><XMTok role="UNKNOWN" xml:id="S6.SS1.p3.m3.2" font="italic" fragid="S6.SS1.p3.m3.2">B</XMTok><XMTok role="PUNCT">,</XMTok><XMTok role="UNKNOWN" xml:id="S6.SS1.p3.m3.3" font="italic" fragid="S6.SS1.p3.m3.3">C</XMTok></XMWrap></XMDual></XMath></Math>, and at the fraction of students whose top three choices are either <Math mode="inline" xml:id="S6.SS1.p3.m4" tex="A,B,C" text="list@(A, B, C)" fragid="S6.SS1.p3.m4"><XMath><XMDual><XMApp><XMTok meaning="list"/><XMRef idref="S6.SS1.p3.m4.1"/><XMRef idref="S6.SS1.p3.m4.2"/><XMRef idref="S6.SS1.p3.m4.3"/></XMApp><XMWrap><XMTok role="UNKNOWN" xml:id="S6.SS1.p3.m4.1" font="italic" fragid="S6.SS1.p3.m4.1">A</XMTok><XMTok role="PUNCT">,</XMTok><XMTok role="UNKNOWN" xml:id="S6.SS1.p3.m4.2" font="italic" fragid="S6.SS1.p3.m4.2">B</XMTok><XMTok role="PUNCT">,</XMTok><XMTok role="UNKNOWN" xml:id="S6.SS1.p3.m4.3" font="italic" fragid="S6.SS1.p3.m4.3">C</XMTok></XMWrap></XMDual></XMath></Math> or <Math mode="inline" xml:id="S6.SS1.p3.m5" tex="B,C,A" text="list@(B, C, A)" fragid="S6.SS1.p3.m5"><XMath><XMDual><XMApp><XMTok meaning="list"/><XMRef idref="S6.SS1.p3.m5.1"/><XMRef idref="S6.SS1.p3.m5.2"/><XMRef idref="S6.SS1.p3.m5.3"/></XMApp><XMWrap><XMTok role="UNKNOWN" xml:id="S6.SS1.p3.m5.1" font="italic" fragid="S6.SS1.p3.m5.1">B</XMTok><XMTok role="PUNCT">,</XMTok><XMTok role="UNKNOWN" xml:id="S6.SS1.p3.m5.2" font="italic" fragid="S6.SS1.p3.m5.2">C</XMTok><XMTok role="PUNCT">,</XMTok><XMTok role="UNKNOWN" xml:id="S6.SS1.p3.m5.3" font="italic" fragid="S6.SS1.p3.m5.3">A</XMTok></XMWrap></XMDual></XMath></Math>.
The results are presented in Figure <ref labelref="LABEL:fig:top_triplets" href="#S6.F6" title="Figure 6 ‣ 6.1 Description of interns’ preferences ‣ 6 Experimental results"><text class="ltx_ref_tag">6</text></ref>. The right panel shows that the cumulative distribution of local interns is much higher than the cumulative distribution of the foreign trained doctors. The top ten triplets cover almost 50% of the Israeli interns, but only about 20% of the foreign trained doctors. Amazingly, even the density of each of the top 10 triplets (which are not necessarily the same among the two populations) is higher for the local interns (as depicted by the left panel). This indicates that their preferences are indeed much more homogeneous, at least at the top of the distribution. We note that Figure <ref labelref="LABEL:fig:k_same_area" href="#S6.F5" title="Figure 5 ‣ 6.1 Description of interns’ preferences ‣ 6 Experimental results"><text class="ltx_ref_tag">5</text></ref> suggests that foreign trained doctors do exhibit a higher tendency to group hospitals by area. The only reasonable conclusion is that while foreign trained doctors care a lot about geography, there are less prone to select necessarily the center of Israel as their preferred location, or that they tend to have more heterogeneity in ranking hospitals within each area.</p>
      </para>
      <figure frefnum="Figure 6" placement="htp" refnum="6" xml:id="S6.F6" labels="LABEL:fig:top_triplets" fragid="S6.F6">
        <toccaption class="ltx_centering"><tag close=" ">6</tag>Distribution of top triplets choices</toccaption>
        <caption class="ltx_centering"><tag close=": ">Figure 6</tag>Distribution of top triplets (left panel: density, right panel: cumulative)</caption>
        <!-- %**** MasterThesis.tex Line 600 **** -->
        <graphics candidates="topK.eps" graphic="topK.eps" options="scale=0.4" xml:id="S6.F6.g1" class="ltx_centering" fragid="S6.F6.g1" imagesrc="x111.png" imagewidth="480" imageheight="140"/>
      </figure>
      <para xml:id="S6.SS1.p4" fragid="S6.SS1.p4">
        <p>We also tried to study the differences between the preferences of singles and couples, but did not reach any significant conclusions. Furthermore, while we did not perform a thorough analysis, it is likely to assume that preferences depend also on the medical school in which an intern completed her medical studies, for both personal reasons (already lives in the same city) and professional reasons (knows the hospital better from her time at medical school). This by itself might not have an impact on designing a mechanism, but it may be of interest for understanding better the distribution of preferences and what creates heterogeneity.</p>
      </para>
    </subsection>
    <subsection refnum="6.2" xml:id="S6.SS2" fragid="S6.SS2">
      <title><tag close=" ">6.2</tag>Simulation results for the algorithm</title>
      <para xml:id="S6.SS2.p1" fragid="S6.SS2.p1">
        <p>In the simulations we used a subsampling method, i.e., we drew preference profiles from the union of all data points, where we distinguish between preferences that were submitted by single interns and preferences that were submitted by couples. This allowed us to create multiple “possible markets”, each with <Math mode="inline" xml:id="S6.SS2.p1.m1" tex="|I|=496" text="absolute-value@(I) = 496" fragid="S6.SS2.p1.m1"><XMath><XMApp><XMTok meaning="equals" role="RELOP">=</XMTok><XMDual><XMApp><XMTok meaning="absolute-value"/><XMRef idref="S6.SS2.p1.m1.1"/></XMApp><XMWrap><XMTok role="VERTBAR" stretchy="false">|</XMTok><XMTok role="UNKNOWN" xml:id="S6.SS2.p1.m1.1" font="italic" fragid="S6.SS2.p1.m1.1">I</XMTok><XMTok role="VERTBAR" stretchy="false">|</XMTok></XMWrap></XMDual><XMTok meaning="496" role="NUMBER">496</XMTok></XMApp></XMath></Math> (which was the actual number of interns in 2014) and with <Math mode="inline" xml:id="S6.SS2.p1.m2" tex="24" text="24" fragid="S6.SS2.p1.m2"><XMath><XMTok meaning="24" role="NUMBER">24</XMTok></XMath></Math> couples. For each point in the figure we used 5,000 different market draws.</p>
      </para>
      <para xml:id="S6.SS2.p2" fragid="S6.SS2.p2">
        <p>To create Figures <ref labelref="LABEL:fig:maxL1" href="#S6.F7" title="Figure 7 ‣ 6.2 Simulation results for the algorithm ‣ 6 Experimental results"><text class="ltx_ref_tag">7</text></ref> and <ref labelref="LABEL:fig:avgL1" href="#S6.F8" title="Figure 8 ‣ 6.2 Simulation results for the algorithm ‣ 6 Experimental results"><text class="ltx_ref_tag">8</text></ref>, we drew markets (in the sense explained above), then used our assignment mechanism to generate the matrix <Math mode="inline" xml:id="S6.SS2.p2.m1" tex="M" text="M" fragid="S6.SS2.p2.m1"><XMath><XMTok role="UNKNOWN" font="italic">M</XMTok></XMath></Math>, to which Algorithm <ref labelref="LABEL:alg:approximation" href="#algorithm1" title="5.5.2 Suggested algorithm for upper bound ‣ 5.5 Approximation ‣ 5 Couples in the assignment problem"><text class="ltx_ref_tag">5.5.2</text></ref> was applied. While Theorem <ref labelref="LABEL:th:approximationAlgorithm" href="#Thmtheorem3" title="Theorem 3. ‣ 5.5.2 Suggested algorithm for upper bound ‣ 5.5 Approximation ‣ 5 Couples in the assignment problem"><text class="ltx_ref_tag">3</text></ref> only ensures approximation quality of <Math mode="inline" xml:id="S6.SS2.p2.m2" tex="2/\underline{q}" text="2 / underline@(q)" fragid="S6.SS2.p2.m2"><XMath><XMApp><XMTok mathstyle="inline" meaning="divide" role="MULOP">/</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok><XMApp><XMTok name="underline" role="UNDERACCENT">¯</XMTok><XMTok role="UNKNOWN" font="italic">q</XMTok></XMApp></XMApp></XMath></Math>, we can clearly see in Figure <ref labelref="LABEL:fig:maxL1" href="#S6.F7" title="Figure 7 ‣ 6.2 Simulation results for the algorithm ‣ 6 Experimental results"><text class="ltx_ref_tag">7</text></ref> that although in our case <Math mode="inline" xml:id="S6.SS2.p2.m3" tex="\underline{q}=4" text="underline@(q) = 4" fragid="S6.SS2.p2.m3"><XMath><XMApp><XMTok meaning="equals" role="RELOP">=</XMTok><XMApp><XMTok name="underline" role="UNDERACCENT">¯</XMTok><XMTok role="UNKNOWN" font="italic">q</XMTok></XMApp><XMTok meaning="4" role="NUMBER">4</XMTok></XMApp></XMath></Math>, the average performance of our algorithm is far better than <Math mode="inline" xml:id="S6.SS2.p2.m4" tex="\frac{1}{2}" text="1 / 2" fragid="S6.SS2.p2.m4"><XMath><XMApp><XMTok mathstyle="text" meaning="divide" role="MULOP"/><XMTok meaning="1" role="NUMBER">1</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok></XMApp></XMath></Math> (the red vertical line). One reason for the difference between the theoretical prediction and the data is that our analysis assumes that the percentage of singles’ weights is equal across all hospitals (see also the concluding discussion). The second and much more important reason is that even after applying the probability allocation mechanism, pathological examples similar to the one presented in Theorem <ref labelref="LABEL:th:lowerBound" href="#Thmtheorem2" title="Theorem 2. ‣ 5.5.1 Lower bound ‣ 5.5 Approximation ‣ 5 Couples in the assignment problem"><text class="ltx_ref_tag">2</text></ref> are relatively rare. A third reason is that the arbitrary way in which singles were allocated at the end of the algorithm may in fact improve the performance.<note mark="13" role="footnote">One may consider replacing the arbitrary assignment with a more sophisticated method to slightly improve the results. We did not pursue this direction any further.</note> We note that the spike at the left side of the distribution occurs exactly because of a small hospital to which couples are likely to be allocated because of their (non-random) preferences (indeed, this spike disappears completely in Figure <ref labelref="LABEL:fig:maxRandomL1" href="#S6.F9" title="Figure 9 ‣ 6.2 Simulation results for the algorithm ‣ 6 Experimental results"><text class="ltx_ref_tag">9</text></ref> which uses random allocation of probabilities).</p>
      </para>
      <figure frefnum="Figure 7" placement="htp" refnum="7" xml:id="S6.F7" labels="LABEL:fig:maxL1" fragid="S6.F7">
        <toccaption class="ltx_centering"><tag close=" ">7</tag>The distribution of the maximum value over the <Math mode="inline" xml:id="S6.F7.m1" tex="L_{1}" text="L _ 1" fragid="S6.F7.m1"><XMath><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">L</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp></XMath></Math> norm</toccaption>
        <caption class="ltx_centering"><tag close=": ">Figure 7</tag>The histogram shows the distribution of the maximum value over the <Math mode="inline" xml:id="S6.F7.m2" tex="L_{1}" text="L _ 1" fragid="S6.F7.m2"><XMath><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">L</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp></XMath></Math> norm of each intern in the absolute distance between the original assignment matrix and the approximated one. The red dashed vertical line represents the theoretical upper bound.</caption>
        <graphics candidates="maxL1norm.eps" graphic="maxL1norm.eps" options="scale=0.4" xml:id="S6.F7.g1" class="ltx_centering" fragid="S6.F7.g1" imagesrc="x112.png" imagewidth="480" imageheight="125"/>
      </figure>
      <para xml:id="S6.SS2.p3" fragid="S6.SS2.p3">
        <p>For completeness, Figure <ref labelref="LABEL:fig:avgL1" href="#S6.F8" title="Figure 8 ‣ 6.2 Simulation results for the algorithm ‣ 6 Experimental results"><text class="ltx_ref_tag">8</text></ref> depicts the distribution of <Math mode="inline" xml:id="S6.SS2.p3.m1" tex="\frac{|M-\sum_{k=1}^{K}\lambda^{k}M^{k}|\cdot\vec{\mathbf{1}}_{[I]}}{|I|}" text="(absolute-value@(M - ((sum _ (k = 1)) ^ K)@(lambda ^ k * M ^ k)) cdot (vec@(1)) _ (delimited-[]@(I))) / absolute-value@(I)" fragid="S6.SS2.p3.m1"><XMath><XMApp><XMTok mathstyle="text" meaning="divide" role="MULOP"/><XMApp><XMTok name="cdot" role="MULOP">⋅</XMTok><XMDual><XMApp><XMTok meaning="absolute-value"/><XMRef idref="S6.SS2.p3.m1.2"/></XMApp><XMWrap><XMTok role="VERTBAR" stretchy="false">|</XMTok><XMApp xml:id="S6.SS2.p3.m1.2" fragid="S6.SS2.p3.m1.2"><XMTok meaning="minus" role="ADDOP">-</XMTok><XMTok role="UNKNOWN" font="italic">M</XMTok><XMApp><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post3"/><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post3"/><XMTok mathstyle="text" meaning="sum" role="SUMOP" scriptpos="post">∑</XMTok><XMApp><XMTok meaning="equals" role="RELOP">=</XMTok><XMTok role="UNKNOWN" font="italic">k</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp></XMApp><XMTok role="UNKNOWN" font="italic">K</XMTok></XMApp><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post3"/><XMTok name="lambda" role="UNKNOWN" font="italic">λ</XMTok><XMTok role="UNKNOWN" font="italic">k</XMTok></XMApp><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post3"/><XMTok role="UNKNOWN" font="italic">M</XMTok><XMTok role="UNKNOWN" font="italic">k</XMTok></XMApp></XMApp></XMApp></XMApp><XMTok role="VERTBAR" stretchy="false">|</XMTok></XMWrap></XMDual><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post3"/><XMApp><XMTok name="vec" role="OVERACCENT" stretchy="false">→</XMTok><XMTok meaning="1" role="NUMBER" font="bold">1</XMTok></XMApp><XMDual><XMApp><XMTok meaning="delimited-[]"/><XMRef idref="S6.SS2.p3.m1.1"/></XMApp><XMWrap><XMTok role="OPEN" stretchy="false">[</XMTok><XMTok role="UNKNOWN" xml:id="S6.SS2.p3.m1.1" font="italic" fragid="S6.SS2.p3.m1.1">I</XMTok><XMTok role="CLOSE" stretchy="false">]</XMTok></XMWrap></XMDual></XMApp></XMApp><XMDual><XMApp><XMTok meaning="absolute-value"/><XMRef idref="S6.SS2.p3.m1.3"/></XMApp><XMWrap><XMTok role="VERTBAR" stretchy="false">|</XMTok><XMTok role="UNKNOWN" xml:id="S6.SS2.p3.m1.3" font="italic" fragid="S6.SS2.p3.m1.3">I</XMTok><XMTok role="VERTBAR" stretchy="false">|</XMTok></XMWrap></XMDual></XMApp></XMath></Math> , which is the average <Math mode="inline" xml:id="S6.SS2.p3.m2" tex="L_{1}" text="L _ 1" fragid="S6.SS2.p3.m2"><XMath><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post2"/><XMTok role="UNKNOWN" font="italic">L</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp></XMath></Math> norm. This metric was not analyzed theoretically, but it is of much interest to the social planner. It roughly means that while the intern who got her probability vector changed the most suffered an average of at about <Math mode="inline" xml:id="S6.SS2.p3.m3" tex="15\%" text="15percent" fragid="S6.SS2.p3.m3"><XMath><XMApp><XMTok meaning="percent" role="POSTFIX">%</XMTok><XMTok meaning="15" role="NUMBER">15</XMTok></XMApp></XMath></Math> change, the average intern’s probability vector was only changed by less than <Math mode="inline" xml:id="S6.SS2.p3.m4" tex="2\%" text="2percent" fragid="S6.SS2.p3.m4"><XMath><XMApp><XMTok meaning="percent" role="POSTFIX">%</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok></XMApp></XMath></Math>.</p>
      </para>
      <figure frefnum="Figure 8" placement="htp" refnum="8" xml:id="S6.F8" labels="LABEL:fig:avgL1" fragid="S6.F8">
        <toccaption class="ltx_centering"><tag close=" ">8</tag>The distribution of the average value over the <Math mode="inline" xml:id="S6.F8.m1" tex="L_{1}" text="L _ 1" fragid="S6.F8.m1"><XMath><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">L</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp></XMath></Math> norm</toccaption>
        <caption class="ltx_centering"><tag close=": ">Figure 8</tag>The histogram shows the distribution of the average value over the <Math mode="inline" xml:id="S6.F8.m2" tex="L_{1}" text="L _ 1" fragid="S6.F8.m2"><XMath><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">L</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp></XMath></Math> norm of each intern in the absolute distance between the original assignment matrix and the approximated one.</caption>
        <graphics candidates="avgL1norm.eps" graphic="avgL1norm.eps" options="scale=0.4" xml:id="S6.F8.g1" class="ltx_centering" fragid="S6.F8.g1" imagesrc="x113.png" imagewidth="480" imageheight="125"/>
        <!-- %**** MasterThesis.tex Line 625 **** -->
      </figure>
      <para xml:id="S6.SS2.p4" fragid="S6.SS2.p4">
        <p>In order to separate the effect of the LP mechanism used to generate probability matrices, we also produce similar figures for matrices produced randomly using the iterative algorithm of <cite class="ltx_citemacro_cite">[<ref class="ltx_missing_citation" idref="sk1967" title="sk1967">sk1967</ref>]</cite> (but only select those within our sub-domain of interest, <Math mode="inline" xml:id="S6.SS2.p4.m1" tex="\mathcal{P}^{S\geq C}" text="P ^ (S &gt;= C)" fragid="S6.SS2.p4.m1"><XMath><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post2"/><XMTok role="UNKNOWN" font="caligraphic">P</XMTok><XMApp><XMTok meaning="greater-than-or-equals" name="geq" role="RELOP">≥</XMTok><XMTok role="UNKNOWN" font="italic">S</XMTok><XMTok role="UNKNOWN" font="italic">C</XMTok></XMApp></XMApp></XMath></Math>), with the same market size as used for Figures <ref labelref="LABEL:fig:maxL1" href="#S6.F7" title="Figure 7 ‣ 6.2 Simulation results for the algorithm ‣ 6 Experimental results"><text class="ltx_ref_tag">7</text></ref> and <ref labelref="LABEL:fig:avgL1" href="#S6.F8" title="Figure 8 ‣ 6.2 Simulation results for the algorithm ‣ 6 Experimental results"><text class="ltx_ref_tag">8</text></ref>. Figure <ref labelref="LABEL:fig:maxRandomL1" href="#S6.F9" title="Figure 9 ‣ 6.2 Simulation results for the algorithm ‣ 6 Experimental results"><text class="ltx_ref_tag">9</text></ref> indeed reveals that using random matrices reduces the maximal impact by a factor of about 5. However, it is evident from Figure <ref labelref="LABEL:fig:avgRandomL1" href="#S6.F10" title="Figure 10 ‣ 6.2 Simulation results for the algorithm ‣ 6 Experimental results"><text class="ltx_ref_tag">10</text></ref> that the average intern’s probability vector is now more susceptible to changes following the application of our approximation algorithm.</p>
      </para>
      <figure frefnum="Figure 9" placement="htp" refnum="9" xml:id="S6.F9" labels="LABEL:fig:maxRandomL1" fragid="S6.F9">
        <toccaption class="ltx_centering"><tag close=" ">9</tag>Maximum value over the <Math mode="inline" xml:id="S6.F9.m1" tex="L_{1}" text="L _ 1" fragid="S6.F9.m1"><XMath><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">L</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp></XMath></Math> norm, for random values</toccaption>
        <caption class="ltx_centering"><tag close=": ">Figure 9</tag>The histogram shows the distribution of the maximum value over the <Math mode="inline" xml:id="S6.F9.m2" tex="L_{1}" text="L _ 1" fragid="S6.F9.m2"><XMath><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">L</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp></XMath></Math> norm of each intern in the absolute distance between the original assignment matrix and the approximated one, for randomly generated values.</caption>
        <graphics candidates="randomMaxL1norm.eps" graphic="randomMaxL1norm.eps" options="scale=0.4" xml:id="S6.F9.g1" class="ltx_centering" fragid="S6.F9.g1" imagesrc="x114.png" imagewidth="480" imageheight="127"/>
      </figure>
      <figure frefnum="Figure 10" placement="htp" refnum="10" xml:id="S6.F10" labels="LABEL:fig:avgRandomL1" fragid="S6.F10">
        <toccaption class="ltx_centering"><tag close=" ">10</tag>Average value over the <Math mode="inline" xml:id="S6.F10.m1" tex="L_{1}" text="L _ 1" fragid="S6.F10.m1"><XMath><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">L</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp></XMath></Math> norm, for random values</toccaption>
        <caption class="ltx_centering"><tag close=": ">Figure 10</tag>The histogram shows the distribution of the average value over the <Math mode="inline" xml:id="S6.F10.m2" tex="L_{1}" text="L _ 1" fragid="S6.F10.m2"><XMath><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">L</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp></XMath></Math> norm of each intern in the absolute distance between the original assignment matrix and the approximated one, for randomly generated values.</caption>
        <graphics candidates="randomAvgL1norm.eps" graphic="randomAvgL1norm.eps" options="scale=0.4" xml:id="S6.F10.g1" class="ltx_centering" fragid="S6.F10.g1" imagesrc="x115.png" imagewidth="480" imageheight="128"/>
      </figure>
      <para xml:id="S6.SS2.p5" fragid="S6.SS2.p5">
        <p>Finally, we also tried to see what would have happened to the performance of our algorithm if couples’ preferences were more capacity-driven compared to their true distribution. For this test, we used the same distribution for singles’ preferences, but each couples’ preference was created by drawing hospitals one by one, where every time the draw is from those hospitals not drawn yet, and with the capacity of the hospital being the weight in the random draw. This made couples like big hospitals better than they like small hospitals, and thus the minimal weight of singles in all hospitals went up, and our algorithm’s performance was improved (see Figures <ref labelref="LABEL:fig:maxCapacityL1" href="#S6.F11" title="Figure 11 ‣ 6.2 Simulation results for the algorithm ‣ 6 Experimental results"><text class="ltx_ref_tag">11</text></ref> and <ref labelref="LABEL:fig:avgCapacityL1" href="#S6.F12" title="Figure 12 ‣ 6.2 Simulation results for the algorithm ‣ 6 Experimental results"><text class="ltx_ref_tag">12</text></ref>).</p>
      </para>
      <figure frefnum="Figure 11" placement="htp" refnum="11" xml:id="S6.F11" labels="LABEL:fig:maxCapacityL1" fragid="S6.F11">
        <toccaption class="ltx_centering"><tag close=" ">11</tag>Maximum value over the <Math mode="inline" xml:id="S6.F11.m1" tex="L_{1}" text="L _ 1" fragid="S6.F11.m1"><XMath><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">L</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp></XMath></Math> norm, for capacity-driven couples</toccaption>
        <caption class="ltx_centering"><tag close=": ">Figure 11</tag>The histogram shows the distribution of the maximum value over the <Math mode="inline" xml:id="S6.F11.m2" tex="L_{1}" text="L _ 1" fragid="S6.F11.m2"><XMath><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">L</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp></XMath></Math> norm of each intern in the absolute distance between the original assignment matrix and the approximated one, for capacity-driven couples.</caption>
        <graphics candidates="capacityDrivenMaxL1norm.eps" graphic="capacityDrivenMaxL1norm.eps" options="scale=0.4" xml:id="S6.F11.g1" class="ltx_centering" fragid="S6.F11.g1" imagesrc="x116.png" imagewidth="480" imageheight="130"/>
        <!-- %**** MasterThesis.tex Line 650 **** -->
      </figure>
      <figure frefnum="Figure 12" placement="htp" refnum="12" xml:id="S6.F12" labels="LABEL:fig:avgCapacityL1" fragid="S6.F12">
        <toccaption class="ltx_centering"><tag close=" ">12</tag>Average value over the <Math mode="inline" xml:id="S6.F12.m1" tex="L_{1}" text="L _ 1" fragid="S6.F12.m1"><XMath><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">L</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp></XMath></Math> norm, for capacity-driven couples</toccaption>
        <caption class="ltx_centering"><tag close=": ">Figure 12</tag>The histogram shows the distribution of the average value over the <Math mode="inline" xml:id="S6.F12.m2" tex="L_{1}" text="L _ 1" fragid="S6.F12.m2"><XMath><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">L</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp></XMath></Math> norm of each intern in the absolute distance between the original assignment matrix and the approximated one, for capacity-driven couples.</caption>
        <graphics candidates="capacityDrivenAvgL1norm.eps" graphic="capacityDrivenAvgL1norm.eps" options="scale=0.4" xml:id="S6.F12.g1" class="ltx_centering" fragid="S6.F12.g1" imagesrc="x117.png" imagewidth="480" imageheight="133"/>
      </figure>
      <para xml:id="S6.SS2.p6" fragid="S6.SS2.p6">
        <p>Figure <ref labelref="LABEL:fig:maxCapacityL1" href="#S6.F11" title="Figure 11 ‣ 6.2 Simulation results for the algorithm ‣ 6 Experimental results"><text class="ltx_ref_tag">11</text></ref> presents a funny double-peaked distribution. The reason for this is not lack of experiments, but rather whether or not a couple has a chance of getting to a hospital with capacity <Math mode="inline" xml:id="S6.SS2.p6.m1" tex="4" text="4" fragid="S6.SS2.p6.m1"><XMath><XMTok meaning="4" role="NUMBER">4</XMTok></XMath></Math>. Since the LP is an affine maximizer, if a couple has a chance to get to this small hospital, then this probability will be non negligible (in the order of at least <Math mode="inline" xml:id="S6.SS2.p6.m2" tex="0.3" text="0.3" fragid="S6.SS2.p6.m2"><XMath><XMTok meaning="0.3" role="NUMBER">0.3</XMTok></XMath></Math> or so). If the couple has a chance to get there then rounding the probabilities of the intern there will give the intern with the highest discrepancy in the decomposition. One the other hand, if no couple ever gets to that hospital the decomposition there is always perfect, and we need to worry about the second smallest hospital (which already has twice the number of interns than the smallest hosptial).</p>
      </para>
    </subsection>
  </section>
  <section refnum="7" xml:id="S7" labels="LABEL:sec:extensions" fragid="S7">
    <title><tag close=" ">7</tag>Extensions</title>
    <subsection refnum="7.1" xml:id="S7.SS1" fragid="S7.SS1">
      <title><tag close=" ">7.1</tag>Lower percentage of singles in each hospital</title>
      <para xml:id="S7.SS1.p1" fragid="S7.SS1.p1">
        <p>For the sake of simplicity we focused on the domain <Math mode="inline" xml:id="S7.SS1.p1.m1" tex="\mathcal{P}^{S\geq C}" text="P ^ (S &gt;= C)" fragid="S7.SS1.p1.m1"><XMath><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post2"/><XMTok role="UNKNOWN" font="caligraphic">P</XMTok><XMApp><XMTok meaning="greater-than-or-equals" name="geq" role="RELOP">≥</XMTok><XMTok role="UNKNOWN" font="italic">S</XMTok><XMTok role="UNKNOWN" font="italic">C</XMTok></XMApp></XMApp></XMath></Math> in which there are more single interns than interns who are part of a couple in each hospital. It is easy to generalize our results to the domain of <Math mode="inline" xml:id="S7.SS1.p1.m2" tex="\mathcal{P}^{S\geq\alpha C}" text="P ^ (S &gt;= alpha * C)" fragid="S7.SS1.p1.m2"><XMath><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post2"/><XMTok role="UNKNOWN" font="caligraphic">P</XMTok><XMApp><XMTok meaning="greater-than-or-equals" name="geq" role="RELOP">≥</XMTok><XMTok role="UNKNOWN" font="italic">S</XMTok><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok name="alpha" role="UNKNOWN" font="italic">α</XMTok><XMTok role="UNKNOWN" font="italic">C</XMTok></XMApp></XMApp></XMApp></XMath></Math>, in which in every hospital the total weight allocated to single interns is at least <Math mode="inline" xml:id="S7.SS1.p1.m3" tex="\alpha" text="alpha" fragid="S7.SS1.p1.m3"><XMath><XMTok name="alpha" role="UNKNOWN" font="italic">α</XMTok></XMath></Math> times the total weight allocated to couples (<Math mode="inline" xml:id="S7.SS1.p1.m4" tex="\forall h\in H:\sum_{s\in S}M_{s,h}\geq\alpha\cdot 2\sum_{c\in C}M_{c_{1},h}" text="for-all@(h) element-of H colon (sum _ (s element-of S))@(M _ (list@(s, h))) &gt;= (alpha cdot 2) * (sum _ (c element-of C))@(M _ (list@(c _ 1, h)))" fragid="S7.SS1.p1.m4"><XMath><XMApp><XMTok name="colon" role="METARELOP">:</XMTok><XMApp><XMTok meaning="element-of" name="in" role="RELOP">∈</XMTok><XMApp><XMTok meaning="for-all" name="forall" role="BIGOP">∀</XMTok><XMTok role="UNKNOWN" font="italic">h</XMTok></XMApp><XMTok role="UNKNOWN" font="italic">H</XMTok></XMApp><XMApp><XMTok meaning="greater-than-or-equals" name="geq" role="RELOP">≥</XMTok><XMApp><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post2"/><XMTok mathstyle="text" meaning="sum" role="SUMOP" scriptpos="post">∑</XMTok><XMApp><XMTok meaning="element-of" name="in" role="RELOP">∈</XMTok><XMTok role="UNKNOWN" font="italic">s</XMTok><XMTok role="UNKNOWN" font="italic">S</XMTok></XMApp></XMApp><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post2"/><XMTok role="UNKNOWN" font="italic">M</XMTok><XMDual><XMApp><XMTok meaning="list"/><XMRef idref="S7.SS1.p1.m4.1"/><XMRef idref="S7.SS1.p1.m4.2"/></XMApp><XMWrap><XMTok role="UNKNOWN" xml:id="S7.SS1.p1.m4.1" font="italic" fragid="S7.SS1.p1.m4.1">s</XMTok><XMTok role="PUNCT">,</XMTok><XMTok role="UNKNOWN" xml:id="S7.SS1.p1.m4.2" font="italic" fragid="S7.SS1.p1.m4.2">h</XMTok></XMWrap></XMDual></XMApp></XMApp><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMApp><XMTok name="cdot" role="MULOP">⋅</XMTok><XMTok name="alpha" role="UNKNOWN" font="italic">α</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok></XMApp><XMApp><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post2"/><XMTok mathstyle="text" meaning="sum" role="SUMOP" scriptpos="post">∑</XMTok><XMApp><XMTok meaning="element-of" name="in" role="RELOP">∈</XMTok><XMTok role="UNKNOWN" font="italic">c</XMTok><XMTok role="UNKNOWN" font="italic">C</XMTok></XMApp></XMApp><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post2"/><XMTok role="UNKNOWN" font="italic">M</XMTok><XMDual><XMApp><XMTok meaning="list"/><XMRef idref="S7.SS1.p1.m4.4"/><XMRef idref="S7.SS1.p1.m4.3"/></XMApp><XMWrap><XMApp xml:id="S7.SS1.p1.m4.4" fragid="S7.SS1.p1.m4.4"><XMTok role="SUBSCRIPTOP" scriptpos="post3"/><XMTok role="UNKNOWN" font="italic">c</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp><XMTok role="PUNCT">,</XMTok><XMTok role="UNKNOWN" xml:id="S7.SS1.p1.m4.3" font="italic" fragid="S7.SS1.p1.m4.3">h</XMTok></XMWrap></XMDual></XMApp></XMApp></XMApp></XMApp></XMApp></XMath></Math>), for some positive <Math mode="inline" xml:id="S7.SS1.p1.m5" tex="\alpha" text="alpha" fragid="S7.SS1.p1.m5"><XMath><XMTok name="alpha" role="UNKNOWN" font="italic">α</XMTok></XMath></Math>.</p>
      </para>
      <para xml:id="S7.SS1.p2" fragid="S7.SS1.p2">
        <p>The example given in Theorem <ref labelref="LABEL:th:lowerBound" href="#Thmtheorem2" title="Theorem 2. ‣ 5.5.1 Lower bound ‣ 5.5 Approximation ‣ 5 Couples in the assignment problem"><text class="ltx_ref_tag">2</text></ref> can be modified to have <Math mode="inline" xml:id="S7.SS1.p2.m1" tex="\frac{2\alpha}{1+\alpha}q+2" text="((2 * alpha) / (1 + alpha)) * q + 2" fragid="S7.SS1.p2.m1"><XMath><XMApp><XMTok meaning="plus" role="ADDOP">+</XMTok><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMApp><XMTok mathstyle="text" meaning="divide" role="MULOP"/><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok><XMTok name="alpha" role="UNKNOWN" font="italic">α</XMTok></XMApp><XMApp><XMTok meaning="plus" role="ADDOP">+</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok><XMTok name="alpha" role="UNKNOWN" font="italic">α</XMTok></XMApp></XMApp><XMTok role="UNKNOWN" font="italic">q</XMTok></XMApp><XMTok meaning="2" role="NUMBER">2</XMTok></XMApp></XMath></Math> singles and <Math mode="inline" xml:id="S7.SS1.p2.m2" tex="\frac{1}{1+\alpha}q-1" text="(1 / (1 + alpha)) * q - 1" fragid="S7.SS1.p2.m2"><XMath><XMApp><XMTok meaning="minus" role="ADDOP">-</XMTok><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMApp><XMTok mathstyle="text" meaning="divide" role="MULOP"/><XMTok meaning="1" role="NUMBER">1</XMTok><XMApp><XMTok meaning="plus" role="ADDOP">+</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok><XMTok name="alpha" role="UNKNOWN" font="italic">α</XMTok></XMApp></XMApp><XMTok role="UNKNOWN" font="italic">q</XMTok></XMApp><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp></XMath></Math> couples, and the resulting bound will be <Math mode="inline" xml:id="S7.SS1.p2.m3" tex="\frac{1}{\left(\frac{\alpha}{1+\alpha}\right)\underline{q}+1}" text="1 / ((alpha / (1 + alpha)) * underline@(q) + 1)" fragid="S7.SS1.p2.m3"><XMath><XMApp><XMTok mathstyle="text" meaning="divide" role="MULOP"/><XMTok meaning="1" role="NUMBER">1</XMTok><XMApp><XMTok meaning="plus" role="ADDOP">+</XMTok><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMDual><XMRef idref="S7.SS1.p2.m3.1"/><XMWrap><XMTok role="OPEN">(</XMTok><XMApp xml:id="S7.SS1.p2.m3.1" fragid="S7.SS1.p2.m3.1"><XMTok mathstyle="script" meaning="divide" role="MULOP"/><XMTok name="alpha" role="UNKNOWN" font="italic">α</XMTok><XMApp><XMTok meaning="plus" role="ADDOP">+</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok><XMTok name="alpha" role="UNKNOWN" font="italic">α</XMTok></XMApp></XMApp><XMTok role="CLOSE">)</XMTok></XMWrap></XMDual><XMApp><XMTok name="underline" role="UNDERACCENT">¯</XMTok><XMTok role="UNKNOWN" font="italic">q</XMTok></XMApp></XMApp><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp></XMApp></XMath></Math>. The approximation algorithm stays exactly the same, and it provides an approximation of <Math mode="inline" xml:id="S7.SS1.p2.m4" tex="\frac{1}{\left(\frac{\alpha}{1+\alpha}\right)\underline{q}}" text="1 / ((alpha / (1 + alpha)) * underline@(q))" fragid="S7.SS1.p2.m4"><XMath><XMApp><XMTok mathstyle="text" meaning="divide" role="MULOP"/><XMTok meaning="1" role="NUMBER">1</XMTok><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMDual><XMRef idref="S7.SS1.p2.m4.1"/><XMWrap><XMTok role="OPEN">(</XMTok><XMApp xml:id="S7.SS1.p2.m4.1" fragid="S7.SS1.p2.m4.1"><XMTok mathstyle="script" meaning="divide" role="MULOP"/><XMTok name="alpha" role="UNKNOWN" font="italic">α</XMTok><XMApp><XMTok meaning="plus" role="ADDOP">+</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok><XMTok name="alpha" role="UNKNOWN" font="italic">α</XMTok></XMApp></XMApp><XMTok role="CLOSE">)</XMTok></XMWrap></XMDual><XMApp><XMTok name="underline" role="UNDERACCENT">¯</XMTok><XMTok role="UNKNOWN" font="italic">q</XMTok></XMApp></XMApp></XMApp></XMath></Math>.</p>
      </para>
      <para xml:id="S7.SS1.p3" fragid="S7.SS1.p3">
        <p>On a similar note, we remark that presenting the approximation as depending on the minimal capacity was a matter of choice. A slightly more accurate bound can be formulated in terms of the minimal singles’ demand across hospital, i.e., <Math mode="inline" xml:id="S7.SS1.p3.m1" tex="\min_{h\in H}\sum_{s\in S}M_{s,h}\left(\geq\frac{\alpha}{1+\alpha}\underline{q%&#10;}\right)" text="annotated@(minimum _ (h element-of H) * (sum _ (s element-of S))@(M _ (list@(s, h))), absent &gt;= (alpha / (1 + alpha)) * underline@(q))" fragid="S7.SS1.p3.m1"><XMath><XMApp><XMTok meaning="annotated"/><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post2"/><XMTok meaning="minimum" role="OPFUNCTION" scriptpos="post">min</XMTok><XMApp><XMTok meaning="element-of" name="in" role="RELOP">∈</XMTok><XMTok role="UNKNOWN" font="italic">h</XMTok><XMTok role="UNKNOWN" font="italic">H</XMTok></XMApp></XMApp><XMApp><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post2"/><XMTok mathstyle="text" meaning="sum" role="SUMOP" scriptpos="post">∑</XMTok><XMApp><XMTok meaning="element-of" name="in" role="RELOP">∈</XMTok><XMTok role="UNKNOWN" font="italic">s</XMTok><XMTok role="UNKNOWN" font="italic">S</XMTok></XMApp></XMApp><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post2"/><XMTok role="UNKNOWN" font="italic">M</XMTok><XMDual><XMApp><XMTok meaning="list"/><XMRef idref="S7.SS1.p3.m1.1"/><XMRef idref="S7.SS1.p3.m1.2"/></XMApp><XMWrap><XMTok role="UNKNOWN" xml:id="S7.SS1.p3.m1.1" font="italic" fragid="S7.SS1.p3.m1.1">s</XMTok><XMTok role="PUNCT">,</XMTok><XMTok role="UNKNOWN" xml:id="S7.SS1.p3.m1.2" font="italic" fragid="S7.SS1.p3.m1.2">h</XMTok></XMWrap></XMDual></XMApp></XMApp></XMApp><XMDual><XMRef idref="S7.SS1.p3.m1.3"/><XMWrap><XMTok role="OPEN">(</XMTok><XMApp xml:id="S7.SS1.p3.m1.3" fragid="S7.SS1.p3.m1.3"><XMTok meaning="greater-than-or-equals" name="geq" role="RELOP">≥</XMTok><XMTok meaning="absent"/><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMApp><XMTok mathstyle="text" meaning="divide" role="MULOP"/><XMTok name="alpha" role="UNKNOWN" font="italic">α</XMTok><XMApp><XMTok meaning="plus" role="ADDOP">+</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok><XMTok name="alpha" role="UNKNOWN" font="italic">α</XMTok></XMApp></XMApp><XMApp><XMTok name="underline" role="UNDERACCENT">¯</XMTok><XMTok role="UNKNOWN" font="italic">q</XMTok></XMApp></XMApp></XMApp><XMTok role="CLOSE">)</XMTok></XMWrap></XMDual></XMApp></XMath></Math>. This bound works much better when for some reason couples focus their demand on larger hospitals.</p>
      </para>
    </subsection>
    <subsection refnum="7.2" xml:id="S7.SS2" fragid="S7.SS2">
      <title><tag close=" ">7.2</tag>Groups larger than two</title>
      <para xml:id="S7.SS2.p1" fragid="S7.SS2.p1">
        <p>In the Israeli Medical Internship Match, interns were only allowed to register either as singles or as couples. However, other applications may require larger groups to be assigned together. To extend our solution to larger groups it is possible to replace the first stage of the algorithm (the one which rounds up the capacities demanded by the couples and allocates the couples) by the allocation method of <cite class="ltx_citemacro_cite">[<ref class="ltx_missing_citation" idref="npv2014" title="npv2014">npv2014</ref>]</cite> (without the singles). Their algorithm ensures an allocation that deviates from the initial allocation by at most <Math mode="inline" xml:id="S7.SS2.p1.m1" tex="k-1" text="k - 1" fragid="S7.SS2.p1.m1"><XMath><XMApp><XMTok meaning="minus" role="ADDOP">-</XMTok><XMTok role="UNKNOWN" font="italic">k</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp></XMath></Math> seats in each hospital, where <Math mode="inline" xml:id="S7.SS2.p1.m2" tex="k" text="k" fragid="S7.SS2.p1.m2"><XMath><XMTok role="UNKNOWN" font="italic">k</XMTok></XMath></Math> is the size of the largest group. We can then take the remaining capacities and split them among the singles in a similar manner, and the analysis of the upper bound will remain similar (the coefficient however will change according to <Math mode="inline" xml:id="S7.SS2.p1.m3" tex="k" text="k" fragid="S7.SS2.p1.m3"><XMath><XMTok role="UNKNOWN" font="italic">k</XMTok></XMath></Math>). Obviously, our two extensions can be combined.</p>
      </para>
    </subsection>
  </section>
  <section refnum="8" xml:id="S8" labels="LABEL:sec:conclusion" fragid="S8">
    <title><tag close=" ">8</tag>Conclusion</title>
    <!-- %**** MasterThesis.tex Line 675 **** -->
    <para xml:id="S8.p1" fragid="S8.p1">
      <p>In this thesis we described a recent application of knowledge and research in market design to the problem of allocating interns to internship positions in Israel, we presented a novel technique to perform assignments, and showed that it greatly improved the assignment of Israeli medical graduates to internships, increasing the number of students who received one of their top choices. This method requires the medical students to “trade” probabilities to get to different places, and therefore creates a new comparison between different hospitals, based on how much they are desired in the trade. We presented the results of this comparison, and showed that it makes much more sense than the traditional one (namely order the hospitals according to the number of students who ranked them first). Seeing that the new rating makes sense is an evidence that the probabilities in the new lottery are traded correctly.</p>
    </para>
    <para xml:id="S8.p2" fragid="S8.p2">
      <p>Our data exhibited several very interesting characteristics that lead us, for example, to recommend (or at least suggest for consideration) merging the two cohorts (of local interns and foreign trained doctors) and assigning them using the same mechanism, since there are likely significant gains to trade. A naïve attempt that we made in putting combining these two populations resulted in an improvement for both populations under the new mechanism, and an improvement only for the local interns under RSD (with the foreign trained doctors receiving a worse expected rank). However, it is possible that the MoH will decide that the DNH principle should apply here as well and that the baseline that should be taken is not RSD on the merged population, but rather two independent runs of RSD (one for each population) and running the linear program on top of it.</p>
    </para>
    <para xml:id="S8.p3" fragid="S8.p3">
      <p>We expect that decomposing stochastic matrices under small complementarity constraints will rise in other applications. Consider for example a lottery which assigns students to courses. A student needs to care about her probability of getting each course, but would also like the guarantee that two courses will not overlap. While the algorithm we presented here has a worst case approximation ratio <Math mode="inline" xml:id="S8.p3.m1" tex="2/\underline{q}" text="2 / underline@(q)" fragid="S8.p3.m1"><XMath><XMApp><XMTok mathstyle="inline" meaning="divide" role="MULOP">/</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok><XMApp><XMTok name="underline" role="UNDERACCENT">¯</XMTok><XMTok role="UNKNOWN" font="italic">q</XMTok></XMApp></XMApp></XMath></Math> (where <Math mode="inline" xml:id="S8.p3.m2" tex="\underline{q}" text="underline@(q)" fragid="S8.p3.m2"><XMath><XMApp><XMTok name="underline" role="UNDERACCENT">¯</XMTok><XMTok role="UNKNOWN" font="italic">q</XMTok></XMApp></XMath></Math> is the minimal capacity in the problem), it behaves much better on simulated and on real data. The reason for this better behavior is that couples do not necessarily concentrate in the small hospitals (and indeed making couples prefer big hospitals improves the performance).</p>
    </para>
    <subsection refnum="8.1" xml:id="S8.SS1" fragid="S8.SS1">
      <title><tag close=" ">8.1</tag>Open questions</title>
      <para xml:id="S8.SS1.p1" fragid="S8.SS1.p1">
        <enumerate xml:id="I15" fragid="I15">
          <item frefnum="1." refnum="1" xml:id="I15.i1" fragid="I15.i1">
            <tag>1.</tag>
            <para xml:id="I15.i1.p1" fragid="I15.i1.p1">
              <p>What is a more principled way of balancing strategy-proofness with efficiency? We did not pay any extra price for strategy-proofness (in addition to the price for the DNH principle).</p>
            </para>
          </item>
          <item frefnum="2." refnum="2" xml:id="I15.i2" fragid="I15.i2">
            <tag>2.</tag>
            <para xml:id="I15.i2.p1" fragid="I15.i2.p1">
              <p>The students ended up giving no advantages to parents in 2014 and 2015. How would the algorithm behave given a population which consists also of parents? Is there a more principled way to cope with parents?</p>
            </para>
          </item>
          <item frefnum="3." refnum="3" xml:id="I15.i3" fragid="I15.i3">
            <tag>3.</tag>
            <para xml:id="I15.i3.p1" fragid="I15.i3.p1">
              <p>For the assignment problem with couples, what is the lower bound for approximation within the domain <Math mode="inline" xml:id="I15.i3.p1.m1" tex="\mathcal{P}^{S\geq C}" text="P ^ (S &gt;= C)" fragid="I15.i3.p1.m1"><XMath><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post3"/><XMTok role="UNKNOWN" font="caligraphic">P</XMTok><XMApp><XMTok meaning="greater-than-or-equals" name="geq" role="RELOP">≥</XMTok><XMTok role="UNKNOWN" font="italic">S</XMTok><XMTok role="UNKNOWN" font="italic">C</XMTok></XMApp></XMApp></XMath></Math> and with elements of <Math mode="inline" xml:id="I15.i3.p1.m2" tex="M" text="M" fragid="I15.i3.p1.m2"><XMath><XMTok role="UNKNOWN" font="italic">M</XMTok></XMath></Math> being “small”?</p>
            </para>
          </item>
          <item frefnum="4." refnum="4" xml:id="I15.i4" fragid="I15.i4">
            <tag>4.</tag>
            <para xml:id="I15.i4.p1" fragid="I15.i4.p1">
              <p>For the assignment problem with couples, our approximation algorithm and analysis assumed that couples must be matched to the same hospital. Can a similar approximation be found when couples can be in different hospitals within the same city?</p>
            </para>
          </item>
        </enumerate>
      </para>
      <pagination role="newpage"/>
      <pagination role="newpage"/>
    </subsection>
  </section>
  <bibliography citestyle="numbers" files="MatchingBibliography" xml:id="bib" fragid="bib">
    <title>Bibliography</title>
    <biblist xml:id="Document.L1" fragid="L1"/>
  </bibliography>
  <pagination role="newpage"/>
  <appendix frefnum="Appendix A" refnum="A" xml:id="A1" labels="LABEL:app:A" fragid="A1">
    <title><tag close=" ">Appendix A</tag>Linear programming technical explanation</title>
    <toctitle><tag close=" ">A</tag>Linear programming technical explanation</toctitle>
    <!-- %**** MasterThesis.tex Line 700 **** -->
    <para xml:id="A1.p1" fragid="A1.p1">
      <p>To represent the <text font="italic">individual rationality constraint</text>, Let <Math mode="inline" xml:id="A1.p1.m1" tex="m" text="m" fragid="A1.p1.m1"><XMath><XMTok role="UNKNOWN" font="italic">m</XMTok></XMath></Math> be the number of hospitals, we define Student <Math mode="inline" xml:id="A1.p1.m2" tex="i" text="i" fragid="A1.p1.m2"><XMath><XMTok role="UNKNOWN" font="italic">i</XMTok></XMath></Math>’s happiness prior to the trading stage as</p>
      <equation frefnum="(3)" refnum="3" xml:id="A1.E3" labels="LABEL:eq:happinessBefore" fragid="A1.E3">
        <Math mode="display" xml:id="A1.E3.m1" tex="h_{i}=p_{i,1}{m^{2}}+p_{i,2}{(m-1)^{2}}+p_{i,3}{(m-2)^{2}}+\ldots{}+p_{i,m}{1^%&#10;{2}}," text="h _ i = p _ (list@(i, 1)) * m ^ 2 + p _ (list@(i, 2)) * (m - 1) ^ 2 + p _ (list@(i, 3)) * (m - 2) ^ 2 + ldots + p _ (list@(i, m)) * 1 ^ 2" fragid="A1.E3.m1">
          <XMath>
            <XMApp punctuation=",">
              <XMTok meaning="equals" role="RELOP">=</XMTok>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post2"/>
                <XMTok role="UNKNOWN" font="italic">h</XMTok>
                <XMTok role="UNKNOWN" font="italic">i</XMTok>
              </XMApp>
              <XMApp>
                <XMTok meaning="plus" role="ADDOP">+</XMTok>
                <XMApp>
                  <XMTok meaning="times" role="MULOP">⁢</XMTok>
                  <XMApp>
                    <XMTok role="SUBSCRIPTOP" scriptpos="post2"/>
                    <XMTok role="UNKNOWN" font="italic">p</XMTok>
                    <XMDual>
                      <XMApp>
                        <XMTok meaning="list"/>
                        <XMRef idref="A1.E3.m1.1"/>
                        <XMRef idref="A1.E3.m1.2"/>
                      </XMApp>
                      <XMWrap>
                        <XMTok role="UNKNOWN" xml:id="A1.E3.m1.1" font="italic" fragid="A1.E3.m1.1">i</XMTok>
                        <XMTok role="PUNCT">,</XMTok>
                        <XMTok meaning="1" role="NUMBER" xml:id="A1.E3.m1.2" fragid="A1.E3.m1.2">1</XMTok>
                      </XMWrap>
                    </XMDual>
                  </XMApp>
                  <XMApp>
                    <XMTok role="SUPERSCRIPTOP" scriptpos="post3"/>
                    <XMTok role="UNKNOWN" font="italic">m</XMTok>
                    <XMTok meaning="2" role="NUMBER">2</XMTok>
                  </XMApp>
                </XMApp>
                <XMApp>
                  <XMTok meaning="times" role="MULOP">⁢</XMTok>
                  <XMApp>
                    <XMTok role="SUBSCRIPTOP" scriptpos="post2"/>
                    <XMTok role="UNKNOWN" font="italic">p</XMTok>
                    <XMDual>
                      <XMApp>
                        <XMTok meaning="list"/>
                        <XMRef idref="A1.E3.m1.3"/>
                        <XMRef idref="A1.E3.m1.4"/>
                      </XMApp>
                      <XMWrap>
                        <XMTok role="UNKNOWN" xml:id="A1.E3.m1.3" font="italic" fragid="A1.E3.m1.3">i</XMTok>
                        <XMTok role="PUNCT">,</XMTok>
                        <XMTok meaning="2" role="NUMBER" xml:id="A1.E3.m1.4" fragid="A1.E3.m1.4">2</XMTok>
                      </XMWrap>
                    </XMDual>
                  </XMApp>
                  <XMApp>
                    <XMTok role="SUPERSCRIPTOP" scriptpos="post3"/>
                    <XMDual>
                      <XMRef idref="A1.E3.m1.9"/>
                      <XMWrap>
                        <XMTok role="OPEN" stretchy="false">(</XMTok>
                        <XMApp xml:id="A1.E3.m1.9" fragid="A1.E3.m1.9">
                          <XMTok meaning="minus" role="ADDOP">-</XMTok>
                          <XMTok role="UNKNOWN" font="italic">m</XMTok>
                          <XMTok meaning="1" role="NUMBER">1</XMTok>
                        </XMApp>
                        <XMTok role="CLOSE" stretchy="false">)</XMTok>
                      </XMWrap>
                    </XMDual>
                    <XMTok meaning="2" role="NUMBER">2</XMTok>
                  </XMApp>
                </XMApp>
                <XMApp>
                  <XMTok meaning="times" role="MULOP">⁢</XMTok>
                  <XMApp>
                    <XMTok role="SUBSCRIPTOP" scriptpos="post2"/>
                    <XMTok role="UNKNOWN" font="italic">p</XMTok>
                    <XMDual>
                      <XMApp>
                        <XMTok meaning="list"/>
                        <XMRef idref="A1.E3.m1.5"/>
                        <XMRef idref="A1.E3.m1.6"/>
                      </XMApp>
                      <XMWrap>
                        <XMTok role="UNKNOWN" xml:id="A1.E3.m1.5" font="italic" fragid="A1.E3.m1.5">i</XMTok>
                        <XMTok role="PUNCT">,</XMTok>
                        <XMTok meaning="3" role="NUMBER" xml:id="A1.E3.m1.6" fragid="A1.E3.m1.6">3</XMTok>
                      </XMWrap>
                    </XMDual>
                  </XMApp>
                  <XMApp>
                    <XMTok role="SUPERSCRIPTOP" scriptpos="post3"/>
                    <XMDual>
                      <XMRef idref="A1.E3.m1.10"/>
                      <XMWrap>
                        <XMTok role="OPEN" stretchy="false">(</XMTok>
                        <XMApp xml:id="A1.E3.m1.10" fragid="A1.E3.m1.10">
                          <XMTok meaning="minus" role="ADDOP">-</XMTok>
                          <XMTok role="UNKNOWN" font="italic">m</XMTok>
                          <XMTok meaning="2" role="NUMBER">2</XMTok>
                        </XMApp>
                        <XMTok role="CLOSE" stretchy="false">)</XMTok>
                      </XMWrap>
                    </XMDual>
                    <XMTok meaning="2" role="NUMBER">2</XMTok>
                  </XMApp>
                </XMApp>
                <XMTok name="ldots" role="ID">…</XMTok>
                <XMApp>
                  <XMTok meaning="times" role="MULOP">⁢</XMTok>
                  <XMApp>
                    <XMTok role="SUBSCRIPTOP" scriptpos="post2"/>
                    <XMTok role="UNKNOWN" font="italic">p</XMTok>
                    <XMDual>
                      <XMApp>
                        <XMTok meaning="list"/>
                        <XMRef idref="A1.E3.m1.7"/>
                        <XMRef idref="A1.E3.m1.8"/>
                      </XMApp>
                      <XMWrap>
                        <XMTok role="UNKNOWN" xml:id="A1.E3.m1.7" font="italic" fragid="A1.E3.m1.7">i</XMTok>
                        <XMTok role="PUNCT">,</XMTok>
                        <XMTok role="UNKNOWN" xml:id="A1.E3.m1.8" font="italic" fragid="A1.E3.m1.8">m</XMTok>
                      </XMWrap>
                    </XMDual>
                  </XMApp>
                  <XMApp>
                    <XMTok role="SUPERSCRIPTOP" scriptpos="post3"/>
                    <XMTok meaning="1" role="NUMBER">1</XMTok>
                    <XMTok meaning="2" role="NUMBER">2</XMTok>
                  </XMApp>
                </XMApp>
              </XMApp>
            </XMApp>
          </XMath>
        </Math>
      </equation>
      <p>i.e., a function that represents students’ strong preference to get to their top ranked hospitals. If the probabilities we get after the trading stage are <Math mode="inline" xml:id="A1.p1.m3" tex="\hat{p}_{i,k}" text="(hat@(p)) _ (list@(i, k))" fragid="A1.p1.m3"><XMath><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post2"/><XMApp><XMTok name="hat" role="OVERACCENT" stretchy="false">^</XMTok><XMTok role="UNKNOWN" font="italic">p</XMTok></XMApp><XMDual><XMApp><XMTok meaning="list"/><XMRef idref="A1.p1.m3.1"/><XMRef idref="A1.p1.m3.2"/></XMApp><XMWrap><XMTok role="UNKNOWN" xml:id="A1.p1.m3.1" font="italic" fragid="A1.p1.m3.1">i</XMTok><XMTok role="PUNCT">,</XMTok><XMTok role="UNKNOWN" xml:id="A1.p1.m3.2" font="italic" fragid="A1.p1.m3.2">k</XMTok></XMWrap></XMDual></XMApp></XMath></Math> (as defined in Eq. <ref labelref="LABEL:eq:prob" href="#S3.E1" title="(1) ‣ 3.1 Description of the new lottery ‣ 3 The new mechanism"><text class="ltx_ref_tag">1</text></ref>), then we define the happiness following the optimization as</p>
      <equation frefnum="(4)" refnum="4" xml:id="A1.E4" labels="LABEL:eq:happinessAfter" fragid="A1.E4">
        <Math mode="display" xml:id="A1.E4.m1" tex="\hat{h}_{i}=\hat{p}_{i,1}{m^{2}}+\hat{p}_{i,2}{(m-1)^{2}}+\hat{p}_{i,3}{(m-2)^%&#10;{2}}+...+\hat{p}_{i,m}{1^{2}}." text="(hat@(h)) _ i = (hat@(p)) _ (list@(i, 1)) * m ^ 2 + (hat@(p)) _ (list@(i, 2)) * (m - 1) ^ 2 + (hat@(p)) _ (list@(i, 3)) * (m - 2) ^ 2 + ldots + (hat@(p)) _ (list@(i, m)) * 1 ^ 2" fragid="A1.E4.m1">
          <XMath>
            <XMApp punctuation=".">
              <XMTok meaning="equals" role="RELOP">=</XMTok>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post2"/>
                <XMApp>
                  <XMTok name="hat" role="OVERACCENT" stretchy="false">^</XMTok>
                  <XMTok role="UNKNOWN" font="italic">h</XMTok>
                </XMApp>
                <XMTok role="UNKNOWN" font="italic">i</XMTok>
              </XMApp>
              <XMApp>
                <XMTok meaning="plus" role="ADDOP">+</XMTok>
                <XMApp>
                  <XMTok meaning="times" role="MULOP">⁢</XMTok>
                  <XMApp>
                    <XMTok role="SUBSCRIPTOP" scriptpos="post2"/>
                    <XMApp>
                      <XMTok name="hat" role="OVERACCENT" stretchy="false">^</XMTok>
                      <XMTok role="UNKNOWN" font="italic">p</XMTok>
                    </XMApp>
                    <XMDual>
                      <XMApp>
                        <XMTok meaning="list"/>
                        <XMRef idref="A1.E4.m1.1"/>
                        <XMRef idref="A1.E4.m1.2"/>
                      </XMApp>
                      <XMWrap>
                        <XMTok role="UNKNOWN" xml:id="A1.E4.m1.1" font="italic" fragid="A1.E4.m1.1">i</XMTok>
                        <XMTok role="PUNCT">,</XMTok>
                        <XMTok meaning="1" role="NUMBER" xml:id="A1.E4.m1.2" fragid="A1.E4.m1.2">1</XMTok>
                      </XMWrap>
                    </XMDual>
                  </XMApp>
                  <XMApp>
                    <XMTok role="SUPERSCRIPTOP" scriptpos="post3"/>
                    <XMTok role="UNKNOWN" font="italic">m</XMTok>
                    <XMTok meaning="2" role="NUMBER">2</XMTok>
                  </XMApp>
                </XMApp>
                <XMApp>
                  <XMTok meaning="times" role="MULOP">⁢</XMTok>
                  <XMApp>
                    <XMTok role="SUBSCRIPTOP" scriptpos="post2"/>
                    <XMApp>
                      <XMTok name="hat" role="OVERACCENT" stretchy="false">^</XMTok>
                      <XMTok role="UNKNOWN" font="italic">p</XMTok>
                    </XMApp>
                    <XMDual>
                      <XMApp>
                        <XMTok meaning="list"/>
                        <XMRef idref="A1.E4.m1.3"/>
                        <XMRef idref="A1.E4.m1.4"/>
                      </XMApp>
                      <XMWrap>
                        <XMTok role="UNKNOWN" xml:id="A1.E4.m1.3" font="italic" fragid="A1.E4.m1.3">i</XMTok>
                        <XMTok role="PUNCT">,</XMTok>
                        <XMTok meaning="2" role="NUMBER" xml:id="A1.E4.m1.4" fragid="A1.E4.m1.4">2</XMTok>
                      </XMWrap>
                    </XMDual>
                  </XMApp>
                  <XMApp>
                    <XMTok role="SUPERSCRIPTOP" scriptpos="post3"/>
                    <XMDual>
                      <XMRef idref="A1.E4.m1.9"/>
                      <XMWrap>
                        <XMTok role="OPEN" stretchy="false">(</XMTok>
                        <XMApp xml:id="A1.E4.m1.9" fragid="A1.E4.m1.9">
                          <XMTok meaning="minus" role="ADDOP">-</XMTok>
                          <XMTok role="UNKNOWN" font="italic">m</XMTok>
                          <XMTok meaning="1" role="NUMBER">1</XMTok>
                        </XMApp>
                        <XMTok role="CLOSE" stretchy="false">)</XMTok>
                      </XMWrap>
                    </XMDual>
                    <XMTok meaning="2" role="NUMBER">2</XMTok>
                  </XMApp>
                </XMApp>
                <XMApp>
                  <XMTok meaning="times" role="MULOP">⁢</XMTok>
                  <XMApp>
                    <XMTok role="SUBSCRIPTOP" scriptpos="post2"/>
                    <XMApp>
                      <XMTok name="hat" role="OVERACCENT" stretchy="false">^</XMTok>
                      <XMTok role="UNKNOWN" font="italic">p</XMTok>
                    </XMApp>
                    <XMDual>
                      <XMApp>
                        <XMTok meaning="list"/>
                        <XMRef idref="A1.E4.m1.5"/>
                        <XMRef idref="A1.E4.m1.6"/>
                      </XMApp>
                      <XMWrap>
                        <XMTok role="UNKNOWN" xml:id="A1.E4.m1.5" font="italic" fragid="A1.E4.m1.5">i</XMTok>
                        <XMTok role="PUNCT">,</XMTok>
                        <XMTok meaning="3" role="NUMBER" xml:id="A1.E4.m1.6" fragid="A1.E4.m1.6">3</XMTok>
                      </XMWrap>
                    </XMDual>
                  </XMApp>
                  <XMApp>
                    <XMTok role="SUPERSCRIPTOP" scriptpos="post3"/>
                    <XMDual>
                      <XMRef idref="A1.E4.m1.10"/>
                      <XMWrap>
                        <XMTok role="OPEN" stretchy="false">(</XMTok>
                        <XMApp xml:id="A1.E4.m1.10" fragid="A1.E4.m1.10">
                          <XMTok meaning="minus" role="ADDOP">-</XMTok>
                          <XMTok role="UNKNOWN" font="italic">m</XMTok>
                          <XMTok meaning="2" role="NUMBER">2</XMTok>
                        </XMApp>
                        <XMTok role="CLOSE" stretchy="false">)</XMTok>
                      </XMWrap>
                    </XMDual>
                    <XMTok meaning="2" role="NUMBER">2</XMTok>
                  </XMApp>
                </XMApp>
                <XMTok name="ldots" role="ID">…</XMTok>
                <XMApp>
                  <XMTok meaning="times" role="MULOP">⁢</XMTok>
                  <XMApp>
                    <XMTok role="SUBSCRIPTOP" scriptpos="post2"/>
                    <XMApp>
                      <XMTok name="hat" role="OVERACCENT" stretchy="false">^</XMTok>
                      <XMTok role="UNKNOWN" font="italic">p</XMTok>
                    </XMApp>
                    <XMDual>
                      <XMApp>
                        <XMTok meaning="list"/>
                        <XMRef idref="A1.E4.m1.7"/>
                        <XMRef idref="A1.E4.m1.8"/>
                      </XMApp>
                      <XMWrap>
                        <XMTok role="UNKNOWN" xml:id="A1.E4.m1.7" font="italic" fragid="A1.E4.m1.7">i</XMTok>
                        <XMTok role="PUNCT">,</XMTok>
                        <XMTok role="UNKNOWN" xml:id="A1.E4.m1.8" font="italic" fragid="A1.E4.m1.8">m</XMTok>
                      </XMWrap>
                    </XMDual>
                  </XMApp>
                  <XMApp>
                    <XMTok role="SUPERSCRIPTOP" scriptpos="post3"/>
                    <XMTok meaning="1" role="NUMBER">1</XMTok>
                    <XMTok meaning="2" role="NUMBER">2</XMTok>
                  </XMApp>
                </XMApp>
              </XMApp>
            </XMApp>
          </XMath>
        </Math>
      </equation>
      <p>Now our constraints are <Math mode="inline" xml:id="A1.p1.m4" tex="\hat{h}_{i}\geq h_{i}" text="(hat@(h)) _ i &gt;= h _ i" fragid="A1.p1.m4"><XMath><XMApp><XMTok meaning="greater-than-or-equals" name="geq" role="RELOP">≥</XMTok><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post2"/><XMApp><XMTok name="hat" role="OVERACCENT" stretchy="false">^</XMTok><XMTok role="UNKNOWN" font="italic">h</XMTok></XMApp><XMTok role="UNKNOWN" font="italic">i</XMTok></XMApp><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post2"/><XMTok role="UNKNOWN" font="italic">h</XMTok><XMTok role="UNKNOWN" font="italic">i</XMTok></XMApp></XMApp></XMath></Math> for every student <Math mode="inline" xml:id="A1.p1.m5" tex="i" text="i" fragid="A1.p1.m5"><XMath><XMTok role="UNKNOWN" font="italic">i</XMTok></XMath></Math>.</p>
    </para>
    <para xml:id="A1.p2" fragid="A1.p2">
      <p>Regarding the target function, as described in the Methods section, we want to maximize the total satisfaction of the students after trading. Letting <Math mode="inline" xml:id="A1.p2.m1" tex="n" text="n" fragid="A1.p2.m1"><XMath><XMTok role="UNKNOWN" font="italic">n</XMTok></XMath></Math> denote the number of students (in 2014, <Math mode="inline" xml:id="A1.p2.m2" tex="n=496" text="n = 496" fragid="A1.p2.m2"><XMath><XMApp><XMTok meaning="equals" role="RELOP">=</XMTok><XMTok role="UNKNOWN" font="italic">n</XMTok><XMTok meaning="496" role="NUMBER">496</XMTok></XMApp></XMath></Math>), our optimization goal is going to be</p>
      <equation frefnum="(5)" refnum="5" xml:id="A1.E5" labels="LABEL:eq:target2" fragid="A1.E5">
        <Math mode="display" xml:id="A1.E5.m1" tex="\max\sum_{i=1}^{n}{\hat{h}_{i}}=\hat{h}_{1}+\hat{h}_{2}+...+\hat{h}_{n}," text="maximum * ((sum _ (i = 1)) ^ n)@((hat@(h)) _ i) = (hat@(h)) _ 1 + (hat@(h)) _ 2 + ldots + (hat@(h)) _ n" fragid="A1.E5.m1">
          <XMath>
            <XMApp punctuation=",">
              <XMTok meaning="equals" role="RELOP">=</XMTok>
              <XMApp>
                <XMTok meaning="times" role="MULOP">⁢</XMTok>
                <XMTok meaning="maximum" role="OPFUNCTION" scriptpos="mid">max</XMTok>
                <XMApp>
                  <XMApp scriptpos="mid">
                    <XMTok role="SUPERSCRIPTOP" scriptpos="mid2"/>
                    <XMApp scriptpos="mid">
                      <XMTok role="SUBSCRIPTOP" scriptpos="mid2"/>
                      <XMTok mathstyle="display" meaning="sum" role="SUMOP" scriptpos="mid">∑</XMTok>
                      <XMApp>
                        <XMTok meaning="equals" role="RELOP">=</XMTok>
                        <XMTok role="UNKNOWN" font="italic">i</XMTok>
                        <XMTok meaning="1" role="NUMBER">1</XMTok>
                      </XMApp>
                    </XMApp>
                    <XMTok role="UNKNOWN" font="italic">n</XMTok>
                  </XMApp>
                  <XMApp>
                    <XMTok role="SUBSCRIPTOP" scriptpos="post3"/>
                    <XMApp>
                      <XMTok name="hat" role="OVERACCENT" stretchy="false">^</XMTok>
                      <XMTok role="UNKNOWN" font="italic">h</XMTok>
                    </XMApp>
                    <XMTok role="UNKNOWN" font="italic">i</XMTok>
                  </XMApp>
                </XMApp>
              </XMApp>
              <XMApp>
                <XMTok meaning="plus" role="ADDOP">+</XMTok>
                <XMApp>
                  <XMTok role="SUBSCRIPTOP" scriptpos="post2"/>
                  <XMApp>
                    <XMTok name="hat" role="OVERACCENT" stretchy="false">^</XMTok>
                    <XMTok role="UNKNOWN" font="italic">h</XMTok>
                  </XMApp>
                  <XMTok meaning="1" role="NUMBER">1</XMTok>
                </XMApp>
                <XMApp>
                  <XMTok role="SUBSCRIPTOP" scriptpos="post2"/>
                  <XMApp>
                    <XMTok name="hat" role="OVERACCENT" stretchy="false">^</XMTok>
                    <XMTok role="UNKNOWN" font="italic">h</XMTok>
                  </XMApp>
                  <XMTok meaning="2" role="NUMBER">2</XMTok>
                </XMApp>
                <XMTok name="ldots" role="ID">…</XMTok>
                <XMApp>
                  <XMTok role="SUBSCRIPTOP" scriptpos="post2"/>
                  <XMApp>
                    <XMTok name="hat" role="OVERACCENT" stretchy="false">^</XMTok>
                    <XMTok role="UNKNOWN" font="italic">h</XMTok>
                  </XMApp>
                  <XMTok role="UNKNOWN" font="italic">n</XMTok>
                </XMApp>
              </XMApp>
            </XMApp>
          </XMath>
        </Math>
      </equation>
      <p>that is, maximizing the sum of happiness for all interns. This target function, as well as the definition of happiness in Eq. <ref labelref="LABEL:eq:happinessBefore" href="#A1.E3" title="(3) ‣ Appendix A Linear programming technical explanation"><text class="ltx_ref_tag">3</text></ref>, was chosen following a survey filled by approximately 70 interns and 6th year medical students.
We note that using similar target functions and making small changes in the weights used to define happiness did not have a profound effect on the statistics of the assignment.</p>
    </para>
  </appendix>
  <appendix frefnum="Appendix B" refnum="B" xml:id="A2" labels="LABEL:apndx:small_probs" fragid="A2">
    <title><tag close=" ">Appendix B</tag>Lower Bound for small probabilities</title>
    <toctitle><tag close=" ">B</tag>Lower Bound for small probabilities</toctitle>
    <para xml:id="A2.p1" fragid="A2.p1">
      <p>Define an example with</p>
      <equationgroup class="ltx_eqn_align" xml:id="A2.EGx2" fragid="A2.EGx2">
        <equation xml:id="A2.Ex3" fragid="A2.Ex3">
          <MathFork>
            <Math xml:id="A2.Ex3.m3" tex="\displaystyle H=\left\{h_{1},\ldots,h_{2m},h^{\prime}_{1},\ldots,h^{\prime}_{2%&#10;m}\right\}," text="H = set@(h _ 1, ldots, h _ (2 * m), (h ^ prime) _ 1, ldots, (h ^ prime) _ (2 * m))" fragid="A2.Ex3.m3">
              <XMath>
                <XMApp punctuation=",">
                  <XMTok meaning="equals" role="RELOP">=</XMTok>
                  <XMTok role="UNKNOWN" font="italic">H</XMTok>
                  <XMDual>
                    <XMApp>
                      <XMTok meaning="set"/>
                      <XMRef idref="A2.Ex3.m3.3"/>
                      <XMRef idref="A2.Ex3.m3.1"/>
                      <XMRef idref="A2.Ex3.m3.4"/>
                      <XMRef idref="A2.Ex3.m3.5"/>
                      <XMRef idref="A2.Ex3.m3.2"/>
                      <XMRef idref="A2.Ex3.m3.6"/>
                    </XMApp>
                    <XMWrap>
                      <XMTok role="OPEN">{</XMTok>
                      <XMApp xml:id="A2.Ex3.m3.3" fragid="A2.Ex3.m3.3">
                        <XMTok role="SUBSCRIPTOP" scriptpos="post8"/>
                        <XMTok role="UNKNOWN" font="italic">h</XMTok>
                        <XMTok meaning="1" role="NUMBER">1</XMTok>
                      </XMApp>
                      <XMTok role="PUNCT">,</XMTok>
                      <XMTok name="ldots" role="ID" xml:id="A2.Ex3.m3.1" fragid="A2.Ex3.m3.1">…</XMTok>
                      <XMTok role="PUNCT">,</XMTok>
                      <XMApp xml:id="A2.Ex3.m3.4" fragid="A2.Ex3.m3.4">
                        <XMTok role="SUBSCRIPTOP" scriptpos="post8"/>
                        <XMTok role="UNKNOWN" font="italic">h</XMTok>
                        <XMApp>
                          <XMTok meaning="times" role="MULOP">⁢</XMTok>
                          <XMTok meaning="2" role="NUMBER">2</XMTok>
                          <XMTok role="UNKNOWN" font="italic">m</XMTok>
                        </XMApp>
                      </XMApp>
                      <XMTok role="PUNCT">,</XMTok>
                      <XMApp xml:id="A2.Ex3.m3.5" fragid="A2.Ex3.m3.5">
                        <XMTok role="SUBSCRIPTOP" scriptpos="post8"/>
                        <XMApp>
                          <XMTok role="SUPERSCRIPTOP" scriptpos="post8"/>
                          <XMTok role="UNKNOWN" font="italic">h</XMTok>
                          <XMTok name="prime" role="SUPOP">′</XMTok>
                        </XMApp>
                        <XMTok meaning="1" role="NUMBER">1</XMTok>
                      </XMApp>
                      <XMTok role="PUNCT">,</XMTok>
                      <XMTok name="ldots" role="ID" xml:id="A2.Ex3.m3.2" fragid="A2.Ex3.m3.2">…</XMTok>
                      <XMTok role="PUNCT">,</XMTok>
                      <XMApp xml:id="A2.Ex3.m3.6" fragid="A2.Ex3.m3.6">
                        <XMTok role="SUBSCRIPTOP" scriptpos="post8"/>
                        <XMApp>
                          <XMTok role="SUPERSCRIPTOP" scriptpos="post8"/>
                          <XMTok role="UNKNOWN" font="italic">h</XMTok>
                          <XMTok name="prime" role="SUPOP">′</XMTok>
                        </XMApp>
                        <XMApp>
                          <XMTok meaning="times" role="MULOP">⁢</XMTok>
                          <XMTok meaning="2" role="NUMBER">2</XMTok>
                          <XMTok role="UNKNOWN" font="italic">m</XMTok>
                        </XMApp>
                      </XMApp>
                      <XMTok role="CLOSE">}</XMTok>
                    </XMWrap>
                  </XMDual>
                </XMApp>
              </XMath>
            </Math>
            <MathBranch>
              <td align="right">
                <Math mode="inline" tex="\displaystyle H" xml:id="A2.Ex3.m1" text="H" fragid="A2.Ex3.m1">
                  <XMath>
                    <XMTok role="UNKNOWN" font="italic">H</XMTok>
                  </XMath>
                </Math>
              </td>
              <td align="left">
                <Math mode="inline" tex="\displaystyle=\left\{h_{1},\ldots,h_{2m},h^{\prime}_{1},\ldots,h^{\prime}_{2m}%&#10;\right\}," xml:id="A2.Ex3.m2" text="absent = set@(h _ 1, ldots, h _ (2 * m), (h ^ prime) _ 1, ldots, (h ^ prime) _ (2 * m))" fragid="A2.Ex3.m2">
                  <XMath>
                    <XMApp punctuation=",">
                      <XMTok meaning="equals" role="RELOP">=</XMTok>
                      <XMTok meaning="absent"/>
                      <XMDual>
                        <XMApp>
                          <XMTok meaning="set"/>
                          <XMRef idref="A2.Ex3.m2.3"/>
                          <XMRef idref="A2.Ex3.m2.1"/>
                          <XMRef idref="A2.Ex3.m2.4"/>
                          <XMRef idref="A2.Ex3.m2.5"/>
                          <XMRef idref="A2.Ex3.m2.2"/>
                          <XMRef idref="A2.Ex3.m2.6"/>
                        </XMApp>
                        <XMWrap>
                          <XMTok role="OPEN">{</XMTok>
                          <XMApp xml:id="A2.Ex3.m2.3" fragid="A2.Ex3.m2.3">
                            <XMTok role="SUBSCRIPTOP" scriptpos="post8"/>
                            <XMTok role="UNKNOWN" font="italic">h</XMTok>
                            <XMTok meaning="1" role="NUMBER">1</XMTok>
                          </XMApp>
                          <XMTok role="PUNCT">,</XMTok>
                          <XMTok name="ldots" role="ID" xml:id="A2.Ex3.m2.1" fragid="A2.Ex3.m2.1">…</XMTok>
                          <XMTok role="PUNCT">,</XMTok>
                          <XMApp xml:id="A2.Ex3.m2.4" fragid="A2.Ex3.m2.4">
                            <XMTok role="SUBSCRIPTOP" scriptpos="post8"/>
                            <XMTok role="UNKNOWN" font="italic">h</XMTok>
                            <XMApp>
                              <XMTok meaning="times" role="MULOP">⁢</XMTok>
                              <XMTok meaning="2" role="NUMBER">2</XMTok>
                              <XMTok role="UNKNOWN" font="italic">m</XMTok>
                            </XMApp>
                          </XMApp>
                          <XMTok role="PUNCT">,</XMTok>
                          <XMApp xml:id="A2.Ex3.m2.5" fragid="A2.Ex3.m2.5">
                            <XMTok role="SUBSCRIPTOP" scriptpos="post8"/>
                            <XMApp>
                              <XMTok role="SUPERSCRIPTOP" scriptpos="post8"/>
                              <XMTok role="UNKNOWN" font="italic">h</XMTok>
                              <XMTok name="prime" role="SUPOP">′</XMTok>
                            </XMApp>
                            <XMTok meaning="1" role="NUMBER">1</XMTok>
                          </XMApp>
                          <XMTok role="PUNCT">,</XMTok>
                          <XMTok name="ldots" role="ID" xml:id="A2.Ex3.m2.2" fragid="A2.Ex3.m2.2">…</XMTok>
                          <XMTok role="PUNCT">,</XMTok>
                          <XMApp xml:id="A2.Ex3.m2.6" fragid="A2.Ex3.m2.6">
                            <XMTok role="SUBSCRIPTOP" scriptpos="post8"/>
                            <XMApp>
                              <XMTok role="SUPERSCRIPTOP" scriptpos="post8"/>
                              <XMTok role="UNKNOWN" font="italic">h</XMTok>
                              <XMTok name="prime" role="SUPOP">′</XMTok>
                            </XMApp>
                            <XMApp>
                              <XMTok meaning="times" role="MULOP">⁢</XMTok>
                              <XMTok meaning="2" role="NUMBER">2</XMTok>
                              <XMTok role="UNKNOWN" font="italic">m</XMTok>
                            </XMApp>
                          </XMApp>
                          <XMTok role="CLOSE">}</XMTok>
                        </XMWrap>
                      </XMDual>
                    </XMApp>
                  </XMath>
                </Math>
              </td>
            </MathBranch>
          </MathFork>
        </equation>
        <equation xml:id="A2.Ex4" fragid="A2.Ex4">
          <MathFork>
            <Math xml:id="A2.Ex4.m3" tex="\displaystyle S=\{s_{1},\ldots,s_{2m(2k+1)}\},\text{and}" text="S = list@(set@(s _ 1, ldots, s _ (2 * m * (2 * k + 1))), [and])" fragid="A2.Ex4.m3">
              <XMath>
                <XMApp>
                  <XMTok meaning="equals" role="RELOP">=</XMTok>
                  <XMTok role="UNKNOWN" font="italic">S</XMTok>
                  <XMDual>
                    <XMApp>
                      <XMTok meaning="list"/>
                      <XMRef idref="A2.Ex4.m3.4"/>
                      <XMRef idref="A2.Ex4.m3.3"/>
                    </XMApp>
                    <XMWrap>
                      <XMDual xml:id="A2.Ex4.m3.4" fragid="A2.Ex4.m3.4">
                        <XMApp>
                          <XMTok meaning="set"/>
                          <XMRef idref="A2.Ex4.m3.4.1"/>
                          <XMRef idref="A2.Ex4.m3.2"/>
                          <XMRef idref="A2.Ex4.m3.4.2"/>
                        </XMApp>
                        <XMWrap>
                          <XMTok role="OPEN" stretchy="false">{</XMTok>
                          <XMApp xml:id="A2.Ex4.m3.4.1" fragid="A2.Ex4.m3.4.1">
                            <XMTok role="SUBSCRIPTOP" scriptpos="post7"/>
                            <XMTok role="UNKNOWN" font="italic">s</XMTok>
                            <XMTok meaning="1" role="NUMBER">1</XMTok>
                          </XMApp>
                          <XMTok role="PUNCT">,</XMTok>
                          <XMTok name="ldots" role="ID" xml:id="A2.Ex4.m3.2" fragid="A2.Ex4.m3.2">…</XMTok>
                          <XMTok role="PUNCT">,</XMTok>
                          <XMApp xml:id="A2.Ex4.m3.4.2" fragid="A2.Ex4.m3.4.2">
                            <XMTok role="SUBSCRIPTOP" scriptpos="post7"/>
                            <XMTok role="UNKNOWN" font="italic">s</XMTok>
                            <XMApp>
                              <XMTok meaning="times" role="MULOP">⁢</XMTok>
                              <XMTok meaning="2" role="NUMBER">2</XMTok>
                              <XMTok role="UNKNOWN" font="italic">m</XMTok>
                              <XMDual>
                                <XMRef idref="A2.Ex4.m3.1"/>
                                <XMWrap>
                                  <XMTok role="OPEN" stretchy="false">(</XMTok>
                                  <XMApp xml:id="A2.Ex4.m3.1" fragid="A2.Ex4.m3.1">
                                    <XMTok meaning="plus" role="ADDOP">+</XMTok>
                                    <XMApp>
                                      <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                      <XMTok meaning="2" role="NUMBER">2</XMTok>
                                      <XMTok role="UNKNOWN" font="italic">k</XMTok>
                                    </XMApp>
                                    <XMTok meaning="1" role="NUMBER">1</XMTok>
                                  </XMApp>
                                  <XMTok role="CLOSE" stretchy="false">)</XMTok>
                                </XMWrap>
                              </XMDual>
                            </XMApp>
                          </XMApp>
                          <XMTok role="CLOSE" stretchy="false">}</XMTok>
                        </XMWrap>
                      </XMDual>
                      <XMTok role="PUNCT">,</XMTok>
                      <XMText xml:id="A2.Ex4.m3.3" fragid="A2.Ex4.m3.3">and</XMText>
                    </XMWrap>
                  </XMDual>
                </XMApp>
              </XMath>
            </Math>
            <MathBranch>
              <td align="right">
                <Math mode="inline" tex="\displaystyle S" xml:id="A2.Ex4.m1" text="S" fragid="A2.Ex4.m1">
                  <XMath>
                    <XMTok role="UNKNOWN" font="italic">S</XMTok>
                  </XMath>
                </Math>
              </td>
              <td align="left">
                <Math mode="inline" tex="\displaystyle=\{s_{1},\ldots,s_{2m(2k+1)}\},\text{and}" xml:id="A2.Ex4.m2" text="absent = list@(set@(s _ 1, ldots, s _ (2 * m * (2 * k + 1))), [and])" fragid="A2.Ex4.m2">
                  <XMath>
                    <XMApp>
                      <XMTok meaning="equals" role="RELOP">=</XMTok>
                      <XMTok meaning="absent"/>
                      <XMDual>
                        <XMApp>
                          <XMTok meaning="list"/>
                          <XMRef idref="A2.Ex4.m2.4"/>
                          <XMRef idref="A2.Ex4.m2.3"/>
                        </XMApp>
                        <XMWrap>
                          <XMDual xml:id="A2.Ex4.m2.4" fragid="A2.Ex4.m2.4">
                            <XMApp>
                              <XMTok meaning="set"/>
                              <XMRef idref="A2.Ex4.m2.4.1"/>
                              <XMRef idref="A2.Ex4.m2.2"/>
                              <XMRef idref="A2.Ex4.m2.4.2"/>
                            </XMApp>
                            <XMWrap>
                              <XMTok role="OPEN" stretchy="false">{</XMTok>
                              <XMApp xml:id="A2.Ex4.m2.4.1" fragid="A2.Ex4.m2.4.1">
                                <XMTok role="SUBSCRIPTOP" scriptpos="post7"/>
                                <XMTok role="UNKNOWN" font="italic">s</XMTok>
                                <XMTok meaning="1" role="NUMBER">1</XMTok>
                              </XMApp>
                              <XMTok role="PUNCT">,</XMTok>
                              <XMTok name="ldots" role="ID" xml:id="A2.Ex4.m2.2" fragid="A2.Ex4.m2.2">…</XMTok>
                              <XMTok role="PUNCT">,</XMTok>
                              <XMApp xml:id="A2.Ex4.m2.4.2" fragid="A2.Ex4.m2.4.2">
                                <XMTok role="SUBSCRIPTOP" scriptpos="post7"/>
                                <XMTok role="UNKNOWN" font="italic">s</XMTok>
                                <XMApp>
                                  <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                  <XMTok meaning="2" role="NUMBER">2</XMTok>
                                  <XMTok role="UNKNOWN" font="italic">m</XMTok>
                                  <XMDual>
                                    <XMRef idref="A2.Ex4.m2.1"/>
                                    <XMWrap>
                                      <XMTok role="OPEN" stretchy="false">(</XMTok>
                                      <XMApp xml:id="A2.Ex4.m2.1" fragid="A2.Ex4.m2.1">
                                        <XMTok meaning="plus" role="ADDOP">+</XMTok>
                                        <XMApp>
                                          <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                          <XMTok meaning="2" role="NUMBER">2</XMTok>
                                          <XMTok role="UNKNOWN" font="italic">k</XMTok>
                                        </XMApp>
                                        <XMTok meaning="1" role="NUMBER">1</XMTok>
                                      </XMApp>
                                      <XMTok role="CLOSE" stretchy="false">)</XMTok>
                                    </XMWrap>
                                  </XMDual>
                                </XMApp>
                              </XMApp>
                              <XMTok role="CLOSE" stretchy="false">}</XMTok>
                            </XMWrap>
                          </XMDual>
                          <XMTok role="PUNCT">,</XMTok>
                          <XMText xml:id="A2.Ex4.m2.3" fragid="A2.Ex4.m2.3">and</XMText>
                        </XMWrap>
                      </XMDual>
                    </XMApp>
                  </XMath>
                </Math>
              </td>
            </MathBranch>
          </MathFork>
        </equation>
        <equation xml:id="A2.Ex5" fragid="A2.Ex5">
          <MathFork>
            <Math xml:id="A2.Ex5.m3" tex="\displaystyle C=\{c_{1},\ldots,c_{(2k+1)m}\}," text="C = set@(c _ 1, ldots, c _ ((2 * k + 1) * m))" fragid="A2.Ex5.m3">
              <XMath>
                <XMApp punctuation=",">
                  <XMTok meaning="equals" role="RELOP">=</XMTok>
                  <XMTok role="UNKNOWN" font="italic">C</XMTok>
                  <XMDual>
                    <XMApp>
                      <XMTok meaning="set"/>
                      <XMRef idref="A2.Ex5.m3.3"/>
                      <XMRef idref="A2.Ex5.m3.2"/>
                      <XMRef idref="A2.Ex5.m3.4"/>
                    </XMApp>
                    <XMWrap>
                      <XMTok role="OPEN" stretchy="false">{</XMTok>
                      <XMApp xml:id="A2.Ex5.m3.3" fragid="A2.Ex5.m3.3">
                        <XMTok role="SUBSCRIPTOP" scriptpos="post7"/>
                        <XMTok role="UNKNOWN" font="italic">c</XMTok>
                        <XMTok meaning="1" role="NUMBER">1</XMTok>
                      </XMApp>
                      <XMTok role="PUNCT">,</XMTok>
                      <XMTok name="ldots" role="ID" xml:id="A2.Ex5.m3.2" fragid="A2.Ex5.m3.2">…</XMTok>
                      <XMTok role="PUNCT">,</XMTok>
                      <XMApp xml:id="A2.Ex5.m3.4" fragid="A2.Ex5.m3.4">
                        <XMTok role="SUBSCRIPTOP" scriptpos="post7"/>
                        <XMTok role="UNKNOWN" font="italic">c</XMTok>
                        <XMApp>
                          <XMTok meaning="times" role="MULOP">⁢</XMTok>
                          <XMDual>
                            <XMRef idref="A2.Ex5.m3.1"/>
                            <XMWrap>
                              <XMTok role="OPEN" stretchy="false">(</XMTok>
                              <XMApp xml:id="A2.Ex5.m3.1" fragid="A2.Ex5.m3.1">
                                <XMTok meaning="plus" role="ADDOP">+</XMTok>
                                <XMApp>
                                  <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                  <XMTok meaning="2" role="NUMBER">2</XMTok>
                                  <XMTok role="UNKNOWN" font="italic">k</XMTok>
                                </XMApp>
                                <XMTok meaning="1" role="NUMBER">1</XMTok>
                              </XMApp>
                              <XMTok role="CLOSE" stretchy="false">)</XMTok>
                            </XMWrap>
                          </XMDual>
                          <XMTok role="UNKNOWN" font="italic">m</XMTok>
                        </XMApp>
                      </XMApp>
                      <XMTok role="CLOSE" stretchy="false">}</XMTok>
                    </XMWrap>
                  </XMDual>
                </XMApp>
              </XMath>
            </Math>
            <MathBranch>
              <td align="right">
                <Math mode="inline" tex="\displaystyle C" xml:id="A2.Ex5.m1" text="C" fragid="A2.Ex5.m1">
                  <XMath>
                    <XMTok role="UNKNOWN" font="italic">C</XMTok>
                  </XMath>
                </Math>
              </td>
              <td align="left">
                <Math mode="inline" tex="\displaystyle=\{c_{1},\ldots,c_{(2k+1)m}\}," xml:id="A2.Ex5.m2" text="absent = set@(c _ 1, ldots, c _ ((2 * k + 1) * m))" fragid="A2.Ex5.m2">
                  <XMath>
                    <XMApp punctuation=",">
                      <XMTok meaning="equals" role="RELOP">=</XMTok>
                      <XMTok meaning="absent"/>
                      <XMDual>
                        <XMApp>
                          <XMTok meaning="set"/>
                          <XMRef idref="A2.Ex5.m2.3"/>
                          <XMRef idref="A2.Ex5.m2.2"/>
                          <XMRef idref="A2.Ex5.m2.4"/>
                        </XMApp>
                        <XMWrap>
                          <XMTok role="OPEN" stretchy="false">{</XMTok>
                          <XMApp xml:id="A2.Ex5.m2.3" fragid="A2.Ex5.m2.3">
                            <XMTok role="SUBSCRIPTOP" scriptpos="post7"/>
                            <XMTok role="UNKNOWN" font="italic">c</XMTok>
                            <XMTok meaning="1" role="NUMBER">1</XMTok>
                          </XMApp>
                          <XMTok role="PUNCT">,</XMTok>
                          <XMTok name="ldots" role="ID" xml:id="A2.Ex5.m2.2" fragid="A2.Ex5.m2.2">…</XMTok>
                          <XMTok role="PUNCT">,</XMTok>
                          <XMApp xml:id="A2.Ex5.m2.4" fragid="A2.Ex5.m2.4">
                            <XMTok role="SUBSCRIPTOP" scriptpos="post7"/>
                            <XMTok role="UNKNOWN" font="italic">c</XMTok>
                            <XMApp>
                              <XMTok meaning="times" role="MULOP">⁢</XMTok>
                              <XMDual>
                                <XMRef idref="A2.Ex5.m2.1"/>
                                <XMWrap>
                                  <XMTok role="OPEN" stretchy="false">(</XMTok>
                                  <XMApp xml:id="A2.Ex5.m2.1" fragid="A2.Ex5.m2.1">
                                    <XMTok meaning="plus" role="ADDOP">+</XMTok>
                                    <XMApp>
                                      <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                      <XMTok meaning="2" role="NUMBER">2</XMTok>
                                      <XMTok role="UNKNOWN" font="italic">k</XMTok>
                                    </XMApp>
                                    <XMTok meaning="1" role="NUMBER">1</XMTok>
                                  </XMApp>
                                  <XMTok role="CLOSE" stretchy="false">)</XMTok>
                                </XMWrap>
                              </XMDual>
                              <XMTok role="UNKNOWN" font="italic">m</XMTok>
                            </XMApp>
                          </XMApp>
                          <XMTok role="CLOSE" stretchy="false">}</XMTok>
                        </XMWrap>
                      </XMDual>
                    </XMApp>
                  </XMath>
                </Math>
              </td>
            </MathBranch>
          </MathFork>
        </equation>
      </equationgroup>
      <p>where <Math mode="inline" xml:id="A2.p1.m1" tex="m" text="m" fragid="A2.p1.m1"><XMath><XMTok role="UNKNOWN" font="italic">m</XMTok></XMath></Math> and <Math mode="inline" xml:id="A2.p1.m2" tex="k" text="k" fragid="A2.p1.m2"><XMath><XMTok role="UNKNOWN" font="italic">k</XMTok></XMath></Math> are integers. Consider the target matrix <Math mode="inline" xml:id="A2.p1.m3" tex="M\in\mathcal{P}^{S\geq C}" text="M element-of P ^ (S &gt;= C)" fragid="A2.p1.m3"><XMath><XMApp><XMTok meaning="element-of" name="in" role="RELOP">∈</XMTok><XMTok role="UNKNOWN" font="italic">M</XMTok><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post2"/><XMTok role="UNKNOWN" font="caligraphic">P</XMTok><XMApp><XMTok meaning="greater-than-or-equals" name="geq" role="RELOP">≥</XMTok><XMTok role="UNKNOWN" font="italic">S</XMTok><XMTok role="UNKNOWN" font="italic">C</XMTok></XMApp></XMApp></XMApp></XMath></Math> described in Table II. Under this stochastic assignment matrix each single intern in <Math mode="inline" xml:id="A2.p1.m4" tex="S" text="S" fragid="A2.p1.m4"><XMath><XMTok role="UNKNOWN" font="italic">S</XMTok></XMath></Math> gets a probability <Math mode="inline" xml:id="A2.p1.m5" tex="\frac{1}{2m}" text="1 / (2 * m)" fragid="A2.p1.m5"><XMath><XMApp><XMTok mathstyle="text" meaning="divide" role="MULOP"/><XMTok meaning="1" role="NUMBER">1</XMTok><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok><XMTok role="UNKNOWN" font="italic">m</XMTok></XMApp></XMApp></XMath></Math> to be assigned to each hospital in <Math mode="inline" xml:id="A2.p1.m6" tex="\{h^{\prime}_{1},\ldots,h^{\prime}_{2m}\}" text="set@((h ^ prime) _ 1, ldots, (h ^ prime) _ (2 * m))" fragid="A2.p1.m6"><XMath><XMDual><XMApp><XMTok meaning="set"/><XMRef idref="A2.p1.m6.2"/><XMRef idref="A2.p1.m6.1"/><XMRef idref="A2.p1.m6.3"/></XMApp><XMWrap><XMTok role="OPEN" stretchy="false">{</XMTok><XMApp xml:id="A2.p1.m6.2" fragid="A2.p1.m6.2"><XMTok role="SUBSCRIPTOP" scriptpos="post2"/><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post2"/><XMTok role="UNKNOWN" font="italic">h</XMTok><XMTok name="prime" role="SUPOP">′</XMTok></XMApp><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp><XMTok role="PUNCT">,</XMTok><XMTok name="ldots" role="ID" xml:id="A2.p1.m6.1" fragid="A2.p1.m6.1">…</XMTok><XMTok role="PUNCT">,</XMTok><XMApp xml:id="A2.p1.m6.3" fragid="A2.p1.m6.3"><XMTok role="SUBSCRIPTOP" scriptpos="post2"/><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post2"/><XMTok role="UNKNOWN" font="italic">h</XMTok><XMTok name="prime" role="SUPOP">′</XMTok></XMApp><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok><XMTok role="UNKNOWN" font="italic">m</XMTok></XMApp></XMApp><XMTok role="CLOSE" stretchy="false">}</XMTok></XMWrap></XMDual></XMath></Math>, and each couple in <Math mode="inline" xml:id="A2.p1.m7" tex="C" text="C" fragid="A2.p1.m7"><XMath><XMTok role="UNKNOWN" font="italic">C</XMTok></XMath></Math> gets a probability of <Math mode="inline" xml:id="A2.p1.m8" tex="\frac{1}{2m}" text="1 / (2 * m)" fragid="A2.p1.m8"><XMath><XMApp><XMTok mathstyle="text" meaning="divide" role="MULOP"/><XMTok meaning="1" role="NUMBER">1</XMTok><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok><XMTok role="UNKNOWN" font="italic">m</XMTok></XMApp></XMApp></XMath></Math> to be assigned to each hospital in <Math mode="inline" xml:id="A2.p1.m9" tex="\{h_{1},\ldots,h_{2m}\}" text="set@(h _ 1, ldots, h _ (2 * m))" fragid="A2.p1.m9"><XMath><XMDual><XMApp><XMTok meaning="set"/><XMRef idref="A2.p1.m9.2"/><XMRef idref="A2.p1.m9.1"/><XMRef idref="A2.p1.m9.3"/></XMApp><XMWrap><XMTok role="OPEN" stretchy="false">{</XMTok><XMApp xml:id="A2.p1.m9.2" fragid="A2.p1.m9.2"><XMTok role="SUBSCRIPTOP" scriptpos="post2"/><XMTok role="UNKNOWN" font="italic">h</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp><XMTok role="PUNCT">,</XMTok><XMTok name="ldots" role="ID" xml:id="A2.p1.m9.1" fragid="A2.p1.m9.1">…</XMTok><XMTok role="PUNCT">,</XMTok><XMApp xml:id="A2.p1.m9.3" fragid="A2.p1.m9.3"><XMTok role="SUBSCRIPTOP" scriptpos="post2"/><XMTok role="UNKNOWN" font="italic">h</XMTok><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok><XMTok role="UNKNOWN" font="italic">m</XMTok></XMApp></XMApp><XMTok role="CLOSE" stretchy="false">}</XMTok></XMWrap></XMDual></XMath></Math>. One can verify that the capacity of every hospital is <Math mode="inline" xml:id="A2.p1.m10" tex="2k+1" text="2 * k + 1" fragid="A2.p1.m10"><XMath><XMApp><XMTok meaning="plus" role="ADDOP">+</XMTok><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok><XMTok role="UNKNOWN" font="italic">k</XMTok></XMApp><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp></XMath></Math>.</p>
    </para>
    <para xml:id="A2.p2" fragid="A2.p2">
      <p>In each deterministic assignment, the couples occupy at most <Math mode="inline" xml:id="A2.p2.m1" tex="4mk" text="4 * m * k" fragid="A2.p2.m1"><XMath><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok meaning="4" role="NUMBER">4</XMTok><XMTok role="UNKNOWN" font="italic">m</XMTok><XMTok role="UNKNOWN" font="italic">k</XMTok></XMApp></XMath></Math> slots in the hospitals in <Math mode="inline" xml:id="A2.p2.m2" tex="\{h_{1},\ldots,h_{2m}\}" text="set@(h _ 1, ldots, h _ (2 * m))" fragid="A2.p2.m2"><XMath><XMDual><XMApp><XMTok meaning="set"/><XMRef idref="A2.p2.m2.2"/><XMRef idref="A2.p2.m2.1"/><XMRef idref="A2.p2.m2.3"/></XMApp><XMWrap><XMTok role="OPEN" stretchy="false">{</XMTok><XMApp xml:id="A2.p2.m2.2" fragid="A2.p2.m2.2"><XMTok role="SUBSCRIPTOP" scriptpos="post2"/><XMTok role="UNKNOWN" font="italic">h</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp><XMTok role="PUNCT">,</XMTok><XMTok name="ldots" role="ID" xml:id="A2.p2.m2.1" fragid="A2.p2.m2.1">…</XMTok><XMTok role="PUNCT">,</XMTok><XMApp xml:id="A2.p2.m2.3" fragid="A2.p2.m2.3"><XMTok role="SUBSCRIPTOP" scriptpos="post2"/><XMTok role="UNKNOWN" font="italic">h</XMTok><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok><XMTok role="UNKNOWN" font="italic">m</XMTok></XMApp></XMApp><XMTok role="CLOSE" stretchy="false">}</XMTok></XMWrap></XMDual></XMath></Math>, hence the singletons occupy at least <Math mode="inline" xml:id="A2.p2.m3" tex="2m" text="2 * m" fragid="A2.p2.m3"><XMath><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok><XMTok role="UNKNOWN" font="italic">m</XMTok></XMApp></XMath></Math> slots in <Math mode="inline" xml:id="A2.p2.m4" tex="\{h_{1},\ldots,h_{2m}\}" text="set@(h _ 1, ldots, h _ (2 * m))" fragid="A2.p2.m4"><XMath><XMDual><XMApp><XMTok meaning="set"/><XMRef idref="A2.p2.m4.2"/><XMRef idref="A2.p2.m4.1"/><XMRef idref="A2.p2.m4.3"/></XMApp><XMWrap><XMTok role="OPEN" stretchy="false">{</XMTok><XMApp xml:id="A2.p2.m4.2" fragid="A2.p2.m4.2"><XMTok role="SUBSCRIPTOP" scriptpos="post2"/><XMTok role="UNKNOWN" font="italic">h</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp><XMTok role="PUNCT">,</XMTok><XMTok name="ldots" role="ID" xml:id="A2.p2.m4.1" fragid="A2.p2.m4.1">…</XMTok><XMTok role="PUNCT">,</XMTok><XMApp xml:id="A2.p2.m4.3" fragid="A2.p2.m4.3"><XMTok role="SUBSCRIPTOP" scriptpos="post2"/><XMTok role="UNKNOWN" font="italic">h</XMTok><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok><XMTok role="UNKNOWN" font="italic">m</XMTok></XMApp></XMApp><XMTok role="CLOSE" stretchy="false">}</XMTok></XMWrap></XMDual></XMath></Math>. This is true for every assignment, hence true for their convex combination as well, meaning that some single
intern spends at least <Math mode="inline" xml:id="A2.p2.m5" tex="\frac{2m}{(2m)(2k+1)}=\frac{1}{2k+1}" text="(2 * m) / (2 * m * (2 * k + 1)) = 1 / (2 * k + 1)" fragid="A2.p2.m5"><XMath><XMApp><XMTok meaning="equals" role="RELOP">=</XMTok><XMApp><XMTok mathstyle="text" meaning="divide" role="MULOP"/><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok><XMTok role="UNKNOWN" font="italic">m</XMTok></XMApp><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMDual><XMRef idref="A2.p2.m5.1"/><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMApp xml:id="A2.p2.m5.1" fragid="A2.p2.m5.1"><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok><XMTok role="UNKNOWN" font="italic">m</XMTok></XMApp><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMDual><XMDual><XMRef idref="A2.p2.m5.2"/><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMApp xml:id="A2.p2.m5.2" fragid="A2.p2.m5.2"><XMTok meaning="plus" role="ADDOP">+</XMTok><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok><XMTok role="UNKNOWN" font="italic">k</XMTok></XMApp><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMDual></XMApp></XMApp><XMApp><XMTok mathstyle="text" meaning="divide" role="MULOP"/><XMTok meaning="1" role="NUMBER">1</XMTok><XMApp><XMTok meaning="plus" role="ADDOP">+</XMTok><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok><XMTok role="UNKNOWN" font="italic">k</XMTok></XMApp><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp></XMApp></XMApp></XMath></Math> of his probability in the hospitals in <Math mode="inline" xml:id="A2.p2.m6" tex="\{h_{1},\ldots,h_{2m}\}" text="set@(h _ 1, ldots, h _ (2 * m))" fragid="A2.p2.m6"><XMath><XMDual><XMApp><XMTok meaning="set"/><XMRef idref="A2.p2.m6.2"/><XMRef idref="A2.p2.m6.1"/><XMRef idref="A2.p2.m6.3"/></XMApp><XMWrap><XMTok role="OPEN" stretchy="false">{</XMTok><XMApp xml:id="A2.p2.m6.2" fragid="A2.p2.m6.2"><XMTok role="SUBSCRIPTOP" scriptpos="post2"/><XMTok role="UNKNOWN" font="italic">h</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp><XMTok role="PUNCT">,</XMTok><XMTok name="ldots" role="ID" xml:id="A2.p2.m6.1" fragid="A2.p2.m6.1">…</XMTok><XMTok role="PUNCT">,</XMTok><XMApp xml:id="A2.p2.m6.3" fragid="A2.p2.m6.3"><XMTok role="SUBSCRIPTOP" scriptpos="post2"/><XMTok role="UNKNOWN" font="italic">h</XMTok><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok><XMTok role="UNKNOWN" font="italic">m</XMTok></XMApp></XMApp><XMTok role="CLOSE" stretchy="false">}</XMTok></XMWrap></XMDual></XMath></Math>. Thus, the approximation cannot be better than <Math mode="inline" xml:id="A2.p2.m7" tex="\frac{2}{2k+1}=\left(\frac{2}{\underline{q}}\right)" text="2 / (2 * k + 1) = 2 / underline@(q)" fragid="A2.p2.m7"><XMath><XMApp><XMTok meaning="equals" role="RELOP">=</XMTok><XMApp><XMTok mathstyle="text" meaning="divide" role="MULOP"/><XMTok meaning="2" role="NUMBER">2</XMTok><XMApp><XMTok meaning="plus" role="ADDOP">+</XMTok><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok><XMTok role="UNKNOWN" font="italic">k</XMTok></XMApp><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp></XMApp><XMDual><XMRef idref="A2.p2.m7.1"/><XMWrap><XMTok role="OPEN">(</XMTok><XMApp xml:id="A2.p2.m7.1" fragid="A2.p2.m7.1"><XMTok mathstyle="text" meaning="divide" role="MULOP"/><XMTok meaning="2" role="NUMBER">2</XMTok><XMApp><XMTok name="underline" role="UNDERACCENT">¯</XMTok><XMTok role="UNKNOWN" font="italic">q</XMTok></XMApp></XMApp><XMTok role="CLOSE">)</XMTok></XMWrap></XMDual></XMApp></XMath></Math>.</p>
    </para>
    <table frefnum="Table 3" placement="htbp" refnum="3" xml:id="A2.T3" labels="LABEL:tab:smallProbsMatrix" fragid="A2.T3">
      <toccaption class="ltx_centering"><tag close=" ">3</tag>Target matrix for small probabilities example</toccaption>
      <caption class="ltx_centering"><tag close=": ">Table 3</tag>Target matrix for small probabilities example</caption>
      <ERROR class="ltx_centering undefined">{tabu}</ERROR>
      <p align="center">—c—c—c—c—c—c—c—
 <ERROR class="undefined">Align</ERROR> <Math mode="inline" xml:id="A2.T3.m1" tex="h_{1}" text="h _ 1" fragid="A2.T3.m1"><XMath><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">h</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp></XMath></Math> <ERROR class="undefined">Align</ERROR> <Math mode="inline" xml:id="A2.T3.m2" tex="\cdots" text="cdots" fragid="A2.T3.m2"><XMath><XMTok name="cdots" role="ID">⋯</XMTok></XMath></Math> <ERROR class="undefined">Align</ERROR> <Math mode="inline" xml:id="A2.T3.m3" tex="h_{2m}" text="h _ (2 * m)" fragid="A2.T3.m3"><XMath><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">h</XMTok><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok><XMTok role="UNKNOWN" font="italic">m</XMTok></XMApp></XMApp></XMath></Math> <ERROR class="undefined">Align</ERROR> <Math mode="inline" xml:id="A2.T3.m4" tex="h^{\prime}_{1}" text="(h ^ prime) _ 1" fragid="A2.T3.m4"><XMath><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">h</XMTok><XMTok name="prime" role="SUPOP">′</XMTok></XMApp><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp></XMath></Math> <ERROR class="undefined">Align</ERROR> <Math mode="inline" xml:id="A2.T3.m5" tex="\cdots" text="cdots" fragid="A2.T3.m5"><XMath><XMTok name="cdots" role="ID">⋯</XMTok></XMath></Math> <ERROR class="undefined">Align</ERROR> <Math mode="inline" xml:id="A2.T3.m6" tex="h^{\prime}_{2m}" text="(h ^ prime) _ (2 * m)" fragid="A2.T3.m6"><XMath><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post4"/><XMApp><XMTok role="SUPERSCRIPTOP" scriptpos="post4"/><XMTok role="UNKNOWN" font="italic">h</XMTok><XMTok name="prime" role="SUPOP">′</XMTok></XMApp><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok><XMTok role="UNKNOWN" font="italic">m</XMTok></XMApp></XMApp></XMath></Math> <break/></p>
      <p align="center"><Math mode="inline" xml:id="A2.T3.m7" tex="s_{1}" text="s _ 1" fragid="A2.T3.m7"><XMath><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post3"/><XMTok role="UNKNOWN" font="italic">s</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp></XMath></Math> <ERROR class="undefined">Align</ERROR> <Math mode="inline" xml:id="A2.T3.m8" tex="0" text="0" fragid="A2.T3.m8"><XMath><XMTok meaning="0" role="NUMBER">0</XMTok></XMath></Math> <ERROR class="undefined">Align</ERROR> <Math mode="inline" xml:id="A2.T3.m9" tex="\cdots" text="cdots" fragid="A2.T3.m9"><XMath><XMTok name="cdots" role="ID">⋯</XMTok></XMath></Math> <ERROR class="undefined">Align</ERROR> <Math mode="inline" xml:id="A2.T3.m10" tex="0" text="0" fragid="A2.T3.m10"><XMath><XMTok meaning="0" role="NUMBER">0</XMTok></XMath></Math> <ERROR class="undefined">Align</ERROR> <Math mode="inline" xml:id="A2.T3.m11" tex="1/(2m)" text="1 / (2 * m)" fragid="A2.T3.m11"><XMath><XMApp><XMTok mathstyle="inline" meaning="divide" role="MULOP">/</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok><XMDual><XMRef idref="A2.T3.m11.1"/><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMApp xml:id="A2.T3.m11.1" fragid="A2.T3.m11.1"><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok><XMTok role="UNKNOWN" font="italic">m</XMTok></XMApp><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMDual></XMApp></XMath></Math> <ERROR class="undefined">Align</ERROR> <Math mode="inline" xml:id="A2.T3.m12" tex="\cdots" text="cdots" fragid="A2.T3.m12"><XMath><XMTok name="cdots" role="ID">⋯</XMTok></XMath></Math> <ERROR class="undefined">Align</ERROR> <Math mode="inline" xml:id="A2.T3.m13" tex="1/(2m)" text="1 / (2 * m)" fragid="A2.T3.m13"><XMath><XMApp><XMTok mathstyle="inline" meaning="divide" role="MULOP">/</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok><XMDual><XMRef idref="A2.T3.m13.1"/><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMApp xml:id="A2.T3.m13.1" fragid="A2.T3.m13.1"><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok><XMTok role="UNKNOWN" font="italic">m</XMTok></XMApp><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMDual></XMApp></XMath></Math> <break/>⋮<ERROR class="undefined">Align</ERROR> <Math mode="inline" xml:id="A2.T3.m14" tex="0" text="0" fragid="A2.T3.m14"><XMath><XMTok meaning="0" role="NUMBER">0</XMTok></XMath></Math> <ERROR class="undefined">Align</ERROR> <Math mode="inline" xml:id="A2.T3.m15" tex="\cdots" text="cdots" fragid="A2.T3.m15"><XMath><XMTok name="cdots" role="ID">⋯</XMTok></XMath></Math> <ERROR class="undefined">Align</ERROR> <Math mode="inline" xml:id="A2.T3.m16" tex="0" text="0" fragid="A2.T3.m16"><XMath><XMTok meaning="0" role="NUMBER">0</XMTok></XMath></Math> <ERROR class="undefined">Align</ERROR> <Math mode="inline" xml:id="A2.T3.m17" tex="1/(2m)" text="1 / (2 * m)" fragid="A2.T3.m17"><XMath><XMApp><XMTok mathstyle="inline" meaning="divide" role="MULOP">/</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok><XMDual><XMRef idref="A2.T3.m17.1"/><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMApp xml:id="A2.T3.m17.1" fragid="A2.T3.m17.1"><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok><XMTok role="UNKNOWN" font="italic">m</XMTok></XMApp><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMDual></XMApp></XMath></Math> <ERROR class="undefined">Align</ERROR> <Math mode="inline" xml:id="A2.T3.m18" tex="\cdots" text="cdots" fragid="A2.T3.m18"><XMath><XMTok name="cdots" role="ID">⋯</XMTok></XMath></Math> <ERROR class="undefined">Align</ERROR> <Math mode="inline" xml:id="A2.T3.m19" tex="1/(2m)" text="1 / (2 * m)" fragid="A2.T3.m19"><XMath><XMApp><XMTok mathstyle="inline" meaning="divide" role="MULOP">/</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok><XMDual><XMRef idref="A2.T3.m19.1"/><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMApp xml:id="A2.T3.m19.1" fragid="A2.T3.m19.1"><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok><XMTok role="UNKNOWN" font="italic">m</XMTok></XMApp><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMDual></XMApp></XMath></Math> <break/><Math mode="inline" xml:id="A2.T3.m20" tex="s_{2m(2k+1)}" text="s _ (2 * m * (2 * k + 1))" fragid="A2.T3.m20"><XMath><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post3"/><XMTok role="UNKNOWN" font="italic">s</XMTok><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok><XMTok role="UNKNOWN" font="italic">m</XMTok><XMDual><XMRef idref="A2.T3.m20.1"/><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMApp xml:id="A2.T3.m20.1" fragid="A2.T3.m20.1"><XMTok meaning="plus" role="ADDOP">+</XMTok><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok><XMTok role="UNKNOWN" font="italic">k</XMTok></XMApp><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMDual></XMApp></XMApp></XMath></Math> <ERROR class="undefined">Align</ERROR> <Math mode="inline" xml:id="A2.T3.m21" tex="0" text="0" fragid="A2.T3.m21"><XMath><XMTok meaning="0" role="NUMBER">0</XMTok></XMath></Math> <ERROR class="undefined">Align</ERROR> <Math mode="inline" xml:id="A2.T3.m22" tex="\cdots" text="cdots" fragid="A2.T3.m22"><XMath><XMTok name="cdots" role="ID">⋯</XMTok></XMath></Math> <ERROR class="undefined">Align</ERROR> <Math mode="inline" xml:id="A2.T3.m23" tex="0" text="0" fragid="A2.T3.m23"><XMath><XMTok meaning="0" role="NUMBER">0</XMTok></XMath></Math> <ERROR class="undefined">Align</ERROR> <Math mode="inline" xml:id="A2.T3.m24" tex="1/(2m)" text="1 / (2 * m)" fragid="A2.T3.m24"><XMath><XMApp><XMTok mathstyle="inline" meaning="divide" role="MULOP">/</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok><XMDual><XMRef idref="A2.T3.m24.1"/><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMApp xml:id="A2.T3.m24.1" fragid="A2.T3.m24.1"><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok><XMTok role="UNKNOWN" font="italic">m</XMTok></XMApp><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMDual></XMApp></XMath></Math> <ERROR class="undefined">Align</ERROR> <Math mode="inline" xml:id="A2.T3.m25" tex="\cdots" text="cdots" fragid="A2.T3.m25"><XMath><XMTok name="cdots" role="ID">⋯</XMTok></XMath></Math> <ERROR class="undefined">Align</ERROR> <Math mode="inline" xml:id="A2.T3.m26" tex="1/(2m)" text="1 / (2 * m)" fragid="A2.T3.m26"><XMath><XMApp><XMTok mathstyle="inline" meaning="divide" role="MULOP">/</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok><XMDual><XMRef idref="A2.T3.m26.1"/><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMApp xml:id="A2.T3.m26.1" fragid="A2.T3.m26.1"><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok><XMTok role="UNKNOWN" font="italic">m</XMTok></XMApp><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMDual></XMApp></XMath></Math> <break/><ERROR class="undefined">\tabucline</ERROR>[1pt]-</p>
      <p align="center"><Math mode="inline" xml:id="A2.T3.m27" tex="c_{1,1}" text="c _ (list@(1, 1))" fragid="A2.T3.m27"><XMath><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post3"/><XMTok role="UNKNOWN" font="italic">c</XMTok><XMDual><XMApp><XMTok meaning="list"/><XMRef idref="A2.T3.m27.1"/><XMRef idref="A2.T3.m27.2"/></XMApp><XMWrap><XMTok meaning="1" role="NUMBER" xml:id="A2.T3.m27.1" fragid="A2.T3.m27.1">1</XMTok><XMTok role="PUNCT">,</XMTok><XMTok meaning="1" role="NUMBER" xml:id="A2.T3.m27.2" fragid="A2.T3.m27.2">1</XMTok></XMWrap></XMDual></XMApp></XMath></Math> <ERROR class="undefined">Align</ERROR> <Math mode="inline" xml:id="A2.T3.m28" tex="1/(2m)" text="1 / (2 * m)" fragid="A2.T3.m28"><XMath><XMApp><XMTok mathstyle="inline" meaning="divide" role="MULOP">/</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok><XMDual><XMRef idref="A2.T3.m28.1"/><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMApp xml:id="A2.T3.m28.1" fragid="A2.T3.m28.1"><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok><XMTok role="UNKNOWN" font="italic">m</XMTok></XMApp><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMDual></XMApp></XMath></Math> <ERROR class="undefined">Align</ERROR> <Math mode="inline" xml:id="A2.T3.m29" tex="\cdots" text="cdots" fragid="A2.T3.m29"><XMath><XMTok name="cdots" role="ID">⋯</XMTok></XMath></Math> <ERROR class="undefined">Align</ERROR> <Math mode="inline" xml:id="A2.T3.m30" tex="1/(2m)" text="1 / (2 * m)" fragid="A2.T3.m30"><XMath><XMApp><XMTok mathstyle="inline" meaning="divide" role="MULOP">/</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok><XMDual><XMRef idref="A2.T3.m30.1"/><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMApp xml:id="A2.T3.m30.1" fragid="A2.T3.m30.1"><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok><XMTok role="UNKNOWN" font="italic">m</XMTok></XMApp><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMDual></XMApp></XMath></Math> <ERROR class="undefined">Align</ERROR> <Math mode="inline" xml:id="A2.T3.m31" tex="0" text="0" fragid="A2.T3.m31"><XMath><XMTok meaning="0" role="NUMBER">0</XMTok></XMath></Math> <ERROR class="undefined">Align</ERROR> <Math mode="inline" xml:id="A2.T3.m32" tex="\cdots" text="cdots" fragid="A2.T3.m32"><XMath><XMTok name="cdots" role="ID">⋯</XMTok></XMath></Math> <ERROR class="undefined">Align</ERROR> <Math mode="inline" xml:id="A2.T3.m33" tex="0" text="0" fragid="A2.T3.m33"><XMath><XMTok meaning="0" role="NUMBER">0</XMTok></XMath></Math> <break/><Math mode="inline" xml:id="A2.T3.m34" tex="c_{1,2}" text="c _ (list@(1, 2))" fragid="A2.T3.m34"><XMath><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post3"/><XMTok role="UNKNOWN" font="italic">c</XMTok><XMDual><XMApp><XMTok meaning="list"/><XMRef idref="A2.T3.m34.1"/><XMRef idref="A2.T3.m34.2"/></XMApp><XMWrap><XMTok meaning="1" role="NUMBER" xml:id="A2.T3.m34.1" fragid="A2.T3.m34.1">1</XMTok><XMTok role="PUNCT">,</XMTok><XMTok meaning="2" role="NUMBER" xml:id="A2.T3.m34.2" fragid="A2.T3.m34.2">2</XMTok></XMWrap></XMDual></XMApp></XMath></Math> <ERROR class="undefined">Align</ERROR> <Math mode="inline" xml:id="A2.T3.m35" tex="1/(2m)" text="1 / (2 * m)" fragid="A2.T3.m35"><XMath><XMApp><XMTok mathstyle="inline" meaning="divide" role="MULOP">/</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok><XMDual><XMRef idref="A2.T3.m35.1"/><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMApp xml:id="A2.T3.m35.1" fragid="A2.T3.m35.1"><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok><XMTok role="UNKNOWN" font="italic">m</XMTok></XMApp><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMDual></XMApp></XMath></Math> <ERROR class="undefined">Align</ERROR> <Math mode="inline" xml:id="A2.T3.m36" tex="\cdots" text="cdots" fragid="A2.T3.m36"><XMath><XMTok name="cdots" role="ID">⋯</XMTok></XMath></Math> <ERROR class="undefined">Align</ERROR> <Math mode="inline" xml:id="A2.T3.m37" tex="1/(2m)" text="1 / (2 * m)" fragid="A2.T3.m37"><XMath><XMApp><XMTok mathstyle="inline" meaning="divide" role="MULOP">/</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok><XMDual><XMRef idref="A2.T3.m37.1"/><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMApp xml:id="A2.T3.m37.1" fragid="A2.T3.m37.1"><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok><XMTok role="UNKNOWN" font="italic">m</XMTok></XMApp><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMDual></XMApp></XMath></Math> <ERROR class="undefined">Align</ERROR> <Math mode="inline" xml:id="A2.T3.m38" tex="0" text="0" fragid="A2.T3.m38"><XMath><XMTok meaning="0" role="NUMBER">0</XMTok></XMath></Math> <ERROR class="undefined">Align</ERROR> <Math mode="inline" xml:id="A2.T3.m39" tex="\cdots" text="cdots" fragid="A2.T3.m39"><XMath><XMTok name="cdots" role="ID">⋯</XMTok></XMath></Math> <ERROR class="undefined">Align</ERROR> <Math mode="inline" xml:id="A2.T3.m40" tex="0" text="0" fragid="A2.T3.m40"><XMath><XMTok meaning="0" role="NUMBER">0</XMTok></XMath></Math> <break/>⋮<ERROR class="undefined">Align</ERROR> <Math mode="inline" xml:id="A2.T3.m41" tex="1/(2m)" text="1 / (2 * m)" fragid="A2.T3.m41"><XMath><XMApp><XMTok mathstyle="inline" meaning="divide" role="MULOP">/</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok><XMDual><XMRef idref="A2.T3.m41.1"/><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMApp xml:id="A2.T3.m41.1" fragid="A2.T3.m41.1"><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok><XMTok role="UNKNOWN" font="italic">m</XMTok></XMApp><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMDual></XMApp></XMath></Math> <ERROR class="undefined">Align</ERROR> <Math mode="inline" xml:id="A2.T3.m42" tex="\cdots" text="cdots" fragid="A2.T3.m42"><XMath><XMTok name="cdots" role="ID">⋯</XMTok></XMath></Math> <ERROR class="undefined">Align</ERROR> <Math mode="inline" xml:id="A2.T3.m43" tex="1/(2m)" text="1 / (2 * m)" fragid="A2.T3.m43"><XMath><XMApp><XMTok mathstyle="inline" meaning="divide" role="MULOP">/</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok><XMDual><XMRef idref="A2.T3.m43.1"/><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMApp xml:id="A2.T3.m43.1" fragid="A2.T3.m43.1"><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok><XMTok role="UNKNOWN" font="italic">m</XMTok></XMApp><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMDual></XMApp></XMath></Math> <ERROR class="undefined">Align</ERROR> <Math mode="inline" xml:id="A2.T3.m44" tex="0" text="0" fragid="A2.T3.m44"><XMath><XMTok meaning="0" role="NUMBER">0</XMTok></XMath></Math> <ERROR class="undefined">Align</ERROR> <Math mode="inline" xml:id="A2.T3.m45" tex="\cdots" text="cdots" fragid="A2.T3.m45"><XMath><XMTok name="cdots" role="ID">⋯</XMTok></XMath></Math> <ERROR class="undefined">Align</ERROR> <Math mode="inline" xml:id="A2.T3.m46" tex="0" text="0" fragid="A2.T3.m46"><XMath><XMTok meaning="0" role="NUMBER">0</XMTok></XMath></Math> <break/><Math mode="inline" xml:id="A2.T3.m47" tex="c_{{m(2k+1)},1}" text="c _ (list@(m * (2 * k + 1), 1))" fragid="A2.T3.m47"><XMath><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post3"/><XMTok role="UNKNOWN" font="italic">c</XMTok><XMDual><XMApp><XMTok meaning="list"/><XMRef idref="A2.T3.m47.2"/><XMRef idref="A2.T3.m47.1"/></XMApp><XMWrap><XMApp xml:id="A2.T3.m47.2" fragid="A2.T3.m47.2"><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok role="UNKNOWN" font="italic">m</XMTok><XMDual><XMRef idref="A2.T3.m47.2.1"/><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMApp xml:id="A2.T3.m47.2.1" fragid="A2.T3.m47.2.1"><XMTok meaning="plus" role="ADDOP">+</XMTok><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok><XMTok role="UNKNOWN" font="italic">k</XMTok></XMApp><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMDual></XMApp><XMTok role="PUNCT">,</XMTok><XMTok meaning="1" role="NUMBER" xml:id="A2.T3.m47.1" fragid="A2.T3.m47.1">1</XMTok></XMWrap></XMDual></XMApp></XMath></Math> <ERROR class="undefined">Align</ERROR> <Math mode="inline" xml:id="A2.T3.m48" tex="1/(2m)" text="1 / (2 * m)" fragid="A2.T3.m48"><XMath><XMApp><XMTok mathstyle="inline" meaning="divide" role="MULOP">/</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok><XMDual><XMRef idref="A2.T3.m48.1"/><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMApp xml:id="A2.T3.m48.1" fragid="A2.T3.m48.1"><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok><XMTok role="UNKNOWN" font="italic">m</XMTok></XMApp><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMDual></XMApp></XMath></Math> <ERROR class="undefined">Align</ERROR> <Math mode="inline" xml:id="A2.T3.m49" tex="\cdots" text="cdots" fragid="A2.T3.m49"><XMath><XMTok name="cdots" role="ID">⋯</XMTok></XMath></Math> <ERROR class="undefined">Align</ERROR> <Math mode="inline" xml:id="A2.T3.m50" tex="1/(2m)" text="1 / (2 * m)" fragid="A2.T3.m50"><XMath><XMApp><XMTok mathstyle="inline" meaning="divide" role="MULOP">/</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok><XMDual><XMRef idref="A2.T3.m50.1"/><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMApp xml:id="A2.T3.m50.1" fragid="A2.T3.m50.1"><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok><XMTok role="UNKNOWN" font="italic">m</XMTok></XMApp><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMDual></XMApp></XMath></Math> <ERROR class="undefined">Align</ERROR> <Math mode="inline" xml:id="A2.T3.m51" tex="0" text="0" fragid="A2.T3.m51"><XMath><XMTok meaning="0" role="NUMBER">0</XMTok></XMath></Math> <ERROR class="undefined">Align</ERROR> <Math mode="inline" xml:id="A2.T3.m52" tex="\cdots" text="cdots" fragid="A2.T3.m52"><XMath><XMTok name="cdots" role="ID">⋯</XMTok></XMath></Math> <ERROR class="undefined">Align</ERROR> <Math mode="inline" xml:id="A2.T3.m53" tex="0" text="0" fragid="A2.T3.m53"><XMath><XMTok meaning="0" role="NUMBER">0</XMTok></XMath></Math> <break/><Math mode="inline" xml:id="A2.T3.m54" tex="c_{{m(2k+1)},2}" text="c _ (list@(m * (2 * k + 1), 2))" fragid="A2.T3.m54"><XMath><XMApp><XMTok role="SUBSCRIPTOP" scriptpos="post3"/><XMTok role="UNKNOWN" font="italic">c</XMTok><XMDual><XMApp><XMTok meaning="list"/><XMRef idref="A2.T3.m54.2"/><XMRef idref="A2.T3.m54.1"/></XMApp><XMWrap><XMApp xml:id="A2.T3.m54.2" fragid="A2.T3.m54.2"><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok role="UNKNOWN" font="italic">m</XMTok><XMDual><XMRef idref="A2.T3.m54.2.1"/><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMApp xml:id="A2.T3.m54.2.1" fragid="A2.T3.m54.2.1"><XMTok meaning="plus" role="ADDOP">+</XMTok><XMApp><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok><XMTok role="UNKNOWN" font="italic">k</XMTok></XMApp><XMTok meaning="1" role="NUMBER">1</XMTok></XMApp><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMDual></XMApp><XMTok role="PUNCT">,</XMTok><XMTok meaning="2" role="NUMBER" xml:id="A2.T3.m54.1" fragid="A2.T3.m54.1">2</XMTok></XMWrap></XMDual></XMApp></XMath></Math> <ERROR class="undefined">Align</ERROR> <Math mode="inline" xml:id="A2.T3.m55" tex="1/(2m)" text="1 / (2 * m)" fragid="A2.T3.m55"><XMath><XMApp><XMTok mathstyle="inline" meaning="divide" role="MULOP">/</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok><XMDual><XMRef idref="A2.T3.m55.1"/><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMApp xml:id="A2.T3.m55.1" fragid="A2.T3.m55.1"><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok><XMTok role="UNKNOWN" font="italic">m</XMTok></XMApp><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMDual></XMApp></XMath></Math> <ERROR class="undefined">Align</ERROR> <Math mode="inline" xml:id="A2.T3.m56" tex="\cdots" text="cdots" fragid="A2.T3.m56"><XMath><XMTok name="cdots" role="ID">⋯</XMTok></XMath></Math> <ERROR class="undefined">Align</ERROR> <Math mode="inline" xml:id="A2.T3.m57" tex="1/(2m)" text="1 / (2 * m)" fragid="A2.T3.m57"><XMath><XMApp><XMTok mathstyle="inline" meaning="divide" role="MULOP">/</XMTok><XMTok meaning="1" role="NUMBER">1</XMTok><XMDual><XMRef idref="A2.T3.m57.1"/><XMWrap><XMTok role="OPEN" stretchy="false">(</XMTok><XMApp xml:id="A2.T3.m57.1" fragid="A2.T3.m57.1"><XMTok meaning="times" role="MULOP">⁢</XMTok><XMTok meaning="2" role="NUMBER">2</XMTok><XMTok role="UNKNOWN" font="italic">m</XMTok></XMApp><XMTok role="CLOSE" stretchy="false">)</XMTok></XMWrap></XMDual></XMApp></XMath></Math> <ERROR class="undefined">Align</ERROR> <Math mode="inline" xml:id="A2.T3.m58" tex="0" text="0" fragid="A2.T3.m58"><XMath><XMTok meaning="0" role="NUMBER">0</XMTok></XMath></Math> <ERROR class="undefined">Align</ERROR> <Math mode="inline" xml:id="A2.T3.m59" tex="\cdots" text="cdots" fragid="A2.T3.m59"><XMath><XMTok name="cdots" role="ID">⋯</XMTok></XMath></Math> <ERROR class="undefined">Align</ERROR> <Math mode="inline" xml:id="A2.T3.m60" tex="0" text="0" fragid="A2.T3.m60"><XMath><XMTok meaning="0" role="NUMBER">0</XMTok></XMath></Math> <break/><ERROR class="undefined">\tabucline</ERROR>[1pt]-</p>
      <!-- %**** MasterThesis.tex Line 750 **** -->
    </table>
    <!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
  </appendix>
</document>
